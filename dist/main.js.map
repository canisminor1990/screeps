{"version":3,"sources":["webpack:///webpack/bootstrap f44c9d9782be1eec90b8","webpack:///./src/_util/index.js","webpack:///./src/task/index.js","webpack:///./src/task/_container.js","webpack:///./~/screeps-perf/screeps-perf.js","webpack:///./src/manager/index.js","webpack:///./src/_util/_action.js","webpack:///./src/_util/_build.js","webpack:///./src/_util/_emoji.js","webpack:///./src/_util/_isFriend.js","webpack:///./src/_util/_timer.js","webpack:///./src/action/_attack.js","webpack:///./src/action/_build.js","webpack:///./src/action/_claimController.js","webpack:///./src/action/_dismantle.js","webpack:///./src/action/_harvest.js","webpack:///./src/action/_heal.js","webpack:///./src/action/_pickup.js","webpack:///./src/action/_repair.js","webpack:///./src/action/_transfer.js","webpack:///./src/action/_upgradeController.js","webpack:///./src/action/index.js","webpack:///./src/config.js","webpack:///./src/manager/_memory/_creeps.js","webpack:///./src/manager/_memory/_dropped.js","webpack:///./src/manager/_memory/_sources.js","webpack:///./src/manager/_memory/_structures.js","webpack:///./src/manager/_memory/index.js","webpack:///./src/manager/_role.js","webpack:///./src/manager/_root.js","webpack:///./src/manager/_structure.js","webpack:///./src/role/_builder.js","webpack:///./src/role/_claim.js","webpack:///./src/role/_cleaner.js","webpack:///./src/role/_farBuilder.js","webpack:///./src/role/_farHarvester.js","webpack:///./src/role/_farMiner.js","webpack:///./src/role/_harvester.js","webpack:///./src/role/_miner.js","webpack:///./src/role/_upgrader.js","webpack:///./src/role/index.js","webpack:///./src/structure/_spawn.js","webpack:///./src/structure/_tower.js","webpack:///./src/structure/index.js","webpack:///./src/task/_findMiner.js","webpack:///./src/task/_harvester.js","webpack:///./src/task/_pathFinder.js","webpack:///./src/main.js"],"names":["default","creep","targetsStorage","Game","getObjectById","store","storeCapacity","transfer","RESOURCE_ENERGY","ERR_NOT_IN_RANGE","moveTo","reusePath","visualizePathStyle","stroke","controller","room","upgradeController","originalFindPath","Room","prototype","findPath","setup","creepMemoryCleanUp","time","Memory","screepsPerf","lastMemoryCleanUp","Object","keys","creeps","forEach","creepName","undefined","module","exports","options","speedUpArrayFunctions","Array","filter","callback","thisArg","results","arr","iterator","length","call","push","map","returnVal","cleanUpCreepMemory","originalCreateCreep","Spawn","createCreep","apply","arguments","optimizePathFinding","roomPositionIdentifier","roomPosition","roomName","x","y","fromPos","toPos","pathOptimizer","lastCleaned","_cleanedUp","key","val","used","tick","pathIdentifier","path","serializePath","deserializePath","target","fc","text","OK","say","ERR_NOT_OWNER","ERR_NO_PATH","ERR_NAME_EXISTS","ERR_BUSY","ERR_NOT_FOUND","ERR_NOT_ENOUGH_ENERGY","ERR_NOT_ENOUGH_RESOURCES","ERR_INVALID_TARGET","ERR_FULL","pathFinder","ERR_INVALID_ARGS","ERR_TIRED","ERR_NO_BODYPART","ERR_NOT_ENOUGH_EXTENSIONS","ERR_RCL_NOT_ENOUGH","ERR_GCL_NOT_ENOUGH","type","console","log","spawns","createConstructionSite","join","attack","unescape","harvest","error","move","build","repair","claim","heal","pickup","withdraw","upgrade","recycle","dismantle","friends","owner","toString","match","timer","rawTarget","_","compact","claimController","rooms","needBuild","memory","structures","percent","maxHits","role","body","tough","roleTimeout","number","priority","work","carry","sort","a","b","config","find","FIND_CREEPS","creepsMyRaw","my","creepsOther","creepsMy","creepRole","friend","username","enemy","configRole","name","split","resources","FIND_DROPPED_RESOURCES","energy","resource","resourceType","miner","rawSources","FIND_SOURCES","sources","minerNumber","harvestTarget","source","id","FIND_STRUCTURES","structuresStorage","storage","structuresMy","structure","structuresOther","structuresContainer","structureType","STRUCTURE_CONTAINER","structuresDocker","concat","terminal","tower","STRUCTURE_TOWER","spawn","STRUCTURE_SPAWN","container","canWithdraw","canFill","needFill","STRUCTURE_EXTENSION","energyCapacity","needFix","STRUCTURE_ROAD","STRUCTURE_WALL","hits","hitsMax","FIND_MY_CONSTRUCTION_SITES","roomArrary","each","energyAvailable","dropped","targetStructures","myCreeps","newRoom","pos","RoomPosition","harvester","upgrader","builder","cleaner","farBuilder","farHarvester","farMiner","roomArray","roomNext","nextMemory","targetCreeps","merge","canBuild","carryCapacity","buildTarget","findClosestByRange","transferTarget","needFillTarget","reserveController","pickupTarget","findClosestByPath","enengy","newRoomMemory","enemyTarget","full","farMinerTarget","canHarvest","targets","findInRange","targetCreep","upgrading","spawning","visual","align","opacity","roleFactory","roleName","roleType","roleMy","roleCreep","ticksToLive","roleNumber","spawnName","buildName","buildBody","date","Date","getHours","getMinutes","getSeconds","obj","array","num","taskFindMiner","STRUCTURE_STORAGE","targetsBuild","constructionSites","builderTargets","FIND_MY_CREEPS","color","fatigue","serializeMemory","Manager","loop","root"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 46);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f44c9d9782be1eec90b8","export { default as Timer } from './_timer'\nexport { default as Build } from './_build'\nexport { default as emoji } from './_emoji'\nexport { default as action } from './_action'\nexport { default as isFriend } from './_isFriend'\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/index.js","export {default as taskFindMiner} from './_findMiner'\nexport {default as taskContainer} from './_container'\nexport {default as taskHarvester} from './_harvester'\nexport {default as pathFinder} from './_pathFinder'\n\n\n// WEBPACK FOOTER //\n// ./src/task/index.js","export default (creep) => {\n\t\"use strict\";\n\tconst targetsStorage = Game.getObjectById('58d07b35bfeec6256575be5d')\n\tif (targetsStorage.store['energy'] < targetsStorage.storeCapacity) {\n\t\t(creep.transfer(targetsStorage, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) ?\n\t\tcreep.moveTo(targetsStorage, {reusePath: 8, visualizePathStyle: {stroke: '#3f51b5'}}) : null\n\t} else {\n\t\tconst controller = creep.room.controller;\n\t\t(creep.upgradeController(controller) == ERR_NOT_IN_RANGE) ?\n\t\tcreep.moveTo(controller, {reusePath: 8, visualizePathStyle: {stroke: '#ffffff'}}) : null\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/task/_container.js","var originalFindPath = Room.prototype.findPath;\r\nvar setup = false;\r\n\r\nfunction creepMemoryCleanUp() {\r\n  if (Game.time - Memory.screepsPerf.lastMemoryCleanUp > 100) {\r\n    Object.keys(Memory.creeps).forEach(creepName => {\r\n      if (!Game.creeps[creepName]) {\r\n        Memory.creeps[creepName] = undefined;\r\n      }\r\n    });\r\n    Memory.screepsPerf.lastMemoryCleanUp = Game.time;\r\n  }\r\n};\r\n\r\nmodule.exports = function(options) {\r\n  if (!setup) {\r\n    options = options || {};\r\n    Memory.screepsPerf = Memory.screepsPerf || {\r\n      lastMemoryCleanUp: Game.time\r\n    };\r\n\r\n    if (options.speedUpArrayFunctions || options.speedUpArrayFunctions === undefined) {\r\n      Array.prototype.filter = function(callback, thisArg) {\r\n        var results = [];\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          if (callback.call(thisArg, arr[iterator], iterator, arr)) {\r\n            results.push(arr[iterator]);\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n\r\n      Array.prototype.forEach = function(callback, thisArg) {\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          callback.call(thisArg, arr[iterator], iterator, arr);\r\n        }\r\n      };\r\n\r\n      Array.prototype.map = function(callback, thisArg) {\r\n        var arr = this;\r\n        var returnVal = [];\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          returnVal.push(callback.call(thisArg, arr[iterator], iterator, arr));\r\n        }\r\n        return returnVal;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creep memory clean up... this speeds up the initial memory parse each tick.\r\n     */\r\n    if (options.cleanUpCreepMemory || options.cleanUpCreepMemory === undefined) {\r\n      // Monkey patch creating creeps so that we can clean up their memory without forcing the user to make a call.\r\n      var originalCreateCreep = Spawn.prototype.createCreep;\r\n      Spawn.prototype.createCreep = function() {\r\n        creepMemoryCleanUp();\r\n        return originalCreateCreep.apply(this, arguments);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * FIND PATH OPTIMIZATION\r\n     * This cache's the built in findPath results in memory and reuses them as long as that same path is used at least 1/300 ticks.\r\n     * The cached path is also refreshed every 2000 ticks.  This helps to ensure that creeps respond to changing room terrain.\r\n     */\r\n    if (options.optimizePathFinding || options.optimizePathFinding === undefined) {\r\n      function roomPositionIdentifier(roomPosition) {\r\n        return roomPosition.roomName + 'x' + roomPosition.x + 'y' + roomPosition.y;\r\n      };\r\n\r\n      Room.prototype.findPath = function(fromPos, toPos, options) {\r\n        creepMemoryCleanUp();\r\n        if (!Memory.pathOptimizer) {\r\n          Memory.pathOptimizer = { lastCleaned: Game.time};\r\n        }\r\n\r\n        if (Game.time - Memory.pathOptimizer.lastCleaned > 40 && !this._cleanedUp) {\r\n          var keys = Object.keys(Memory.pathOptimizer);\r\n          keys.forEach((key) => {\r\n            var val = Memory.pathOptimizer[key];\r\n            if (val && ((val.used / (Game.time - val.tick) < 1 / 300) || Game.time - val.tick > 2000)) {\r\n              Memory.pathOptimizer[key] = undefined;\r\n            }\r\n          });\r\n          this._cleanedUp = true;\r\n          Memory.pathOptimizer.lastCleaned = Game.time;\r\n        }\r\n\r\n        var pathIdentifier = roomPositionIdentifier(fromPos) + roomPositionIdentifier(toPos);\r\n        if (!Memory.pathOptimizer[pathIdentifier]) {\r\n          var path = originalFindPath.apply(this, arguments);\r\n          Memory.pathOptimizer[pathIdentifier] = {\r\n            tick: Game.time,\r\n            path: Room.serializePath(path),\r\n            used: 1\r\n          }\r\n        } else {\r\n          Memory.pathOptimizer[pathIdentifier].used++;\r\n        }\r\n\r\n        return Room.deserializePath(Memory.pathOptimizer[pathIdentifier].path);\r\n      }\r\n    }\r\n    setup = true;\r\n  }\r\n\r\n  return {\r\n    originalFindPath: originalFindPath\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/screeps-perf/screeps-perf.js","export { default as root } from './_root'\nexport { default as memory } from './_memory'\nexport { default as structure } from './_structure'\nexport { default as role } from './_role'\n\n\n// WEBPACK FOOTER //\n// ./src/manager/index.js","export default (creep, target, fc, text) => {\n\tswitch (fc) {\n\t\tcase OK:\n\t\t\tif (text) creep.say(text);\n\t\t\tbreak;\n\t\tcase ERR_NOT_OWNER             :\n\t\t\tcreep.say(\"NOT_OWNER\");\n\t\t\tbreak;\n\t\tcase ERR_NO_PATH               :\n\t\t\tcreep.say(\"NO_PATH\");\n\t\t\tbreak;\n\t\tcase ERR_NAME_EXISTS           :\n\t\t\tcreep.say(\"NAME_EXISTS\");\n\t\t\tbreak;\n\t\tcase ERR_BUSY                  :\n\t\t\tcreep.say(\"BUSY\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_FOUND             :\n\t\t\tcreep.say(\"NOT_FOUND\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_ENERGY     :\n\t\t\tcreep.say(\"NOT_ENOUGH_ENERGY\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_RESOURCES  :\n\t\t\tcreep.say(\"NOT_ENOUGH_RESOURCES\");\n\t\t\tbreak;\n\t\tcase ERR_INVALID_TARGET        :\n\t\t\tcreep.say(\"INVALID_TARGET\");\n\t\t\tbreak;\n\t\tcase ERR_FULL                  :\n\t\t\tcreep.say(\"FULL\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_IN_RANGE          :\n\t\t\tpathFinder(creep, target)\n\t\t\tbreak;\n\t\tcase ERR_INVALID_ARGS          :\n\t\t\tcreep.say(\"INVALID_ARGS\");\n\t\t\tbreak;\n\t\tcase ERR_TIRED                 :\n\t\t\tcreep.say(\"TIRED\");\n\t\t\tbreak;\n\t\tcase ERR_NO_BODYPART           :\n\t\t\tcreep.say(\"NO_BODYPART\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_EXTENSIONS :\n\t\t\tcreep.say(\"NOT_ENOUGH_EXTENSIONS\");\n\t\t\tbreak;\n\t\tcase ERR_RCL_NOT_ENOUGH        :\n\t\t\tcreep.say(\"RCL_NOT_ENOUGH\");\n\t\t\tbreak;\n\t\tcase ERR_GCL_NOT_ENOUGH        :\n\t\t\tcreep.say(\"GCL_NOT_ENOUGH\");\n\t\t\tbreak;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_action.js","export default (x, y, type) => {\n\tif (x && y && type) {\n\t\tconsole.log(`[Build] ${type} in x:${x} y:${y}`,Game.spawns['Spawn1'].room.createConstructionSite(x, y, type))\n\t} else {\n\t\tconsole.log(\n\t\t\t\t`You can build: ` +\n\t\t\t\t['spawn',\n\t\t\t\t 'extension',\n\t\t\t\t 'road',\n\t\t\t\t 'constructedWall',\n\t\t\t\t 'rampart',\n\t\t\t\t 'keeperLair',\n\t\t\t\t 'portal',\n\t\t\t\t 'controller',\n\t\t\t\t 'link',\n\t\t\t\t 'storage',\n\t\t\t\t 'tower',\n\t\t\t\t 'observer',\n\t\t\t\t 'powerBank',\n\t\t\t\t 'powerSpawn',\n\t\t\t\t 'extractor',\n\t\t\t\t 'lab',\n\t\t\t\t 'terminal',\n\t\t\t\t 'container',\n\t\t\t\t 'nuker'].join('|')\n\t\t)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_build.js","export default {\n\tattack   : unescape(\"%uD83D%uDD2B\"),\n\tharvest  : unescape(\"%u26CF\"),\n\terror    : unescape(\"%u274C\"),\n\tmove     : unescape(\"%uD83D%uDEB6\"),\n\ttransfer : unescape(\"%uD83E%uDD1D\"),\n\tbuild    : unescape(\"%uD83D%uDEA7\"),\n\trepair   : unescape(\"%uD83D%uDD27\"),\n\tclaim    : unescape(\"%uD83D%uDEA9\"),\n\theal     : unescape(\"%uD83D%uDC9A\"),\n\tpickup   : unescape(\"%uD83E%uDD33\"),\n\twithdraw : unescape(\"%uD83E%uDD33\"),\n\tupgrade  : unescape(\"%uD83D%uDE80\"),\n\trecycle  : unescape(\"%uD83D%uDD04\"),\n\tdismantle: unescape(\"%u2B55\")\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_emoji.js","const friends = [\n\t\"Ruo\",\n\t\"FanHua\"\n];\nexport default (owner) => {\n\tif (!owner || owner == 'Invader') return false;\n\treturn (friends.toString().match(owner)) ? true : false\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_isFriend.js","export default (tick) => {\n    if (Memory.timer[tick] && Game.time - Memory.timer[tick] < tick) return false;\n    Memory.timer[tick] = Game.time;\n    return true\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_timer.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.attack(target), emoji.attack)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_attack.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.build(target), emoji.build);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_build.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.claimController(target), emoji.claim)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_claimController.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.dismantle(target), emoji.dismantle);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_dismantle.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.harvest(target), emoji.harvest);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_harvest.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.heal(target), emoji.heal)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_heal.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.pickup(target), emoji.pickup);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_pickup.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.repair(target), emoji.repair);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_repair.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget, type = RESOURCE_ENERGY) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.transfer(target, type), emoji.transfer);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_transfer.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.upgradeController(target), emoji.upgrade);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_upgradeController.js","export { default as attack } from \"./_attack\"\nexport { default as heal } from \"./_heal\"\n//\nexport { default as build } from \"./_build\"\nexport { default as repair } from \"./_repair\"\nexport { default as dismantle } from \"./_dismantle\"\n//\nexport { default as harvest } from \"./_harvest\"\nexport { default as pickup } from \"./_pickup\"\nexport { default as transfer } from \"./_transfer\"\n//\nexport { default as upgradeController } from \"./_upgradeController\"\nexport { default as claimController } from \"./_claimController\"\n\n\n\n// WEBPACK FOOTER //\n// ./src/action/index.js","export default (room = Game.rooms['W81S67']) => {\n\tconst needBuild = room.memory.structures.needBuild;\n\tconst repair    = {\n\t\tpercent: 0.5,\n\t\tmaxHits: 10000,\n\t}\n\tconst role      = [\n\t\t{\n\t\t\trole    : \"claim\",\n\t\t\tbody    : {tough: 1, move: 1, claim: 1},\n\t\t\troleTimeout: 100,\n\t\t\tnumber  : 1,\n\t\t\tpriority: 7\n\t\t},\n\t\t{\n\t\t\trole    : \"farMiner\",\n\t\t\tbody    : {move: 2, work: 4, carry: 2},\n\t\t\troleTimeout: 50,\n\t\t\tnumber  : 1,\n\t\t\tpriority: 4\n\t\t},\n\t\t{\n\t\t\trole    : 'farHarvester',\n\t\t\tbody    : {tough: 1, move: 3, carry: 4, attack: 1},\n\t\t\tnumber  : 3,\n\t\t\tpriority: 5\n\t\t}, {\n\t\t\trole    : 'farBuilder',\n\t\t\tbody    : {carry: 9, work: 3, move: 3},\n\t\t\tnumber  : 1,\n\t\t\tpriority: 5\n\t\t},\n\t\t{\n\t\t\trole    : 'harvester',\n\t\t\tbody    : {carry: 12, move: 4},\n\t\t\tnumber  : 4,\n\t\t\tpriority: 2\n\t\t},\n\t\t{\n\t\t\trole    : 'upgrader',\n\t\t\tbody    : {carry: 2, work: 4, move: 1},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 3\n\t\t},\n\t\t{\n\t\t\trole    : 'builder',\n\t\t\tbody    : {work: 3, carry: 3, move: 3},\n\t\t\tnumber  : (needBuild.length > 0) ? 1 : 0,\n\t\t\tpriority: 6\n\t\t},\n\t\t{\n\t\t\trole    : \"miner\",\n\t\t\tbody    : {carry: 1, work: 8, move: 2},\n\t\t\tnumber  : 2,\n\t\t\troleTimeout:20,\n\t\t\tpriority: 1\n\t\t},\n\t\t{\n\t\t\trole    : 'cleaner',\n\t\t\tbody    : {carry: 2, move: 1},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 0\n\t\t}\n\t]\n\n\treturn {\n\t\trole  : role.sort((a, b) => a.priority - b.priority),\n\t\trepair: repair,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import { isFriend } from '../../_util';\n\nexport default (room, config) => {\n\tconst creeps      = room.find(FIND_CREEPS),\n\t      creepsMyRaw = _.filter(creeps, creep => creep.my),\n\t      creepsOther = _.filter(creeps, creep => !creep.my),\n\t      creepsMy    = creepRole(creepsMyRaw, config.role);\n\n\treturn {\n\t\tmy    : creepsMy,\n\t\tfriend: _.filter(creepsOther, creep => isFriend(creep.owner.username)),\n\t\tenemy : _.filter(creepsOther, creep => !isFriend(creep.owner.username))\n\t}\n}\n\nfunction creepRole(creepsMyRaw, configRole) {\n\tlet creepsMy = {}\n\tconfigRole.forEach(role => {\n\t\tcreepsMy[role.role] = _.filter(creepsMyRaw, creep => creep.name.split('#')[0] == role.role)\n\t})\n\treturn creepsMy\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_creeps.js","export default (room) => {\n\tconst resources = room.find(FIND_DROPPED_RESOURCES)\n\treturn {\n\t\tresources: resources,\n\t\tenergy   : _.filter(resources, resource => resource.resourceType == RESOURCE_ENERGY)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_dropped.js","export default (room, miner) => {\n\tconst rawSources = room.find(FIND_SOURCES);\n\tlet sources      = []\n\trawSources.forEach(source => {\n\t\t                   let minerNumber = 0;\n\t\t                   miner.forEach(creep => {\n\t\t\t                                 (creep.memory.harvestTarget == source.id) ?\n\t\t\t                                 minerNumber++ : null\n\t\t                                 }\n\t\t                   )\n\t\t                   sources.push({\n\t\t\t                                source     : source,\n\t\t\t                                minerNumber: minerNumber\n\t\t                                })\n\t                   }\n\t)\n\tif (sources.length > 0) {\n\t\tsources.sort((a, b) => a.minerNumber - b.minerNumber)\n\t}\n\treturn sources\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_sources.js","export default (room, config) => {\n\n\tconst structures          = room.find(FIND_STRUCTURES),\n\t      structuresStorage   = room.storage,\n\t      structuresMy        = _.filter(structures, structure => structure.my),\n\t      structuresOther     = _.filter(structures, structure => !structure.my),\n\t      structuresContainer = _.filter(structuresOther, structure => structure.structureType == STRUCTURE_CONTAINER);\n\n\tlet structuresDocker = structuresContainer.concat([structuresStorage]);\n\n\treturn {\n\t\tterminal   : room.terminal,\n\t\tcontroller : room.controller,\n\t\tstorage    : structuresStorage,\n\t\ttower      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_TOWER)[0],\n\t\tspawn      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_SPAWN)[0],\n\t\tcontainer  : _.filter(structuresOther, structure => structure.structureType == STRUCTURE_CONTAINER),\n\t\tcanWithdraw: (structuresDocker[0] != null) ? _.filter(structuresDocker, structure => structure.store.energy > 0) : [],\n\t\tcanFill    : (structuresDocker[0] != null) ? _.filter(structuresDocker, structure => structure.store.energy < structure.storeCapacity) : [],\n\t\tneedFill   : _.filter(structuresMy, structure => (\n\t\t                                                 structure.structureType == STRUCTURE_EXTENSION ||\n\t\t                                                 structure.structureType == STRUCTURE_SPAWN ||\n\t\t                                                 structure.structureType == STRUCTURE_TOWER ) &&\n\t\t                                                 structure.energy < structure.energyCapacity),\n\t\tneedFix    : _.filter(structures, structure =>\n\t\t( structure.my || structure.structureType == STRUCTURE_ROAD || structure.structureType == STRUCTURE_WALL ) &&\n\t\t(structure.hits / structure.hitsMax) < config.repair.percent && structure.hits < config.repair.maxHits)\n\t\t              .sort((a, b) => a.hits - b.hits),\n\t\tneedBuild  : room.find(FIND_MY_CONSTRUCTION_SITES),\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_structures.js","import configRaw from \"../../config\"\nimport creepsRaw from \"./_creeps\"\nimport structures from \"./_structures\"\nimport sources from \"./_sources\"\nimport dropped from \"./_dropped\"\nexport default (roomArrary) => {\n\t_.each(roomArrary, room => {\n\t\troom = Game.rooms[room];\n\t\tconst config = configRaw(room);\n\t\tconst creeps = creepsRaw(room, config)\n\t\tconst memory = {\n\t\t\tenergyAvailable: room.energyAvailable,\n\t\t\tconfig         : config,\n\t\t\tcreeps         : creeps,\n\t\t\tstructures     : structures(room, config),\n\t\t\tsources        : sources(room, creeps.my.miner),\n\t\t\tdropped        : dropped(room),\n\t\t}\n\t\troom.memory  = memory;\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/index.js","import * as role from '../role';\nexport default (roomArrary) => {\n\n\t_.each(roomArrary, room => {\n\t\troom = Game.rooms[room];\n\t\tconst Memory           = room.memory;\n\t\tconst targetStructures = Memory.structures;\n\t\tconst myCreeps         = Memory.creeps.my;\n\t\tconst dropped          = (Memory.dropped) ? Memory.dropped.energy : [];\n\n\t\tconst newRoom = {\n\t\t\tpos   : new RoomPosition(25, 47, roomArrary[1]),\n\t\t\tmemory: (Game.rooms[roomArrary[1]]) ? Game.rooms[roomArrary[1]].memory : {}\n\t\t};\n\n\t\tmyCreeps.harvester.forEach(creep => role.harvester(creep, dropped))\n\t\tmyCreeps.miner.forEach(creep => role.miner(creep, Memory.sources, dropped))\n\t\tmyCreeps.upgrader.forEach(creep => role.upgrader(creep, targetStructures.controller))\n\t\tmyCreeps.builder.forEach(creep => role.builder(creep, targetStructures.needBuild, newRoom))\n\t\tmyCreeps.cleaner.forEach(creep => role.cleaner(creep, dropped))\n\t\t// far\n\t\tmyCreeps.farBuilder.forEach(creep => role.farBuilder(creep, newRoom))\n\t\tmyCreeps.farHarvester.forEach(creep => role.farHarvester(creep, newRoom))\n\t\tmyCreeps.farMiner.forEach(creep => role.farMiner(creep, newRoom))\n\t\tmyCreeps.claim.forEach(creep => role.claim(creep, newRoom))\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_role.js","export default () => {\n\tfor (let name in Memory.creeps) {\n\t\tif (!Game.creeps[name]) {\n\t\t\tdelete Memory.creeps[name]\n\t\t} else {\n\t\t\tif (!Game.creeps[name].memory) Game.creeps[name].memory = {role: name.split('#') [0]}\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_root.js","import * as structure from '../structure';\n\nexport default (roomArray) => {\n\tconst room             = Game.rooms[roomArray[0]];\n\tconst roomNext         = Game.rooms[roomArray[1]];\n\tconst Memory           = room.memory;\n\tconst nextMemory       = (roomNext) ? roomNext.memory : null;\n\tconst targetStructures = Memory.structures;\n\tconst targetCreeps     = Memory.creeps;\n\tconst config           = Memory.config;\n\n\tconst spawn = (nextMemory) ? _.merge(targetCreeps.my, nextMemory.creeps.my) : targetCreeps.my;\n\n\tstructure.spawn(targetStructures.spawn, spawn, config);\n\tstructure.tower(targetStructures.tower, targetStructures.needFix, targetCreeps.enemy);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_structure.js","import {pathFinder} from '../task'\n\nexport default (creep, needBuild, newRoom) => {\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.canBuild = false;\n\t}\n\n\tif (creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.canBuild = true;\n\t}\n\n\tif (needBuild.length > 0) {\n\t\tif (creep.memory.canBuild) {\n\t\t\tconst buildTarget = creep.pos.findClosestByRange(needBuild);\n\t\t\t(buildTarget && creep.build(buildTarget) != OK)\n\t\t\t\t\t? pathFinder(creep, buildTarget) : null;\n\t\t} else {\n\t\t\tconst canWithdraw = creep.room.storage;\n\t\t\t(canWithdraw && creep.withdraw(canWithdraw, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, canWithdraw) : null\n\t\t}\n\t} else {\n\t\tif (creep.carry.energy < 50) {\n\t\t\tconst transferTarget = creep.room.storage;\n\t\t\t(creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t} else {\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_builder.js","import {pathFinder} from \"../task\"\nexport default (creep,newRoom) => {\n\t\"use strict\";\n\tconst controller = Game.getObjectById('5873bc3511e3e4361b4d738f');\n\tif (!controller) {\n        pathFinder(creep,newRoom.pos)\n\t} else {\n\t\t(creep.reserveController(controller) !== OK) ? pathFinder(creep,controller) : null;\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_claim.js","import {pathFinder} from '../task'\n\nexport default (creep, dropped = []) => {\n\tif (creep.room.memory.creeps.my.harvester.length > 0 &&\n\t\t\tcreep.room.memory.creeps.my.miner.length >0) {\n\n\t\tif (creep.carry.energy < creep.carryCapacity) {\n\t\t\tif (dropped.length > 0) {\n\t\t\t\tconst pickupTarget = creep.pos.findClosestByPath(dropped);\n\t\t\t\t(pickupTarget && creep.pickup(pickupTarget) != OK)\n\t\t\t\t\t\t? pathFinder(creep, pickupTarget) : null;\n\t\t\t} else {\n\t\t\t\tconst transferTarget = creep.room.memory.structures.container.sort((a, b) => b.store.enengy - a.store.enengy);\n\t\t\t\t(transferTarget && creep.withdraw(transferTarget[0], RESOURCE_ENERGY) != OK)\n\t\t\t\t\t\t? pathFinder(creep, transferTarget[0]) : null\n\t\t\t}\n\t\t} else {\n\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget;\n\t\t\tif (needFill.length > 0) {\n\t\t\t\tneedFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t} else {\n\t\t\t\tneedFillTarget = creep.room.storage\n\t\t\t}\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\t} else {\n\n\t\tif (creep.carry.energy < 50) {\n\t\t\tconst transferTarget = creep.room.storage;\n\t\t\t(creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t} else {\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_cleaner.js","import { pathFinder } from '../task'\nexport default (creep, newRoom) => {\n\tconst room          = Game.spawns['Spawn1'].room;\n\tconst newRoomMemory = newRoom.memory;\n\tconst farMiner      = newRoomMemory.creeps.my.farMiner;\n\tconst enemy         = newRoomMemory.creeps.enemy;\n\tconst needBuild     = newRoomMemory.structures.needBuild;\n\n\tif (enemy.length > 0) {\n\t\tconst enemyTarget = creep.pos.findClosestByRange(enemy);\n\t\t(enemyTarget && creep.attack(enemyTarget) != OK)\n\t\t\t? pathFinder(creep, enemyTarget) : null;\n\t\treturn;\n\t}\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\tif (creep.carry.energy == creep.carryCapacity || !farMiner.length > 0) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\t\tconst farMinerTarget = Game.getObjectById(farMiner[0].id);\n\t\tpathFinder(creep, farMinerTarget)\n\t}\n\telse {\n\n\n\t\tif (needBuild.length > 0) {\n\t\t\tconst buildTarget = creep.pos.findClosestByRange(needBuild);\n\t\t\t(buildTarget && creep.build(buildTarget) != OK)\n\t\t\t\t? pathFinder(creep, buildTarget) : null;\n\t\t} else {\n\n\t\t\t( creep.transfer(room.storage, RESOURCE_ENERGY) !== OK)\n\t\t\t\t? pathFinder(creep, room.storage) : null\n\t\t}\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farBuilder.js","import { pathFinder } from '../task'\nexport default (creep, newRoom) => {\n\tconst room          = Game.spawns['Spawn1'].room;\n\tconst newRoomMemory = newRoom.memory;\n\tconst farMiner      = newRoomMemory.creeps.my.farMiner;\n\tconst enemy         = newRoomMemory.creeps.enemy;\n\n\n\tif (enemy.length > 0) {\n\t\tconst enemyTarget = creep.pos.findClosestByRange(enemy);\n\t\t(enemyTarget && creep.attack(enemyTarget) != OK)\n\t\t\t? pathFinder(creep, enemyTarget) : null;\n\t\treturn;\n\t}\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\tif (creep.carry.energy == creep.carryCapacity || !farMiner.length > 0) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\t\tconst farMinerTarget = Game.getObjectById(farMiner[0].id);\n\t\tpathFinder(creep, farMinerTarget)\n\t}\n\telse {\n\n\t\t( creep.transfer(room.storage, RESOURCE_ENERGY) !== OK)\n\t\t\t? pathFinder(creep, room.storage) : null\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farHarvester.js","import {pathFinder} from \"../task\"\nexport default (creep, newRoom) => {\n\n    if (creep.carry.energy == 0) {\n        creep.memory.canHarvest = true;\n    }\n\n\n    if (creep.carry.energy == creep.carryCapacity) {\n        creep.memory.canHarvest = false;\n    }\n\n    if (creep.memory.canHarvest) {\n        const source = Game.getObjectById('5873bc3511e3e4361b4d7390');\n        if (!source) {\n            pathFinder(creep, newRoom.pos)\n\n        } else {\n            (creep.harvest(source) !== OK) ? pathFinder(creep, source) : null;\n        }\n    } else {\n        const targets = creep.pos.findInRange(newRoom.memory.creeps.my.farHarvester, 1, {\n            filter: targetCreep => targetCreep.carry.energy < targetCreep.carryCapacity\n        });\n        if (targets.length > 0) {\n            creep.transfer(targets[0], RESOURCE_ENERGY)\n        } else {\n            const needBuild = newRoom.memory.structures.needBuild;\n            (needBuild.length > 0  && creep.build(needBuild[0]) != OK)\n                ? pathFinder(creep, needBuild[0]) : null;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farMiner.js","import { pathFinder } from '../task'\nexport default (creep, dropped = []) => {\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\n\tif (creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\n\t\tlet pickupTarget = [];\n\t\tif (dropped.length > 0) {\n\t\t\tpickupTarget = creep.pos.findInRange(dropped, 5);\n\t\t}\n\n\t\tif (pickupTarget.length > 0) {\n\t\t\t(creep.pickup(pickupTarget[0]) != OK) ? pathFinder(creep, pickupTarget[0]) : null\n\t\t} else {\n\t\t\tlet transferTarget = _.filter(creep.room.memory.structures.container,\n\t\t\t                              container => container.id != '58d31e9dbbb5793fe9d0ad71' &&\n\t\t\t                                           container.store.energy > 0\n\t\t\t)\n\t\t\ttransferTarget     = transferTarget.sort((a, b) => b.store.energy - a.store.energy)[0];\n\t\t\t(transferTarget && creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t}\n\t}\n\n\tif (creep.memory.full) {\n\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\tlet needFillTarget;\n\t\tif (needFill.length > 0) {\n\t\t\tneedFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t} else {\n\t\t\tneedFillTarget = creep.room.storage\n\t\t}\n\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_harvester.js","import { harvest, pickup, transfer, upgradeController } from '../action'\nexport default (creep, sources, dropped = []) => {\n\t// root\n\tif (!creep.memory.harvestTarget) {\n\t\tcreep.memory.harvestTarget = sources[0].source.id\n\t}\n\n\tif (creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.full = true;\n\t}\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false;\n\t}\n\n\tif (creep.memory.full) {\n\t\tconst canFill = creep.pos.findInRange(creep.room.memory.structures.canFill, 4);\n\t\tif (transfer(creep, canFill)) return;\n\t\tif (creep.memory.harvestTarget == \"5873bc3511e3e4361b4d7393\") {\n\t\t\tconst controller = creep.room.controller;\n\t\t\tif (upgradeController(creep, controller)) return;\n\t\t}\n\t} else {\n\t\tif (dropped.length > 0) {\n\t\t\tconst pickupTarget = creep.pos.findInRange(dropped, 0);\n\t\t\tif (pickup(creep, pickupTarget)) return;\n\t\t}\n\t\tconst harvestTarget = Game.getObjectById(creep.memory.harvestTarget)\n\t\tif (harvest(creep, harvestTarget)) return;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_miner.js","import { pathFinder } from '../task'\n\nexport default  (creep, controller) => {\n\tif (creep.memory.upgrading && creep.carry.energy == 0) {\n\t\tcreep.memory.upgrading = false;\n\t}\n\tif (!creep.memory.upgrading && creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.upgrading = true;\n\t\tcreep.say('UP');\n\t}\n\n\tif (creep.memory.upgrading) {\n\t\t(creep.upgradeController(controller) != OK)? pathFinder(creep, controller):null;\n\t}\n\telse {\n\t\tconst canWithdraw = creep.pos.findClosestByRange(creep.room.memory.structures.canWithdraw);\n\t\t(canWithdraw && creep.withdraw(canWithdraw,RESOURCE_ENERGY) != OK)\n\t\t\t? pathFinder(creep, canWithdraw) : null\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_upgrader.js","export {default as harvester} from './_harvester';\nexport {default as upgrader} from'./_upgrader';\nexport {default as builder} from'./_builder';\nexport {default as miner} from'./_miner';\nexport {default as cleaner} from'./_cleaner';\n// far\nexport {default as farBuilder} from './_farBuilder';\nexport {default as farHarvester} from './_farHarvester';\nexport {default as farMiner} from './_farMiner';\nexport {default as claim} from './_claim';\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/index.js","export default (spawn, my, config) => {\n\tif (spawn.spawning) {\n\t\tspawn.room.visual.text(\n\t\t\t'[Spawn] ' + spawn.spawning.name,\n\t\t\tspawn.pos.x + 1,\n\t\t\tspawn.pos.y,\n\t\t\t{align: 'left', opacity: 0.8});\n\t\treturn;\n\t}\n\n\tconst roleFactory = config.role\n\tlet priority      = false;\n\troleFactory.forEach(roleType => {\n\t\tconst roleName    = roleType.role;\n\t\tconst roleTimeout = (roleType.roleTimeout) ? roleType.roleTimeout : 10;\n\t\tconst roleMy      = _.filter(my[roleName], roleCreep => roleCreep.ticksToLive > roleTimeout)\n\t\tconst roleNumber  = roleType.number - roleMy.length;\n\t\tif (roleNumber <= 0 || priority) return;\n\t\tconst spawnName = buildName(roleName);\n\t\tif (spawn.createCreep(buildBody(roleType.body), spawnName, {role: roleName}) == OK) {\n\t\t\tconsole.log('Spawn', spawn.spawning.name);\n\t\t} else {\n\t\t\tpriority = true;\n\t\t}\n\t})\n\n}\n\nfunction buildName(role) {\n\tconst date = new Date();\n\treturn [\n\t\trole,\n\t\t\"#\",\n\t\tdate.getHours(),\n\t\tdate.getMinutes(),\n\t\tdate.getSeconds()\n\t].join('')\n}\n\nfunction buildBody(obj) {\n\tlet array = [];\n\tfor (let key in obj) {\n\t\tfor (let num = 0; num < obj[key]; num++) {\n\t\t\tarray.push(key)\n\t\t}\n\t}\n\treturn array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_spawn.js","export default (tower, needFix = [], enemy = []) => {\n\tif (enemy.length > 0) {\n\t\ttower.attack(enemy[0])\n\t} else if (needFix.length > 0) {\n\t\ttower.repair(needFix[0])\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_tower.js","export {default as tower} from \"./_tower\"\nexport {default as spawn} from \"./_spawn\"\n\n\n// WEBPACK FOOTER //\n// ./src/structure/index.js","import { pathFinder } from '../task'\nconst taskFindMiner = (creep) => {\n    let target;\n\n    if (creep.memory.role == \"builder\") {\n        target = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n            filter: structure => (\n            (structure.structureType == (STRUCTURE_STORAGE || STRUCTURE_CONTAINER) ) &&\n            structure.store[\"energy\"] > 0)\n        })\n    } else if (creep.memory.role == 'upgrader' ) {\n        target = Game.getObjectById('58d151fe1b3da0c326b1385b')\n    } else {\n        target = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n            filter: structure => (\n            structure.structureType == STRUCTURE_CONTAINER &&\n            structure.store[\"energy\"] > 0 &&\n            structure.id != '58d151fe1b3da0c326b1385b')\n        })\n    }\n\n    if (creep.withdraw(target, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n        pathFinder(creep, target)\n    }\n}\n\nexport default taskFindMiner;\n\n\n// WEBPACK FOOTER //\n// ./src/task/_findMiner.js","import taskContainer from './_container'\nimport {pathFinder} from '../task'\nexport default (creep) => {\n    \"use strict\";\n    const targets = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n        filter: structure => (\n            structure.structureType == STRUCTURE_EXTENSION ||\n            structure.structureType == STRUCTURE_SPAWN ||\n            structure.structureType == STRUCTURE_TOWER\n        ) && structure.energy < structure.energyCapacity\n    })\n\n    if (targets) {\n        (creep.transfer(targets, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE)\n            ? pathFinder(creep,targets)\n            : null;\n    } else {\n        const targetsBuild = creep.room.memory.constructionSites;\n        if (creep.role != \"builder\" && targetsBuild.length > 0){\n           const builderTargets =  creep.pos.findInRange(FIND_MY_CREEPS,5,{filter:creep => creep.role ==\"builder\" && creep.carry['energy'] < creep.carryCapacity})[0];\n            (builderTargets && creep.transfer(builderTargets, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) ?\n                pathFinder(creep,builderTargets) : null\n        } else {\n            taskContainer(creep)\n        }\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/task/_harvester.js","export default (creep, target, color = '#ffffff') => {\n\tif (creep.fatigue > 0) return;\n\tcreep.moveTo(target, {\n\t\treusePath         : 12,\n\t\tserializeMemory   : true,\n\t\tvisualizePathStyle: {stroke: color}\n\t})\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/task/_pathFinder.js","import 'screeps-perf';\nimport * as Manager from './manager'\n\nmodule.exports.loop = () => {\n\tconst rooms      = ['W81S67', 'W81S66'];\n\t// start\n\tManager.root()\n\tManager.memory(rooms)\n\tManager.role(rooms)\n\tManager.structure(rooms)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}