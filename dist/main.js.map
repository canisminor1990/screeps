{"version":3,"sources":["webpack:///webpack/bootstrap a8fe1b02a63d7056836e","webpack:///./src/_util/index.js","webpack:///./src/task/index.js","webpack:///./src/action/index.js","webpack:///./src/task/_container.js","webpack:///./~/screeps-perf/screeps-perf.js","webpack:///./src/manager/index.js","webpack:///./src/_util/_action.js","webpack:///./src/_util/_build.js","webpack:///./src/_util/_emoji.js","webpack:///./src/_util/_isFriend.js","webpack:///./src/_util/_isFull.js","webpack:///./src/_util/_timer.js","webpack:///./src/action/_attack.js","webpack:///./src/action/_build.js","webpack:///./src/action/_claimController.js","webpack:///./src/action/_dismantle.js","webpack:///./src/action/_harvest.js","webpack:///./src/action/_heal.js","webpack:///./src/action/_pickup.js","webpack:///./src/action/_repair.js","webpack:///./src/action/_transfer.js","webpack:///./src/action/_upgradeController.js","webpack:///./src/action/_withdraw.js","webpack:///./src/config.js","webpack:///./src/manager/_memory/_creeps.js","webpack:///./src/manager/_memory/_dropped.js","webpack:///./src/manager/_memory/_sources.js","webpack:///./src/manager/_memory/_structures.js","webpack:///./src/manager/_memory/index.js","webpack:///./src/manager/_role.js","webpack:///./src/manager/_root.js","webpack:///./src/manager/_structure.js","webpack:///./src/role/_builder.js","webpack:///./src/role/_claim.js","webpack:///./src/role/_cleaner.js","webpack:///./src/role/_farBuilder.js","webpack:///./src/role/_farHarvester.js","webpack:///./src/role/_farMiner.js","webpack:///./src/role/_harvester.js","webpack:///./src/role/_miner.js","webpack:///./src/role/_upgrader.js","webpack:///./src/role/index.js","webpack:///./src/structure/_spawn.js","webpack:///./src/structure/_tower.js","webpack:///./src/structure/index.js","webpack:///./src/task/_findMiner.js","webpack:///./src/task/_harvester.js","webpack:///./src/task/_pathFinder.js","webpack:///./src/main.js"],"names":["default","creep","targetsStorage","Game","getObjectById","store","storeCapacity","transfer","RESOURCE_ENERGY","ERR_NOT_IN_RANGE","moveTo","reusePath","visualizePathStyle","stroke","controller","room","upgradeController","originalFindPath","Room","prototype","findPath","setup","creepMemoryCleanUp","time","Memory","screepsPerf","lastMemoryCleanUp","Object","keys","creeps","forEach","creepName","undefined","module","exports","options","speedUpArrayFunctions","Array","filter","callback","thisArg","results","arr","iterator","length","call","push","map","returnVal","cleanUpCreepMemory","originalCreateCreep","Spawn","createCreep","apply","arguments","optimizePathFinding","roomPositionIdentifier","roomPosition","roomName","x","y","fromPos","toPos","pathOptimizer","lastCleaned","_cleanedUp","key","val","used","tick","pathIdentifier","path","serializePath","deserializePath","target","fc","text","OK","say","ERR_NOT_OWNER","ERR_NO_PATH","ERR_NAME_EXISTS","ERR_BUSY","ERR_NOT_FOUND","ERR_NOT_ENOUGH_ENERGY","ERR_NOT_ENOUGH_RESOURCES","ERR_INVALID_TARGET","ERR_FULL","pathFinder","ERR_INVALID_ARGS","ERR_TIRED","ERR_NO_BODYPART","ERR_NOT_ENOUGH_EXTENSIONS","ERR_RCL_NOT_ENOUGH","ERR_GCL_NOT_ENOUGH","type","console","log","spawns","createConstructionSite","join","attack","unescape","harvest","error","move","build","repair","claim","heal","pickup","withdraw","upgrade","recycle","dismantle","friends","owner","toString","match","memory","full","carry","energy","carryCapacity","timer","rawTarget","_","compact","claimController","rooms","needBuild","structures","percent","maxHits","role","body","tough","roleTimeout","number","priority","work","sort","a","b","config","find","FIND_CREEPS","creepsMyRaw","my","creepsOther","creepsMy","creepRole","friend","username","enemy","configRole","name","split","resources","FIND_DROPPED_RESOURCES","resource","resourceType","miner","rawSources","FIND_SOURCES","sources","minerNumber","harvestTarget","source","id","FIND_STRUCTURES","structuresStorage","storage","structuresMy","structure","structuresOther","structuresContainer","structureType","STRUCTURE_CONTAINER","structuresDocker","concat","terminal","tower","STRUCTURE_TOWER","spawn","STRUCTURE_SPAWN","container","canWithdraw","canFill","needFill","STRUCTURE_EXTENSION","energyCapacity","needFix","STRUCTURE_ROAD","STRUCTURE_WALL","hits","hitsMax","FIND_MY_CONSTRUCTION_SITES","roomArrary","each","energyAvailable","dropped","targetStructures","myCreeps","newRoom","pos","RoomPosition","harvester","upgrader","builder","cleaner","farBuilder","farHarvester","farMiner","roomArray","roomNext","nextMemory","targetCreeps","merge","canBuild","buildTarget","findClosestByRange","transferTarget","needFillTarget","reserveController","pickupTarget","findClosestByPath","enengy","newRoomMemory","enemyTarget","farMinerTarget","canHarvest","targets","findInRange","targetCreep","spawning","visual","align","opacity","roleFactory","roleName","roleType","roleMy","roleCreep","ticksToLive","roleNumber","spawnName","buildName","buildBody","date","Date","getHours","getMinutes","getSeconds","obj","array","num","taskFindMiner","STRUCTURE_STORAGE","targetsBuild","constructionSites","builderTargets","FIND_MY_CREEPS","color","fatigue","serializeMemory","Manager","loop","root"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a8fe1b02a63d7056836e","export { default as Timer } from './_timer'\nexport { default as Build } from './_build'\nexport { default as emoji } from './_emoji'\nexport { default as action } from './_action'\nexport { default as isFriend } from './_isFriend'\nexport { default as isFull } from './_isFull'\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/index.js","export {default as taskFindMiner} from './_findMiner'\nexport {default as taskContainer} from './_container'\nexport {default as taskHarvester} from './_harvester'\nexport {default as pathFinder} from './_pathFinder'\n\n\n// WEBPACK FOOTER //\n// ./src/task/index.js","export { default as attack } from \"./_attack\"\nexport { default as heal } from \"./_heal\"\n//\nexport { default as build } from \"./_build\"\nexport { default as repair } from \"./_repair\"\nexport { default as dismantle } from \"./_dismantle\"\n//\nexport { default as harvest } from \"./_harvest\"\nexport { default as pickup } from \"./_pickup\"\nexport { default as transfer } from \"./_transfer\"\nexport { default as withdraw } from \"./_withdraw\"\n//\nexport { default as upgradeController } from \"./_upgradeController\"\nexport { default as claimController } from \"./_claimController\"\n\n\n\n// WEBPACK FOOTER //\n// ./src/action/index.js","export default (creep) => {\n\t\"use strict\";\n\tconst targetsStorage = Game.getObjectById('58d07b35bfeec6256575be5d')\n\tif (targetsStorage.store['energy'] < targetsStorage.storeCapacity) {\n\t\t(creep.transfer(targetsStorage, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) ?\n\t\tcreep.moveTo(targetsStorage, {reusePath: 8, visualizePathStyle: {stroke: '#3f51b5'}}) : null\n\t} else {\n\t\tconst controller = creep.room.controller;\n\t\t(creep.upgradeController(controller) == ERR_NOT_IN_RANGE) ?\n\t\tcreep.moveTo(controller, {reusePath: 8, visualizePathStyle: {stroke: '#ffffff'}}) : null\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/task/_container.js","var originalFindPath = Room.prototype.findPath;\r\nvar setup = false;\r\n\r\nfunction creepMemoryCleanUp() {\r\n  if (Game.time - Memory.screepsPerf.lastMemoryCleanUp > 100) {\r\n    Object.keys(Memory.creeps).forEach(creepName => {\r\n      if (!Game.creeps[creepName]) {\r\n        Memory.creeps[creepName] = undefined;\r\n      }\r\n    });\r\n    Memory.screepsPerf.lastMemoryCleanUp = Game.time;\r\n  }\r\n};\r\n\r\nmodule.exports = function(options) {\r\n  if (!setup) {\r\n    options = options || {};\r\n    Memory.screepsPerf = Memory.screepsPerf || {\r\n      lastMemoryCleanUp: Game.time\r\n    };\r\n\r\n    if (options.speedUpArrayFunctions || options.speedUpArrayFunctions === undefined) {\r\n      Array.prototype.filter = function(callback, thisArg) {\r\n        var results = [];\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          if (callback.call(thisArg, arr[iterator], iterator, arr)) {\r\n            results.push(arr[iterator]);\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n\r\n      Array.prototype.forEach = function(callback, thisArg) {\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          callback.call(thisArg, arr[iterator], iterator, arr);\r\n        }\r\n      };\r\n\r\n      Array.prototype.map = function(callback, thisArg) {\r\n        var arr = this;\r\n        var returnVal = [];\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          returnVal.push(callback.call(thisArg, arr[iterator], iterator, arr));\r\n        }\r\n        return returnVal;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creep memory clean up... this speeds up the initial memory parse each tick.\r\n     */\r\n    if (options.cleanUpCreepMemory || options.cleanUpCreepMemory === undefined) {\r\n      // Monkey patch creating creeps so that we can clean up their memory without forcing the user to make a call.\r\n      var originalCreateCreep = Spawn.prototype.createCreep;\r\n      Spawn.prototype.createCreep = function() {\r\n        creepMemoryCleanUp();\r\n        return originalCreateCreep.apply(this, arguments);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * FIND PATH OPTIMIZATION\r\n     * This cache's the built in findPath results in memory and reuses them as long as that same path is used at least 1/300 ticks.\r\n     * The cached path is also refreshed every 2000 ticks.  This helps to ensure that creeps respond to changing room terrain.\r\n     */\r\n    if (options.optimizePathFinding || options.optimizePathFinding === undefined) {\r\n      function roomPositionIdentifier(roomPosition) {\r\n        return roomPosition.roomName + 'x' + roomPosition.x + 'y' + roomPosition.y;\r\n      };\r\n\r\n      Room.prototype.findPath = function(fromPos, toPos, options) {\r\n        creepMemoryCleanUp();\r\n        if (!Memory.pathOptimizer) {\r\n          Memory.pathOptimizer = { lastCleaned: Game.time};\r\n        }\r\n\r\n        if (Game.time - Memory.pathOptimizer.lastCleaned > 40 && !this._cleanedUp) {\r\n          var keys = Object.keys(Memory.pathOptimizer);\r\n          keys.forEach((key) => {\r\n            var val = Memory.pathOptimizer[key];\r\n            if (val && ((val.used / (Game.time - val.tick) < 1 / 300) || Game.time - val.tick > 2000)) {\r\n              Memory.pathOptimizer[key] = undefined;\r\n            }\r\n          });\r\n          this._cleanedUp = true;\r\n          Memory.pathOptimizer.lastCleaned = Game.time;\r\n        }\r\n\r\n        var pathIdentifier = roomPositionIdentifier(fromPos) + roomPositionIdentifier(toPos);\r\n        if (!Memory.pathOptimizer[pathIdentifier]) {\r\n          var path = originalFindPath.apply(this, arguments);\r\n          Memory.pathOptimizer[pathIdentifier] = {\r\n            tick: Game.time,\r\n            path: Room.serializePath(path),\r\n            used: 1\r\n          }\r\n        } else {\r\n          Memory.pathOptimizer[pathIdentifier].used++;\r\n        }\r\n\r\n        return Room.deserializePath(Memory.pathOptimizer[pathIdentifier].path);\r\n      }\r\n    }\r\n    setup = true;\r\n  }\r\n\r\n  return {\r\n    originalFindPath: originalFindPath\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/screeps-perf/screeps-perf.js","export { default as root } from './_root'\nexport { default as memory } from './_memory'\nexport { default as structure } from './_structure'\nexport { default as role } from './_role'\n\n\n// WEBPACK FOOTER //\n// ./src/manager/index.js","export default (creep, target, fc, text) => {\n\tswitch (fc) {\n\t\tcase OK:\n\t\t\tif (text) creep.say(text);\n\t\t\tbreak;\n\t\tcase ERR_NOT_OWNER             :\n\t\t\tcreep.say(\"NOT_OWNER\");\n\t\t\tbreak;\n\t\tcase ERR_NO_PATH               :\n\t\t\tcreep.say(\"NO_PATH\");\n\t\t\tbreak;\n\t\tcase ERR_NAME_EXISTS           :\n\t\t\tcreep.say(\"NAME_EXISTS\");\n\t\t\tbreak;\n\t\tcase ERR_BUSY                  :\n\t\t\tcreep.say(\"BUSY\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_FOUND             :\n\t\t\tcreep.say(\"NOT_FOUND\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_ENERGY     :\n\t\t\tcreep.say(\"NOT_ENOUGH_ENERGY\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_RESOURCES  :\n\t\t\tcreep.say(\"NOT_ENOUGH_RESOURCES\");\n\t\t\tbreak;\n\t\tcase ERR_INVALID_TARGET        :\n\t\t\tcreep.say(\"INVALID_TARGET\");\n\t\t\tbreak;\n\t\tcase ERR_FULL                  :\n\t\t\tcreep.say(\"FULL\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_IN_RANGE          :\n\t\t\tpathFinder(creep, target)\n\t\t\tbreak;\n\t\tcase ERR_INVALID_ARGS          :\n\t\t\tcreep.say(\"INVALID_ARGS\");\n\t\t\tbreak;\n\t\tcase ERR_TIRED                 :\n\t\t\tcreep.say(\"TIRED\");\n\t\t\tbreak;\n\t\tcase ERR_NO_BODYPART           :\n\t\t\tcreep.say(\"NO_BODYPART\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_EXTENSIONS :\n\t\t\tcreep.say(\"NOT_ENOUGH_EXTENSIONS\");\n\t\t\tbreak;\n\t\tcase ERR_RCL_NOT_ENOUGH        :\n\t\t\tcreep.say(\"RCL_NOT_ENOUGH\");\n\t\t\tbreak;\n\t\tcase ERR_GCL_NOT_ENOUGH        :\n\t\t\tcreep.say(\"GCL_NOT_ENOUGH\");\n\t\t\tbreak;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_action.js","export default (x, y, type) => {\n\tif (x && y && type) {\n\t\tconsole.log(`[Build] ${type} in x:${x} y:${y}`,Game.spawns['Spawn1'].room.createConstructionSite(x, y, type))\n\t} else {\n\t\tconsole.log(\n\t\t\t\t`You can build: ` +\n\t\t\t\t['spawn',\n\t\t\t\t 'extension',\n\t\t\t\t 'road',\n\t\t\t\t 'constructedWall',\n\t\t\t\t 'rampart',\n\t\t\t\t 'keeperLair',\n\t\t\t\t 'portal',\n\t\t\t\t 'controller',\n\t\t\t\t 'link',\n\t\t\t\t 'storage',\n\t\t\t\t 'tower',\n\t\t\t\t 'observer',\n\t\t\t\t 'powerBank',\n\t\t\t\t 'powerSpawn',\n\t\t\t\t 'extractor',\n\t\t\t\t 'lab',\n\t\t\t\t 'terminal',\n\t\t\t\t 'container',\n\t\t\t\t 'nuker'].join('|')\n\t\t)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_build.js","export default {\n\tattack   : unescape(\"%uD83D%uDD2B\"),\n\tharvest  : unescape(\"%u26CF\"),\n\terror    : unescape(\"%u274C\"),\n\tmove     : unescape(\"%uD83D%uDEB6\"),\n\ttransfer : unescape(\"%uD83E%uDD1D\"),\n\tbuild    : unescape(\"%uD83D%uDEA7\"),\n\trepair   : unescape(\"%uD83D%uDD27\"),\n\tclaim    : unescape(\"%uD83D%uDEA9\"),\n\theal     : unescape(\"%uD83D%uDC9A\"),\n\tpickup   : unescape(\"%uD83E%uDD33\"),\n\twithdraw : unescape(\"%uD83E%uDD33\"),\n\tupgrade  : unescape(\"%uD83D%uDE80\"),\n\trecycle  : unescape(\"%uD83D%uDD04\"),\n\tdismantle: unescape(\"%u2B55\")\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_emoji.js","const friends = [\n\t\"Ruo\",\n\t\"FanHua\"\n];\nexport default (owner) => {\n\tif (!owner || owner == 'Invader') return false;\n\treturn (friends.toString().match(owner)) ? true : false\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_isFriend.js","export default (creep) => {\n\tif (!creep.memory.full && creep.carry.energy == creep.carryCapacity) creep.memory.full = true;\n\tif (creep.memory.full && creep.carry.energy == 0) creep.memory.full = false;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_isFull.js","export default (tick) => {\n    if (Memory.timer[tick] && Game.time - Memory.timer[tick] < tick) return false;\n    Memory.timer[tick] = Game.time;\n    return true\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_timer.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.attack(target), emoji.attack)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_attack.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.build(target), emoji.build);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_build.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.claimController(target), emoji.claim)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_claimController.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.dismantle(target), emoji.dismantle);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_dismantle.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.harvest(target), emoji.harvest);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_harvest.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.heal(target), emoji.heal)\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_heal.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.pickup(target), emoji.pickup);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_pickup.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.repair(target), emoji.repair);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_repair.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget, type = RESOURCE_ENERGY) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.transfer(target, type), emoji.transfer);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_transfer.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.upgradeController(target), emoji.upgrade);\n\treturn true;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/_upgradeController.js","import { emoji, action } from \"../_util\"\nexport default (creep, rawTarget, type = RESOURCE_ENERGY) => {\n\tif (!rawTarget) return false;\n\tlet target = rawTarget;\n\tif (target instanceof Array) {\n\t\ttarget = _.compact(target);\n\t\tif (rawTarget.length == 0) return false;\n\t\ttarget = target[0];\n\t}\n\taction(creep, target, creep.withdraw(target, type), emoji.withdraw);\n\treturn true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/action/_withdraw.js","export default (room = Game.rooms['W81S67']) => {\n\tconst needBuild = room.memory.structures.needBuild;\n\tconst repair    = {\n\t\tpercent: 0.5,\n\t\tmaxHits: 10000,\n\t}\n\tconst role      = [\n\t\t{\n\t\t\trole    : \"claim\",\n\t\t\tbody    : {tough: 1, move: 1, claim: 1},\n\t\t\troleTimeout: 100,\n\t\t\tnumber  : 1,\n\t\t\tpriority: 7\n\t\t},\n\t\t{\n\t\t\trole    : \"farMiner\",\n\t\t\tbody    : {move: 2, work: 4, carry: 2},\n\t\t\troleTimeout: 50,\n\t\t\tnumber  : 1,\n\t\t\tpriority: 4\n\t\t},\n\t\t{\n\t\t\trole    : 'farHarvester',\n\t\t\tbody    : {tough: 1, move: 3, carry: 4, attack: 1},\n\t\t\tnumber  : 3,\n\t\t\tpriority: 5\n\t\t}, {\n\t\t\trole    : 'farBuilder',\n\t\t\tbody    : {carry: 9, work: 3, move: 3},\n\t\t\tnumber  : 1,\n\t\t\tpriority: 5\n\t\t},\n\t\t{\n\t\t\trole    : 'harvester',\n\t\t\tbody    : {carry: 12, move: 4},\n\t\t\tnumber  : 4,\n\t\t\tpriority: 2\n\t\t},\n\t\t{\n\t\t\trole    : 'upgrader',\n\t\t\tbody    : {carry: 2, work: 4, move: 1},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 3\n\t\t},\n\t\t{\n\t\t\trole    : 'builder',\n\t\t\tbody    : {work: 3, carry: 3, move: 3},\n\t\t\tnumber  : (needBuild.length > 0) ? 1 : 0,\n\t\t\tpriority: 6\n\t\t},\n\t\t{\n\t\t\trole    : \"miner\",\n\t\t\tbody    : {carry: 1, work: 8, move: 2},\n\t\t\tnumber  : 2,\n\t\t\troleTimeout:20,\n\t\t\tpriority: 1\n\t\t},\n\t\t{\n\t\t\trole    : 'cleaner',\n\t\t\tbody    : {carry: 2, move: 1},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 0\n\t\t}\n\t]\n\n\treturn {\n\t\trole  : role.sort((a, b) => a.priority - b.priority),\n\t\trepair: repair,\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import { isFriend } from '../../_util';\n\nexport default (room, config) => {\n\tconst creeps      = room.find(FIND_CREEPS),\n\t      creepsMyRaw = _.filter(creeps, creep => creep.my),\n\t      creepsOther = _.filter(creeps, creep => !creep.my),\n\t      creepsMy    = creepRole(creepsMyRaw, config.role);\n\n\treturn {\n\t\tmy    : creepsMy,\n\t\tfriend: _.filter(creepsOther, creep => isFriend(creep.owner.username)),\n\t\tenemy : _.filter(creepsOther, creep => !isFriend(creep.owner.username))\n\t}\n}\n\nfunction creepRole(creepsMyRaw, configRole) {\n\tlet creepsMy = {}\n\tconfigRole.forEach(role => {\n\t\tcreepsMy[role.role] = _.filter(creepsMyRaw, creep => creep.name.split('#')[0] == role.role)\n\t})\n\treturn creepsMy\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_creeps.js","export default (room) => {\n\tconst resources = room.find(FIND_DROPPED_RESOURCES)\n\treturn {\n\t\tresources: resources,\n\t\tenergy   : _.filter(resources, resource => resource.resourceType == RESOURCE_ENERGY)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_dropped.js","export default (room, miner) => {\n\tconst rawSources = room.find(FIND_SOURCES);\n\tlet sources      = []\n\trawSources.forEach(source => {\n\t\t                   let minerNumber = 0;\n\t\t                   miner.forEach(creep => {\n\t\t\t                                 (creep.memory.harvestTarget == source.id) ?\n\t\t\t                                 minerNumber++ : null\n\t\t                                 }\n\t\t                   )\n\t\t                   sources.push({\n\t\t\t                                source     : source,\n\t\t\t                                minerNumber: minerNumber\n\t\t                                })\n\t                   }\n\t)\n\tif (sources.length > 0) {\n\t\tsources.sort((a, b) => a.minerNumber - b.minerNumber)\n\t}\n\treturn sources\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_sources.js","export default (room, config) => {\n\n\tconst structures          = room.find(FIND_STRUCTURES),\n\t      structuresStorage   = room.storage,\n\t      structuresMy        = _.filter(structures, structure => structure.my),\n\t      structuresOther     = _.filter(structures, structure => !structure.my),\n\t      structuresContainer = _.filter(structuresOther, structure => structure.structureType == STRUCTURE_CONTAINER);\n\n\tlet structuresDocker = structuresContainer.concat([structuresStorage]);\n\n\treturn {\n\t\tterminal   : room.terminal,\n\t\tcontroller : room.controller,\n\t\tstorage    : structuresStorage,\n\t\ttower      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_TOWER)[0],\n\t\tspawn      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_SPAWN)[0],\n\t\tcontainer  : _.filter(structuresOther, structure => structure.structureType == STRUCTURE_CONTAINER),\n\t\tcanWithdraw: (structuresDocker[0] != null) ? _.filter(structuresDocker, structure => structure.store.energy > 0) : [],\n\t\tcanFill    : (structuresDocker[0] != null) ? _.filter(structuresDocker, structure => structure.store.energy < structure.storeCapacity) : [],\n\t\tneedFill   : _.filter(structuresMy, structure => (\n\t\t                                                 structure.structureType == STRUCTURE_EXTENSION ||\n\t\t                                                 structure.structureType == STRUCTURE_SPAWN ||\n\t\t                                                 structure.structureType == STRUCTURE_TOWER ) &&\n\t\t                                                 structure.energy < structure.energyCapacity),\n\t\tneedFix    : _.filter(structures, structure =>\n\t\t( structure.my || structure.structureType == STRUCTURE_ROAD || structure.structureType == STRUCTURE_WALL ) &&\n\t\t(structure.hits / structure.hitsMax) < config.repair.percent && structure.hits < config.repair.maxHits)\n\t\t              .sort((a, b) => a.hits - b.hits),\n\t\tneedBuild  : room.find(FIND_MY_CONSTRUCTION_SITES),\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_structures.js","import configRaw from \"../../config\"\nimport creepsRaw from \"./_creeps\"\nimport structures from \"./_structures\"\nimport sources from \"./_sources\"\nimport dropped from \"./_dropped\"\nexport default (roomArrary) => {\n\t_.each(roomArrary, room => {\n\t\troom = Game.rooms[room];\n\t\tconst config = configRaw(room);\n\t\tconst creeps = creepsRaw(room, config)\n\t\tconst memory = {\n\t\t\tenergyAvailable: room.energyAvailable,\n\t\t\tconfig         : config,\n\t\t\tcreeps         : creeps,\n\t\t\tstructures     : structures(room, config),\n\t\t\tsources        : sources(room, creeps.my.miner),\n\t\t\tdropped        : dropped(room),\n\t\t}\n\t\troom.memory  = memory;\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/index.js","import * as role from '../role';\nexport default (roomArrary) => {\n\n\t_.each(roomArrary, room => {\n\t\troom = Game.rooms[room];\n\t\tconst Memory           = room.memory;\n\t\tconst targetStructures = Memory.structures;\n\t\tconst myCreeps         = Memory.creeps.my;\n\t\tconst dropped          = (Memory.dropped) ? Memory.dropped.energy : [];\n\n\t\tconst newRoom = {\n\t\t\tpos   : new RoomPosition(25, 47, roomArrary[1]),\n\t\t\tmemory: (Game.rooms[roomArrary[1]]) ? Game.rooms[roomArrary[1]].memory : {}\n\t\t};\n\n\t\tmyCreeps.harvester.forEach(creep => role.harvester(creep, dropped))\n\t\tmyCreeps.miner.forEach(creep => role.miner(creep, Memory.sources, dropped))\n\t\tmyCreeps.upgrader.forEach(creep => role.upgrader(creep, targetStructures.controller))\n\t\tmyCreeps.builder.forEach(creep => role.builder(creep, targetStructures.needBuild, newRoom))\n\t\tmyCreeps.cleaner.forEach(creep => role.cleaner(creep, dropped))\n\t\t// far\n\t\tmyCreeps.farBuilder.forEach(creep => role.farBuilder(creep, newRoom))\n\t\tmyCreeps.farHarvester.forEach(creep => role.farHarvester(creep, newRoom))\n\t\tmyCreeps.farMiner.forEach(creep => role.farMiner(creep, newRoom))\n\t\tmyCreeps.claim.forEach(creep => role.claim(creep, newRoom))\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_role.js","export default () => {\n\tfor (let name in Memory.creeps) {\n\t\tif (!Game.creeps[name]) {\n\t\t\tdelete Memory.creeps[name]\n\t\t} else {\n\t\t\tif (!Game.creeps[name].memory) Game.creeps[name].memory = {role: name.split('#') [0]}\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_root.js","import * as structure from '../structure';\n\nexport default (roomArray) => {\n\tconst room             = Game.rooms[roomArray[0]];\n\tconst roomNext         = Game.rooms[roomArray[1]];\n\tconst Memory           = room.memory;\n\tconst nextMemory       = (roomNext) ? roomNext.memory : null;\n\tconst targetStructures = Memory.structures;\n\tconst targetCreeps     = Memory.creeps;\n\tconst config           = Memory.config;\n\n\tconst spawn = (nextMemory) ? _.merge(targetCreeps.my, nextMemory.creeps.my) : targetCreeps.my;\n\n\tstructure.spawn(targetStructures.spawn, spawn, config);\n\tstructure.tower(targetStructures.tower, targetStructures.needFix, targetCreeps.enemy);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_structure.js","import {pathFinder} from '../task'\n\nexport default (creep, needBuild, newRoom) => {\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.canBuild = false;\n\t}\n\n\tif (creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.canBuild = true;\n\t}\n\n\tif (needBuild.length > 0) {\n\t\tif (creep.memory.canBuild) {\n\t\t\tconst buildTarget = creep.pos.findClosestByRange(needBuild);\n\t\t\t(buildTarget && creep.build(buildTarget) != OK)\n\t\t\t\t\t? pathFinder(creep, buildTarget) : null;\n\t\t} else {\n\t\t\tconst canWithdraw = creep.room.storage;\n\t\t\t(canWithdraw && creep.withdraw(canWithdraw, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, canWithdraw) : null\n\t\t}\n\t} else {\n\t\tif (creep.carry.energy < 50) {\n\t\t\tconst transferTarget = creep.room.storage;\n\t\t\t(creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t} else {\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_builder.js","import {pathFinder} from \"../task\"\nexport default (creep,newRoom) => {\n\t\"use strict\";\n\tconst controller = Game.getObjectById('5873bc3511e3e4361b4d738f');\n\tif (!controller) {\n        pathFinder(creep,newRoom.pos)\n\t} else {\n\t\t(creep.reserveController(controller) !== OK) ? pathFinder(creep,controller) : null;\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_claim.js","import {pathFinder} from '../task'\n\nexport default (creep, dropped = []) => {\n\tif (creep.room.memory.creeps.my.harvester.length > 0 &&\n\t\t\tcreep.room.memory.creeps.my.miner.length >0) {\n\n\t\tif (creep.carry.energy < creep.carryCapacity) {\n\t\t\tif (dropped.length > 0) {\n\t\t\t\tconst pickupTarget = creep.pos.findClosestByPath(dropped);\n\t\t\t\t(pickupTarget && creep.pickup(pickupTarget) != OK)\n\t\t\t\t\t\t? pathFinder(creep, pickupTarget) : null;\n\t\t\t} else {\n\t\t\t\tconst transferTarget = creep.room.memory.structures.container.sort((a, b) => b.store.enengy - a.store.enengy);\n\t\t\t\t(transferTarget && creep.withdraw(transferTarget[0], RESOURCE_ENERGY) != OK)\n\t\t\t\t\t\t? pathFinder(creep, transferTarget[0]) : null\n\t\t\t}\n\t\t} else {\n\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget;\n\t\t\tif (needFill.length > 0) {\n\t\t\t\tneedFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t} else {\n\t\t\t\tneedFillTarget = creep.room.storage\n\t\t\t}\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\t} else {\n\n\t\tif (creep.carry.energy < 50) {\n\t\t\tconst transferTarget = creep.room.storage;\n\t\t\t(creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t} else {\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tlet needFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t\t}\n\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_cleaner.js","import { pathFinder } from '../task'\nexport default (creep, newRoom) => {\n\tconst room          = Game.spawns['Spawn1'].room;\n\tconst newRoomMemory = newRoom.memory;\n\tconst farMiner      = newRoomMemory.creeps.my.farMiner;\n\tconst enemy         = newRoomMemory.creeps.enemy;\n\tconst needBuild     = newRoomMemory.structures.needBuild;\n\n\tif (enemy.length > 0) {\n\t\tconst enemyTarget = creep.pos.findClosestByRange(enemy);\n\t\t(enemyTarget && creep.attack(enemyTarget) != OK)\n\t\t\t? pathFinder(creep, enemyTarget) : null;\n\t\treturn;\n\t}\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\tif (creep.carry.energy == creep.carryCapacity || !farMiner.length > 0) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\t\tconst farMinerTarget = Game.getObjectById(farMiner[0].id);\n\t\tpathFinder(creep, farMinerTarget)\n\t}\n\telse {\n\n\n\t\tif (needBuild.length > 0) {\n\t\t\tconst buildTarget = creep.pos.findClosestByRange(needBuild);\n\t\t\t(buildTarget && creep.build(buildTarget) != OK)\n\t\t\t\t? pathFinder(creep, buildTarget) : null;\n\t\t} else {\n\n\t\t\t( creep.transfer(room.storage, RESOURCE_ENERGY) !== OK)\n\t\t\t\t? pathFinder(creep, room.storage) : null\n\t\t}\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farBuilder.js","import { pathFinder } from '../task'\nexport default (creep, newRoom) => {\n\tconst room          = Game.spawns['Spawn1'].room;\n\tconst newRoomMemory = newRoom.memory;\n\tconst farMiner      = newRoomMemory.creeps.my.farMiner;\n\tconst enemy         = newRoomMemory.creeps.enemy;\n\n\n\tif (enemy.length > 0) {\n\t\tconst enemyTarget = creep.pos.findClosestByRange(enemy);\n\t\t(enemyTarget && creep.attack(enemyTarget) != OK)\n\t\t\t? pathFinder(creep, enemyTarget) : null;\n\t\treturn;\n\t}\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\tif (creep.carry.energy == creep.carryCapacity || !farMiner.length > 0) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\t\tconst farMinerTarget = Game.getObjectById(farMiner[0].id);\n\t\tpathFinder(creep, farMinerTarget)\n\t}\n\telse {\n\n\t\t( creep.transfer(room.storage, RESOURCE_ENERGY) !== OK)\n\t\t\t? pathFinder(creep, room.storage) : null\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farHarvester.js","import {pathFinder} from \"../task\"\nexport default (creep, newRoom) => {\n\n    if (creep.carry.energy == 0) {\n        creep.memory.canHarvest = true;\n    }\n\n\n    if (creep.carry.energy == creep.carryCapacity) {\n        creep.memory.canHarvest = false;\n    }\n\n    if (creep.memory.canHarvest) {\n        const source = Game.getObjectById('5873bc3511e3e4361b4d7390');\n        if (!source) {\n            pathFinder(creep, newRoom.pos)\n\n        } else {\n            (creep.harvest(source) !== OK) ? pathFinder(creep, source) : null;\n        }\n    } else {\n        const targets = creep.pos.findInRange(newRoom.memory.creeps.my.farHarvester, 1, {\n            filter: targetCreep => targetCreep.carry.energy < targetCreep.carryCapacity\n        });\n        if (targets.length > 0) {\n            creep.transfer(targets[0], RESOURCE_ENERGY)\n        } else {\n            const needBuild = newRoom.memory.structures.needBuild;\n            (needBuild.length > 0  && creep.build(needBuild[0]) != OK)\n                ? pathFinder(creep, needBuild[0]) : null;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farMiner.js","import { pathFinder } from '../task'\nexport default (creep, dropped = []) => {\n\n\tif (creep.carry.energy == 0) {\n\t\tcreep.memory.full = false\n\t}\n\n\tif (creep.carry.energy == creep.carryCapacity) {\n\t\tcreep.memory.full = true\n\t}\n\n\tif (!creep.memory.full) {\n\n\t\tlet pickupTarget = [];\n\t\tif (dropped.length > 0) {\n\t\t\tpickupTarget = creep.pos.findInRange(dropped, 5);\n\t\t}\n\n\t\tif (pickupTarget.length > 0) {\n\t\t\t(creep.pickup(pickupTarget[0]) != OK) ? pathFinder(creep, pickupTarget[0]) : null\n\t\t} else {\n\t\t\tlet transferTarget = _.filter(creep.room.memory.structures.container,\n\t\t\t                              container => container.id != '58d31e9dbbb5793fe9d0ad71' &&\n\t\t\t                                           container.store.energy > 0\n\t\t\t)\n\t\t\ttransferTarget     = transferTarget.sort((a, b) => b.store.energy - a.store.energy)[0];\n\t\t\t(transferTarget && creep.withdraw(transferTarget, RESOURCE_ENERGY) != OK)\n\t\t\t\t? pathFinder(creep, transferTarget) : null\n\t\t}\n\t}\n\n\tif (creep.memory.full) {\n\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\tlet needFillTarget;\n\t\tif (needFill.length > 0) {\n\t\t\tneedFillTarget = creep.pos.findClosestByRange(needFill);\n\t\t} else {\n\t\t\tneedFillTarget = creep.room.storage\n\t\t}\n\t\t(needFillTarget && creep.transfer(needFillTarget, RESOURCE_ENERGY) != OK)\n\t\t\t? pathFinder(creep, needFillTarget) : null\n\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_harvester.js","import { isFull } from '../_util'\nimport { harvest, pickup, transfer, upgradeController } from '../action'\nexport default (creep, sources, dropped) => {\n\tlet target;\n\t// root\n\tif (!creep.memory.harvestTarget) creep.memory.harvestTarget = sources[0].source.id\n\t// memory\n\tisFull(creep)\n\t// run\n\tif (creep.memory.full) {\n\t\ttarget = creep.pos.findInRange(creep.room.memory.structures.canFill, 4);\n\t\tif (transfer(creep, target)) return;\n\t\tif (creep.memory.harvestTarget == \"5873bc3511e3e4361b4d7393\") {\n\t\t\ttarget = creep.room.controller;\n\t\t\tif (upgradeController(creep, target)) return;\n\t\t}\n\t} else {\n\t\tif (dropped.length > 0) {\n\t\t\ttarget = creep.pos.findInRange(dropped, 0);\n\t\t\tif (pickup(creep, target)) return;\n\t\t}\n\t\ttarget = Game.getObjectById(creep.memory.harvestTarget)\n\t\tif (harvest(creep, target)) return;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_miner.js","import { isFull } from '../_util'\nimport { withdraw, upgradeController } from '../action'\nexport default  (creep, controller) => {\n\tlet target;\n\t// memory\n\tisFull(creep)\n\t// run\n\tif (creep.memory.full) {\n\t\tupgradeController(creep, controller)\n\t}\n\telse {\n\t\ttarget = creep.pos.findClosestByRange(creep.room.memory.structures.canWithdraw);\n\t\twithdraw(creep, target)\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_upgrader.js","export {default as harvester} from './_harvester';\nexport {default as upgrader} from'./_upgrader';\nexport {default as builder} from'./_builder';\nexport {default as miner} from'./_miner';\nexport {default as cleaner} from'./_cleaner';\n// far\nexport {default as farBuilder} from './_farBuilder';\nexport {default as farHarvester} from './_farHarvester';\nexport {default as farMiner} from './_farMiner';\nexport {default as claim} from './_claim';\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/index.js","export default (spawn, my, config) => {\n\tif (spawn.spawning) {\n\t\tspawn.room.visual.text(\n\t\t\t'[Spawn] ' + spawn.spawning.name,\n\t\t\tspawn.pos.x + 1,\n\t\t\tspawn.pos.y,\n\t\t\t{align: 'left', opacity: 0.8});\n\t\treturn;\n\t}\n\n\tconst roleFactory = config.role\n\tlet priority      = false;\n\troleFactory.forEach(roleType => {\n\t\tconst roleName    = roleType.role;\n\t\tconst roleTimeout = (roleType.roleTimeout) ? roleType.roleTimeout : 10;\n\t\tconst roleMy      = _.filter(my[roleName], roleCreep => roleCreep.ticksToLive > roleTimeout)\n\t\tconst roleNumber  = roleType.number - roleMy.length;\n\t\tif (roleNumber <= 0 || priority) return;\n\t\tconst spawnName = buildName(roleName);\n\t\tif (spawn.createCreep(buildBody(roleType.body), spawnName, {role: roleName}) == OK) {\n\t\t\tconsole.log('Spawn', spawn.spawning.name);\n\t\t} else {\n\t\t\tpriority = true;\n\t\t}\n\t})\n\n}\n\nfunction buildName(role) {\n\tconst date = new Date();\n\treturn [\n\t\trole,\n\t\t\"#\",\n\t\tdate.getHours(),\n\t\tdate.getMinutes(),\n\t\tdate.getSeconds()\n\t].join('')\n}\n\nfunction buildBody(obj) {\n\tlet array = [];\n\tfor (let key in obj) {\n\t\tfor (let num = 0; num < obj[key]; num++) {\n\t\t\tarray.push(key)\n\t\t}\n\t}\n\treturn array;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_spawn.js","export default (tower, needFix = [], enemy = []) => {\n\tif (enemy.length > 0) {\n\t\ttower.attack(enemy[0])\n\t} else if (needFix.length > 0) {\n\t\ttower.repair(needFix[0])\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_tower.js","export {default as tower} from \"./_tower\"\nexport {default as spawn} from \"./_spawn\"\n\n\n// WEBPACK FOOTER //\n// ./src/structure/index.js","import { pathFinder } from '../task'\nconst taskFindMiner = (creep) => {\n    let target;\n\n    if (creep.memory.role == \"builder\") {\n        target = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n            filter: structure => (\n            (structure.structureType == (STRUCTURE_STORAGE || STRUCTURE_CONTAINER) ) &&\n            structure.store[\"energy\"] > 0)\n        })\n    } else if (creep.memory.role == 'upgrader' ) {\n        target = Game.getObjectById('58d151fe1b3da0c326b1385b')\n    } else {\n        target = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n            filter: structure => (\n            structure.structureType == STRUCTURE_CONTAINER &&\n            structure.store[\"energy\"] > 0 &&\n            structure.id != '58d151fe1b3da0c326b1385b')\n        })\n    }\n\n    if (creep.withdraw(target, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {\n        pathFinder(creep, target)\n    }\n}\n\nexport default taskFindMiner;\n\n\n// WEBPACK FOOTER //\n// ./src/task/_findMiner.js","import taskContainer from './_container'\nimport {pathFinder} from '../task'\nexport default (creep) => {\n    \"use strict\";\n    const targets = creep.pos.findClosestByPath(FIND_STRUCTURES, {\n        filter: structure => (\n            structure.structureType == STRUCTURE_EXTENSION ||\n            structure.structureType == STRUCTURE_SPAWN ||\n            structure.structureType == STRUCTURE_TOWER\n        ) && structure.energy < structure.energyCapacity\n    })\n\n    if (targets) {\n        (creep.transfer(targets, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE)\n            ? pathFinder(creep,targets)\n            : null;\n    } else {\n        const targetsBuild = creep.room.memory.constructionSites;\n        if (creep.role != \"builder\" && targetsBuild.length > 0){\n           const builderTargets =  creep.pos.findInRange(FIND_MY_CREEPS,5,{filter:creep => creep.role ==\"builder\" && creep.carry['energy'] < creep.carryCapacity})[0];\n            (builderTargets && creep.transfer(builderTargets, RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) ?\n                pathFinder(creep,builderTargets) : null\n        } else {\n            taskContainer(creep)\n        }\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/task/_harvester.js","export default (creep, target, color = '#ffffff') => {\n\tif (creep.fatigue > 0) return;\n\tcreep.moveTo(target, {\n\t\treusePath         : 12,\n\t\tserializeMemory   : true,\n\t\tvisualizePathStyle: {stroke: color}\n\t})\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/task/_pathFinder.js","import 'screeps-perf';\nimport * as Manager from './manager'\n\nmodule.exports.loop = () => {\n\tconst rooms      = ['W81S67', 'W81S66'];\n\t// start\n\tManager.root()\n\tManager.memory(rooms)\n\tManager.role(rooms)\n\tManager.structure(rooms)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}