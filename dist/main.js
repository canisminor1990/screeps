module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=139)}([function(e,t,r){"use strict";(function(e){var o,a,n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){var t,o;function a(){return t.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function m(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var r,o=[];for(r=0;r<e.length;++r)o.push(t(e[r],r));return o}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _(e,t){for(var r in t)c(t,r)&&(e[r]=t[r]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,r,o){return Yt(e,t,r,o,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function y(e){if(null==e._isValid){var t=p(e),r=o.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function f(e){var t=h(NaN);return null!=e?_(p(t),e):p(t).userInvalidated=!0,t}o=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),r=t.length>>>0,o=0;o<r;o++)if(o in t&&e.call(this,t[o],o,t))return!0;return!1};var g=a.momentProperties=[];function M(e,t){var r,o,a;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=p(t)),l(t._locale)||(e._locale=t._locale),g.length>0)for(r=0;r<g.length;r++)l(a=t[o=g[r]])||(e[o]=a);return e}var T=!1;function L(e){M(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===T&&(T=!0,a.updateOffset(this),T=!1)}function R(e){return e instanceof L||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=S(t)),r}function b(e,t,r){var o,a=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),s=0;for(o=0;o<a;o++)(r&&e[o]!==t[o]||!r&&E(e[o])!==E(t[o]))&&s++;return s+n}function C(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function O(e,t){var r=!0;return _(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),r){for(var o,n=[],i=0;i<arguments.length;i++){if(o="","object"===s(arguments[i])){for(var l in o+="\n["+i+"] ",arguments[0])o+=l+": "+arguments[0][l]+", ";o=o.slice(0,-2)}else o=arguments[i];n.push(o)}C(e+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}var k,v={};function Y(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),v[e]||(C(t),v[e]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function w(e,t){var r,o=_({},e);for(r in t)c(t,r)&&(i(e[r])&&i(t[r])?(o[r]={},_(o[r],e[r]),_(o[r],t[r])):null!=t[r]?o[r]=t[r]:delete o[r]);for(r in e)c(e,r)&&!c(t,r)&&i(e[r])&&(o[r]=_({},o[r]));return o}function D(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)c(e,t)&&r.push(t);return r};var N={};function U(e,t){var r=e.toLowerCase();N[r]=N[r+"s"]=N[t]=e}function x(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function P(e){var t,r,o={};for(r in e)c(e,r)&&(t=x(r))&&(o[t]=e[r]);return o}var j={};function G(e,t){j[e]=t}function I(e,t,r){var o=""+Math.abs(e),a=t-o.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+o}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},B={};function $(e,t,r,o){var a=o;"string"==typeof o&&(a=function(){return this[o]()}),e&&(B[e]=a),t&&(B[t[0]]=function(){return I(a.apply(this,arguments),t[1],t[2])}),r&&(B[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function V(e,t){return e.isValid()?(t=z(t,e.localeData()),W[t]=W[t]||function(e){var t,r,o,a=e.match(H);for(t=0,r=a.length;t<r;t++)B[a[t]]?a[t]=B[a[t]]:a[t]=(o=a[t]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(t){var o,n="";for(o=0;o<r;o++)n+=A(a[o])?a[o].call(t,e):a[o];return n}}(t),W[t](e)):e.localeData().invalidDate()}function z(e,t){var r=5;function o(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;r>=0&&F.test(e);)e=e.replace(F,o),F.lastIndex=0,r-=1;return e}var K=/\d/,J=/\d\d/,q=/\d{3}/,X=/\d{4}/,Q=/[+-]?\d{6}/,Z=/\d\d?/,ee=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,re=/\d{1,3}/,oe=/\d{1,4}/,ae=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,le=/Z|[+-]\d\d(?::?\d\d)?/gi,me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function de(e,t,r){ue[e]=A(t)?t:function(e,o){return e&&r?r:t}}function ce(e,t){return c(ue,e)?ue[e](t._strict,t._locale):new RegExp(_e(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,o,a){return t||r||o||a})))}function _e(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function pe(e,t){var r,o=t;for("string"==typeof e&&(e=[e]),m(t)&&(o=function(e,r){r[t]=E(e)}),r=0;r<e.length;r++)he[e[r]]=o}function ye(e,t){pe(e,function(e,r,o,a){o._w=o._w||{},t(e,o._w,o,a)})}function fe(e,t,r){null!=t&&c(he,e)&&he[e](t,r._a,r,e)}var ge=0,Me=1,Te=2,Le=3,Re=4,Se=5,Ee=6,be=7,Ce=8;function Oe(e){return ke(e)?366:365}function ke(e){return e%4==0&&e%100!=0||e%400==0}$("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),de("Y",se),de("YY",Z,J),de("YYYY",oe,X),de("YYYYY",ae,Q),de("YYYYYY",ae,Q),pe(["YYYYY","YYYYYY"],ge),pe("YYYY",function(e,t){t[ge]=2===e.length?a.parseTwoDigitYear(e):E(e)}),pe("YY",function(e,t){t[ge]=a.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[ge]=parseInt(e,10)}),a.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var ve,Ye=Ae("FullYear",!0);function Ae(e,t){return function(r){return null!=r?(De(this,e,r),a.updateOffset(this,t),this):we(this,e)}}function we(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function De(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&ke(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Ne(r,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](r))}function Ne(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,o=(t%(r=12)+r)%r;return e+=(t-o)/12,1===o?ke(e)?29:28:31-o%7%2}ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),G("month",8),de("M",Z),de("MM",Z,J),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[Me]=E(e)-1}),pe(["MMM","MMMM"],function(e,t,r,o){var a=r._locale.monthsParse(e,o,r._strict);null!=a?t[Me]=a:p(r).invalidMonth=e});var Ue=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(!m(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ge(e){return null!=e?(je(this,e),a.updateOffset(this,!0),this):we(this,"Month")}var Ie=me;var He=me;function Fe(){function e(e,t){return t.length-e.length}var t,r,o=[],a=[],n=[];for(t=0;t<12;t++)r=h([2e3,t]),o.push(this.monthsShort(r,"")),a.push(this.months(r,"")),n.push(this.months(r,"")),n.push(this.monthsShort(r,""));for(o.sort(e),a.sort(e),n.sort(e),t=0;t<12;t++)o[t]=_e(o[t]),a[t]=_e(a[t]);for(t=0;t<24;t++)n[t]=_e(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function We(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,r){var o=7+t-r;return-((7+We(e,0,o).getUTCDay()-t)%7)+o-1}function $e(e,t,r,o,a){var n,s,i=1+7*(t-1)+(7+r-o)%7+Be(e,o,a);return i<=0?s=Oe(n=e-1)+i:i>Oe(e)?(n=e+1,s=i-Oe(e)):(n=e,s=i),{year:n,dayOfYear:s}}function Ve(e,t,r){var o,a,n=Be(e.year(),t,r),s=Math.floor((e.dayOfYear()-n-1)/7)+1;return s<1?o=s+ze(a=e.year()-1,t,r):s>ze(e.year(),t,r)?(o=s-ze(e.year(),t,r),a=e.year()+1):(a=e.year(),o=s),{week:o,year:a}}function ze(e,t,r){var o=Be(e,t,r),a=Be(e+1,t,r);return(Oe(e)-o+a)/7}$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),de("w",Z),de("ww",Z,J),de("W",Z),de("WW",Z,J),ye(["w","ww","W","WW"],function(e,t,r,o){t[o.substr(0,1)]=E(e)});$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),de("d",Z),de("e",Z),de("E",Z),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),ye(["dd","ddd","dddd"],function(e,t,r,o){var a=r._locale.weekdaysParse(e,o,r._strict);null!=a?t.d=a:p(r).invalidWeekday=e}),ye(["d","e","E"],function(e,t,r,o){t[o]=E(e)});var Ke="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Xe=me;var Qe=me;var Ze=me;function et(){function e(e,t){return t.length-e.length}var t,r,o,a,n,s=[],i=[],l=[],m=[];for(t=0;t<7;t++)r=h([2e3,1]).day(t),o=this.weekdaysMin(r,""),a=this.weekdaysShort(r,""),n=this.weekdays(r,""),s.push(o),i.push(a),l.push(n),m.push(o),m.push(a),m.push(n);for(s.sort(e),i.sort(e),l.sort(e),m.sort(e),t=0;t<7;t++)i[t]=_e(i[t]),l[t]=_e(l[t]),m[t]=_e(m[t]);this._weekdaysRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function tt(){return this.hours()%12||12}function rt(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ot(e,t){return t._meridiemParse}$("H",["HH",2],0,"hour"),$("h",["hh",2],0,tt),$("k",["kk",2],0,function(){return this.hours()||24}),$("hmm",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)}),$("hmmss",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),rt("a",!0),rt("A",!1),U("hour","h"),G("hour",13),de("a",ot),de("A",ot),de("H",Z),de("h",Z),de("k",Z),de("HH",Z,J),de("hh",Z,J),de("kk",Z,J),de("hmm",ee),de("hmmss",te),de("Hmm",ee),de("Hmmss",te),pe(["H","HH"],Le),pe(["k","kk"],function(e,t,r){var o=E(e);t[Le]=24===o?0:o}),pe(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e}),pe(["h","hh"],function(e,t,r){t[Le]=E(e),p(r).bigHour=!0}),pe("hmm",function(e,t,r){var o=e.length-2;t[Le]=E(e.substr(0,o)),t[Re]=E(e.substr(o)),p(r).bigHour=!0}),pe("hmmss",function(e,t,r){var o=e.length-4,a=e.length-2;t[Le]=E(e.substr(0,o)),t[Re]=E(e.substr(o,2)),t[Se]=E(e.substr(a)),p(r).bigHour=!0}),pe("Hmm",function(e,t,r){var o=e.length-2;t[Le]=E(e.substr(0,o)),t[Re]=E(e.substr(o))}),pe("Hmmss",function(e,t,r){var o=e.length-4,a=e.length-2;t[Le]=E(e.substr(0,o)),t[Re]=E(e.substr(o,2)),t[Se]=E(e.substr(a))});var at,nt=Ae("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:Pe,week:{dow:0,doy:6},weekdays:Ke,weekdaysMin:qe,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},it={},lt={};function mt(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var o=null;if(!it[t]&&void 0!==e&&e&&e.exports)try{o=at._abbr;r(173)("./"+t),dt(o)}catch(e){}return it[t]}function dt(e,t){var r;return e&&((r=l(t)?_t(e):ct(e,t))?at=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ct(e,t){if(null!==t){var r,o=st;if(t.abbr=e,null!=it[e])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])o=it[t.parentLocale]._config;else{if(null==(r=ut(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;o=r._config}return it[e]=new D(w(o,t)),lt[e]&&lt[e].forEach(function(e){ct(e.name,e.config)}),dt(e),it[e]}return delete it[e],null}function _t(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!n(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,r,o,a,n=0;n<e.length;){for(t=(a=mt(e[n]).split("-")).length,r=(r=mt(e[n+1]))?r.split("-"):null;t>0;){if(o=ut(a.slice(0,t).join("-")))return o;if(r&&r.length>=t&&b(a,r,!0)>=t-1)break;t--}n++}return at}(e)}function ht(e){var t,r=e._a;return r&&-2===p(e).overflow&&(t=r[Me]<0||r[Me]>11?Me:r[Te]<1||r[Te]>Ne(r[ge],r[Me])?Te:r[Le]<0||r[Le]>24||24===r[Le]&&(0!==r[Re]||0!==r[Se]||0!==r[Ee])?Le:r[Re]<0||r[Re]>59?Re:r[Se]<0||r[Se]>59?Se:r[Ee]<0||r[Ee]>999?Ee:-1,p(e)._overflowDayOfYear&&(t<ge||t>Te)&&(t=Te),p(e)._overflowWeeks&&-1===t&&(t=be),p(e)._overflowWeekday&&-1===t&&(t=Ce),p(e).overflow=t),e}function pt(e,t,r){return null!=e?e:null!=t?t:r}function yt(e){var t,r,o,n,s,i=[];if(!e._d){for(o=function(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[Te]&&null==e._a[Me]&&function(e){var t,r,o,a,n,s,i,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)n=1,s=4,r=pt(t.GG,e._a[ge],Ve(At(),1,4).year),o=pt(t.W,1),((a=pt(t.E,1))<1||a>7)&&(l=!0);else{n=e._locale._week.dow,s=e._locale._week.doy;var m=Ve(At(),n,s);r=pt(t.gg,e._a[ge],m.year),o=pt(t.w,m.week),null!=t.d?((a=t.d)<0||a>6)&&(l=!0):null!=t.e?(a=t.e+n,(t.e<0||t.e>6)&&(l=!0)):a=n}o<1||o>ze(r,n,s)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(i=$e(r,o,a,n,s),e._a[ge]=i.year,e._dayOfYear=i.dayOfYear)}(e),null!=e._dayOfYear&&(s=pt(e._a[ge],o[ge]),(e._dayOfYear>Oe(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),r=We(s,0,e._dayOfYear),e._a[Me]=r.getUTCMonth(),e._a[Te]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=o[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Le]&&0===e._a[Re]&&0===e._a[Se]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[Le]=0),e._d=(e._useUTC?We:function(e,t,r,o,a,n,s){var i=new Date(e,t,r,o,a,n,s);return e<100&&e>=0&&isFinite(i.getFullYear())&&i.setFullYear(e),i}).apply(null,i),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Le]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(p(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mt=/Z|[+-]\d\d(?::?\d\d)?/,Tt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Lt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rt=/^\/?Date\((\-?\d+)/i;function St(e){var t,r,o,a,n,s,i=e._i,l=ft.exec(i)||gt.exec(i);if(l){for(p(e).iso=!0,t=0,r=Tt.length;t<r;t++)if(Tt[t][1].exec(l[1])){a=Tt[t][0],o=!1!==Tt[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,r=Lt.length;t<r;t++)if(Lt[t][1].exec(l[3])){n=(l[2]||" ")+Lt[t][0];break}if(null==n)return void(e._isValid=!1)}if(!o&&null!=n)return void(e._isValid=!1);if(l[4]){if(!Mt.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=a+(n||"")+(s||""),kt(e)}else e._isValid=!1}var Et=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function bt(e,t,r,o,a,n){var s=[function(e){var t=parseInt(e,10);if(t<=49)return 2e3+t;if(t<=999)return 1900+t;return t}(e),Pe.indexOf(t),parseInt(r,10),parseInt(o,10),parseInt(a,10)];return n&&s.push(parseInt(n,10)),s}var Ct={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e){var t=Et.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(t){var r=bt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,r){return!e||Je.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(r).weekdayMismatch=!0,r._isValid=!1,!1)}(t[1],r,e))return;e._a=r,e._tzm=function(e,t,r){if(e)return Ct[e];if(t)return 0;var o=parseInt(r,10),a=o%100;return(o-a)/100*60+a}(t[8],t[9],t[10]),e._d=We.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function kt(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],p(e).empty=!0;var t,r,o,n,s,i=""+e._i,l=i.length,m=0;for(o=z(e._f,e._locale).match(H)||[],t=0;t<o.length;t++)n=o[t],(r=(i.match(ce(n,e))||[])[0])&&((s=i.substr(0,i.indexOf(r))).length>0&&p(e).unusedInput.push(s),i=i.slice(i.indexOf(r)+r.length),m+=r.length),B[n]?(r?p(e).empty=!1:p(e).unusedTokens.push(n),fe(n,r,e)):e._strict&&!r&&p(e).unusedTokens.push(n);p(e).charsLeftOver=l-m,i.length>0&&p(e).unusedInput.push(i),e._a[Le]<=12&&!0===p(e).bigHour&&e._a[Le]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[Le]=function(e,t,r){var o;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((o=e.isPM(r))&&t<12&&(t+=12),o||12!==t||(t=0),t):t}(e._locale,e._a[Le],e._meridiem),yt(e),ht(e)}else Ot(e);else St(e)}function vt(e){var t=e._i,r=e._f;return e._locale=e._locale||_t(e._l),null===t||void 0===r&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),R(t)?new L(ht(t)):(u(t)?e._d=t:n(r)?function(e){var t,r,o,a,n;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)n=0,t=M({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],kt(t),y(t)&&(n+=p(t).charsLeftOver,n+=10*p(t).unusedTokens.length,p(t).score=n,(null==o||n<o)&&(o=n,r=t));_(e,r||t)}(e):r?kt(e):function(e){var t=e._i;l(t)?e._d=new Date(a.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Rt.exec(e._i);null===t?(St(e),!1===e._isValid&&(delete e._isValid,Ot(e),!1===e._isValid&&(delete e._isValid,a.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):n(t)?(e._a=d(t.slice(0),function(e){return parseInt(e,10)}),yt(e)):i(t)?function(e){if(!e._d){var t=P(e._i);e._a=d([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),yt(e)}}(e):m(t)?e._d=new Date(t):a.createFromInputFallback(e)}(e),y(e)||(e._d=null),e))}function Yt(e,t,r,o,a){var s,l={};return!0!==r&&!1!==r||(o=r,r=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=t,l._strict=o,(s=new L(ht(vt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function At(e,t,r,o){return Yt(e,t,r,o,!1)}a.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var wt=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Dt=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=At.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()});function Nt(e,t){var r,o;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return At();for(r=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](r)||(r=t[o]);return r}var Ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xt(e){var t=P(e),r=t.year||0,o=t.quarter||0,a=t.month||0,n=t.week||0,s=t.day||0,i=t.hour||0,l=t.minute||0,m=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ve.call(Ut,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var r=!1,o=0;o<Ut.length;++o)if(e[Ut[o]]){if(r)return!1;parseFloat(e[Ut[o]])!==E(e[Ut[o]])&&(r=!0)}return!0}(t),this._milliseconds=+u+1e3*m+6e4*l+1e3*i*60*60,this._days=+s+7*n,this._months=+a+3*o+12*r,this._data={},this._locale=_t(),this._bubble()}function Pt(e){return e instanceof xt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Gt(e,t){$(e,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+I(~~(e/60),2)+t+I(~~e%60,2)})}Gt("Z",":"),Gt("ZZ",""),de("Z",le),de("ZZ",le),pe(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Ht(le,e)});var It=/([\+\-]|\d\d)/gi;function Ht(e,t){var r=(t||"").match(e);if(null===r)return null;var o=((r[r.length-1]||[])+"").match(It)||["-",0,0],a=60*o[1]+E(o[2]);return 0===a?0:"+"===o[0]?a:-a}function Ft(e,t){var r,o;return t._isUTC?(r=t.clone(),o=(R(e)||u(e)?e.valueOf():At(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),a.updateOffset(r,!1),r):At(e).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}a.updateOffset=function(){};var $t=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zt(e,t){var r,o,a,n=e,i=null;return Pt(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:m(e)?(n={},t?n[t]=e:n.milliseconds=e):(i=$t.exec(e))?(r="-"===i[1]?-1:1,n={y:0,d:E(i[Te])*r,h:E(i[Le])*r,m:E(i[Re])*r,s:E(i[Se])*r,ms:E(jt(1e3*i[Ee]))*r}):(i=Vt.exec(e))?(r="-"===i[1]?-1:(i[1],1),n={y:Kt(i[2],r),M:Kt(i[3],r),w:Kt(i[4],r),d:Kt(i[5],r),h:Kt(i[6],r),m:Kt(i[7],r),s:Kt(i[8],r)}):null==n?n={}:"object"===(void 0===n?"undefined":s(n))&&("from"in n||"to"in n)&&(a=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ft(t,e),e.isBefore(t)?r=Jt(e,t):((r=Jt(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(At(n.from),At(n.to)),(n={}).ms=a.milliseconds,n.M=a.months),o=new xt(n),Pt(e)&&c(e,"_locale")&&(o._locale=e._locale),o}function Kt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Jt(e,t){var r={milliseconds:0,months:0};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function qt(e,t){return function(r,o){var a;return null===o||isNaN(+o)||(Y(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=o,o=a),Xt(this,zt(r="string"==typeof r?+r:r,o),e),this}}function Xt(e,t,r,o){var n=t._milliseconds,s=jt(t._days),i=jt(t._months);e.isValid()&&(o=null==o||o,i&&je(e,we(e,"Month")+i*r),s&&De(e,"Date",we(e,"Date")+s*r),n&&e._d.setTime(e._d.valueOf()+n*r),o&&a.updateOffset(e,s||i))}zt.fn=xt.prototype,zt.invalid=function(){return zt(NaN)};var Qt=qt(1,"add"),Zt=qt(-1,"subtract");function er(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return-(r+(t-o<0?(t-o)/(o-e.clone().add(r-1,"months")):(t-o)/(e.clone().add(r+1,"months")-o)))||0}function tr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_t(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rr=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function or(){return this._locale}function ar(e,t){$(0,[e,e.length],0,t)}function nr(e,t,r,o,a){var n;return null==e?Ve(this,o,a).year:(t>(n=ze(e,o,a))&&(t=n),function(e,t,r,o,a){var n=$e(e,t,r,o,a),s=We(n.year,0,n.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,r,o,a))}$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ar("gggg","weekYear"),ar("ggggg","weekYear"),ar("GGGG","isoWeekYear"),ar("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),de("G",se),de("g",se),de("GG",Z,J),de("gg",Z,J),de("GGGG",oe,X),de("gggg",oe,X),de("GGGGG",ae,Q),de("ggggg",ae,Q),ye(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,o){t[o.substr(0,2)]=E(e)}),ye(["gg","GG"],function(e,t,r,o){t[o]=a.parseTwoDigitYear(e)}),$("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),de("Q",K),pe("Q",function(e,t){t[Me]=3*(E(e)-1)}),$("D",["DD",2],"Do","date"),U("date","D"),G("date",9),de("D",Z),de("DD",Z,J),de("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],Te),pe("Do",function(e,t){t[Te]=E(e.match(Z)[0])});var sr=Ae("Date",!0);$("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),de("DDD",re),de("DDDD",q),pe(["DDD","DDDD"],function(e,t,r){r._dayOfYear=E(e)}),$("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),de("m",Z),de("mm",Z,J),pe(["m","mm"],Re);var ir=Ae("Minutes",!1);$("s",["ss",2],0,"second"),U("second","s"),G("second",15),de("s",Z),de("ss",Z,J),pe(["s","ss"],Se);var lr,mr=Ae("Seconds",!1);for($("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),G("millisecond",16),de("S",re,K),de("SS",re,J),de("SSS",re,q),lr="SSSS";lr.length<=9;lr+="S")de(lr,ne);function ur(e,t){t[Ee]=E(1e3*("0."+e))}for(lr="S";lr.length<=9;lr+="S")pe(lr,ur);var dr=Ae("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var cr=L.prototype;function _r(e){return e}cr.add=Qt,cr.calendar=function(e,t){var r=e||At(),o=Ft(r,this).startOf("day"),n=a.calendarFormat(this,o)||"sameElse",s=t&&(A(t[n])?t[n].call(this,r):t[n]);return this.format(s||this.localeData().calendar(n,this,At(r)))},cr.clone=function(){return new L(this)},cr.diff=function(e,t,r){var o,a,n;if(!this.isValid())return NaN;if(!(o=Ft(e,this)).isValid())return NaN;switch(a=6e4*(o.utcOffset()-this.utcOffset()),t=x(t)){case"year":n=er(this,o)/12;break;case"month":n=er(this,o);break;case"quarter":n=er(this,o)/3;break;case"second":n=(this-o)/1e3;break;case"minute":n=(this-o)/6e4;break;case"hour":n=(this-o)/36e5;break;case"day":n=(this-o-a)/864e5;break;case"week":n=(this-o-a)/6048e5;break;default:n=this-o}return r?n:S(n)},cr.endOf=function(e){return void 0===(e=x(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},cr.format=function(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)},cr.from=function(e,t){return this.isValid()&&(R(e)&&e.isValid()||At(e).isValid())?zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cr.fromNow=function(e){return this.from(At(),e)},cr.to=function(e,t){return this.isValid()&&(R(e)&&e.isValid()||At(e).isValid())?zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cr.toNow=function(e){return this.to(At(),e)},cr.get=function(e){return A(this[e=x(e)])?this[e]():this},cr.invalidAt=function(){return p(this).overflow},cr.isAfter=function(e,t){var r=R(e)?e:At(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(l(t)?"millisecond":t))?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},cr.isBefore=function(e,t){var r=R(e)?e:At(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(l(t)?"millisecond":t))?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},cr.isBetween=function(e,t,r,o){return("("===(o=o||"()")[0]?this.isAfter(e,r):!this.isBefore(e,r))&&(")"===o[1]?this.isBefore(t,r):!this.isAfter(t,r))},cr.isSame=function(e,t){var r,o=R(e)?e:At(e);return!(!this.isValid()||!o.isValid())&&("millisecond"===(t=x(t||"millisecond"))?this.valueOf()===o.valueOf():(r=o.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},cr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},cr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},cr.isValid=function(){return y(this)},cr.lang=rr,cr.locale=tr,cr.localeData=or,cr.max=Dt,cr.min=wt,cr.parsingFlags=function(){return _({},p(this))},cr.set=function(e,t){if("object"===(void 0===e?"undefined":s(e)))for(var r=function(e){var t=[];for(var r in e)t.push({unit:r,priority:j[r]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),o=0;o<r.length;o++)this[r[o].unit](e[r[o].unit]);else if(A(this[e=x(e)]))return this[e](t);return this},cr.startOf=function(e){switch(e=x(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},cr.subtract=Zt,cr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},cr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},cr.toDate=function(){return new Date(this.valueOf())},cr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?V(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(r,"Z")):V(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var r="["+e+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(r+o+"-MM-DD[T]HH:mm:ss.SSS"+a)},cr.toJSON=function(){return this.isValid()?this.toISOString():null},cr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cr.unix=function(){return Math.floor(this.valueOf()/1e3)},cr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cr.year=Ye,cr.isLeapYear=function(){return ke(this.year())},cr.weekYear=function(e){return nr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cr.isoWeekYear=function(e){return nr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},cr.quarter=cr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},cr.month=Ge,cr.daysInMonth=function(){return Ne(this.year(),this.month())},cr.week=cr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},cr.isoWeek=cr.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},cr.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},cr.isoWeeksInYear=function(){return ze(this.year(),1,4)},cr.date=sr,cr.day=cr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},cr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},cr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},cr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},cr.hour=cr.hours=nt,cr.minute=cr.minutes=ir,cr.second=cr.seconds=mr,cr.millisecond=cr.milliseconds=dr,cr.utcOffset=function(e,t,r){var o,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ht(le,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(o=Wt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==e&&(!t||this._changeInProgress?Xt(this,zt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Wt(this)},cr.utc=function(e){return this.utcOffset(0,e)},cr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this},cr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ht(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},cr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?At(e).utcOffset():0,(this.utcOffset()-e)%60==0)},cr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cr.isLocal=function(){return!!this.isValid()&&!this._isUTC},cr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cr.isUtc=Bt,cr.isUTC=Bt,cr.zoneAbbr=function(){return this._isUTC?"UTC":""},cr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cr.dates=O("dates accessor is deprecated. Use date instead.",sr),cr.months=O("months accessor is deprecated. Use month instead",Ge),cr.years=O("years accessor is deprecated. Use year instead",Ye),cr.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),cr.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(M(e,this),(e=vt(e))._a){var t=e._isUTC?h(e._a):At(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var hr=D.prototype;function pr(e,t,r,o){var a=_t(),n=h().set(o,t);return a[r](n,e)}function yr(e,t,r){if(m(e)&&(t=e,e=void 0),e=e||"",null!=t)return pr(e,t,r,"month");var o,a=[];for(o=0;o<12;o++)a[o]=pr(e,o,r,"month");return a}function fr(e,t,r,o){"boolean"==typeof e?(m(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,m(t)&&(r=t,t=void 0),t=t||"");var a,n=_t(),s=e?n._week.dow:0;if(null!=r)return pr(t,(r+s)%7,o,"day");var i=[];for(a=0;a<7;a++)i[a]=pr(t,(a+s)%7,o,"day");return i}hr.calendar=function(e,t,r){var o=this._calendar[e]||this._calendar.sameElse;return A(o)?o.call(t,r):o},hr.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},hr.invalidDate=function(){return this._invalidDate},hr.ordinal=function(e){return this._ordinal.replace("%d",e)},hr.preparse=_r,hr.postformat=_r,hr.relativeTime=function(e,t,r,o){var a=this._relativeTime[r];return A(a)?a(e,t,r,o):a.replace(/%d/i,e)},hr.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return A(r)?r(t):r.replace(/%s/i,t)},hr.set=function(e){var t,r;for(r in e)A(t=e[r])?this[r]=t:this["_"+r]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hr.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ue).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},hr.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ue.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hr.monthsParse=function(e,t,r){var o,a,n;if(this._monthsParseExact)return function(e,t,r){var o,a,n,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)n=h([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(n,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(a=ve.call(this._shortMonthsParse,s))?a:null:-1!==(a=ve.call(this._longMonthsParse,s))?a:null:"MMM"===t?-1!==(a=ve.call(this._shortMonthsParse,s))?a:-1!==(a=ve.call(this._longMonthsParse,s))?a:null:-1!==(a=ve.call(this._longMonthsParse,s))?a:-1!==(a=ve.call(this._shortMonthsParse,s))?a:null}.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(a=h([2e3,o]),r&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),r||this._monthsParse[o]||(n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[o]=new RegExp(n.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(r&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!r&&this._monthsParse[o].test(e))return o}},hr.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hr.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ie),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hr.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},hr.firstDayOfYear=function(){return this._week.doy},hr.firstDayOfWeek=function(){return this._week.dow},hr.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},hr.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},hr.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},hr.weekdaysParse=function(e,t,r){var o,a,n;if(this._weekdaysParseExact)return function(e,t,r){var o,a,n,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)n=h([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(n,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(a=ve.call(this._weekdaysParse,s))?a:null:"ddd"===t?-1!==(a=ve.call(this._shortWeekdaysParse,s))?a:null:-1!==(a=ve.call(this._minWeekdaysParse,s))?a:null:"dddd"===t?-1!==(a=ve.call(this._weekdaysParse,s))?a:-1!==(a=ve.call(this._shortWeekdaysParse,s))?a:-1!==(a=ve.call(this._minWeekdaysParse,s))?a:null:"ddd"===t?-1!==(a=ve.call(this._shortWeekdaysParse,s))?a:-1!==(a=ve.call(this._weekdaysParse,s))?a:-1!==(a=ve.call(this._minWeekdaysParse,s))?a:null:-1!==(a=ve.call(this._minWeekdaysParse,s))?a:-1!==(a=ve.call(this._weekdaysParse,s))?a:-1!==(a=ve.call(this._shortWeekdaysParse,s))?a:null}.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(a=h([2e3,1]).day(o),r&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[o]=new RegExp(n.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(r&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(r&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!r&&this._weekdaysParse[o].test(e))return o}},hr.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hr.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),a.lang=O("moment.lang is deprecated. Use moment.locale instead.",dt),a.langData=O("moment.langData is deprecated. Use moment.localeData instead.",_t);var gr=Math.abs;function Mr(e,t,r,o){var a=zt(t,r);return e._milliseconds+=o*a._milliseconds,e._days+=o*a._days,e._months+=o*a._months,e._bubble()}function Tr(e){return e<0?Math.floor(e):Math.ceil(e)}function Lr(e){return 4800*e/146097}function Rr(e){return 146097*e/4800}function Sr(e){return function(){return this.as(e)}}var Er=Sr("ms"),br=Sr("s"),Cr=Sr("m"),Or=Sr("h"),kr=Sr("d"),vr=Sr("w"),Yr=Sr("M"),Ar=Sr("y");function wr(e){return function(){return this.isValid()?this._data[e]:NaN}}var Dr=wr("milliseconds"),Nr=wr("seconds"),Ur=wr("minutes"),xr=wr("hours"),Pr=wr("days"),jr=wr("months"),Gr=wr("years");var Ir=Math.round,Hr={ss:44,s:45,m:45,h:22,d:26,M:11};var Fr=Math.abs;function Wr(e){return(e>0)-(e<0)||+e}function Br(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r=Fr(this._milliseconds)/1e3,o=Fr(this._days),a=Fr(this._months);t=S((e=S(r/60))/60),r%=60,e%=60;var n=S(a/12),s=a%=12,i=o,l=t,m=e,u=r?r.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",_=Wr(this._months)!==Wr(d)?"-":"",h=Wr(this._days)!==Wr(d)?"-":"",p=Wr(this._milliseconds)!==Wr(d)?"-":"";return c+"P"+(n?_+n+"Y":"")+(s?_+s+"M":"")+(i?h+i+"D":"")+(l||m||u?"T":"")+(l?p+l+"H":"")+(m?p+m+"M":"")+(u?p+u+"S":"")}var $r=xt.prototype;return $r.isValid=function(){return this._isValid},$r.abs=function(){var e=this._data;return this._milliseconds=gr(this._milliseconds),this._days=gr(this._days),this._months=gr(this._months),e.milliseconds=gr(e.milliseconds),e.seconds=gr(e.seconds),e.minutes=gr(e.minutes),e.hours=gr(e.hours),e.months=gr(e.months),e.years=gr(e.years),this},$r.add=function(e,t){return Mr(this,e,t,1)},$r.subtract=function(e,t){return Mr(this,e,t,-1)},$r.as=function(e){if(!this.isValid())return NaN;var t,r,o=this._milliseconds;if("month"===(e=x(e))||"year"===e)return t=this._days+o/864e5,r=this._months+Lr(t),"month"===e?r:r/12;switch(t=this._days+Math.round(Rr(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}},$r.asMilliseconds=Er,$r.asSeconds=br,$r.asMinutes=Cr,$r.asHours=Or,$r.asDays=kr,$r.asWeeks=vr,$r.asMonths=Yr,$r.asYears=Ar,$r.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},$r._bubble=function(){var e,t,r,o,a,n=this._milliseconds,s=this._days,i=this._months,l=this._data;return n>=0&&s>=0&&i>=0||n<=0&&s<=0&&i<=0||(n+=864e5*Tr(Rr(i)+s),s=0,i=0),l.milliseconds=n%1e3,e=S(n/1e3),l.seconds=e%60,t=S(e/60),l.minutes=t%60,r=S(t/60),l.hours=r%24,i+=a=S(Lr(s+=S(r/24))),s-=Tr(Rr(a)),o=S(i/12),i%=12,l.days=s,l.months=i,l.years=o,this},$r.clone=function(){return zt(this)},$r.get=function(e){return e=x(e),this.isValid()?this[e+"s"]():NaN},$r.milliseconds=Dr,$r.seconds=Nr,$r.minutes=Ur,$r.hours=xr,$r.days=Pr,$r.weeks=function(){return S(this.days()/7)},$r.months=jr,$r.years=Gr,$r.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),r=function(e,t,r){var o=zt(e).abs(),a=Ir(o.as("s")),n=Ir(o.as("m")),s=Ir(o.as("h")),i=Ir(o.as("d")),l=Ir(o.as("M")),m=Ir(o.as("y")),u=a<=Hr.ss&&["s",a]||a<Hr.s&&["ss",a]||n<=1&&["m"]||n<Hr.m&&["mm",n]||s<=1&&["h"]||s<Hr.h&&["hh",s]||i<=1&&["d"]||i<Hr.d&&["dd",i]||l<=1&&["M"]||l<Hr.M&&["MM",l]||m<=1&&["y"]||["yy",m];return u[2]=t,u[3]=+e>0,u[4]=r,function(e,t,r,o,a){return a.relativeTime(t||1,!!r,e,o)}.apply(null,u)}(this,!e,t);return e&&(r=t.pastFuture(+this,r)),t.postformat(r)},$r.toISOString=Br,$r.toString=Br,$r.toJSON=Br,$r.locale=tr,$r.localeData=or,$r.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Br),$r.lang=rr,$("X",0,0,"unix"),$("x",0,0,"valueOf"),de("x",se),de("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,r){r._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,r){r._d=new Date(E(e))}),a.version="2.22.1",t=At,a.fn=cr,a.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},a.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},a.now=function(){return Date.now?Date.now():+new Date},a.utc=h,a.unix=function(e){return At(1e3*e)},a.months=function(e,t){return yr(e,t,"months")},a.isDate=u,a.locale=dt,a.invalid=f,a.duration=zt,a.isMoment=R,a.weekdays=function(e,t,r){return fr(e,t,r,"weekdays")},a.parseZone=function(){return At.apply(null,arguments).parseZone()},a.localeData=_t,a.isDuration=Pt,a.monthsShort=function(e,t){return yr(e,t,"monthsShort")},a.weekdaysMin=function(e,t,r){return fr(e,t,r,"weekdaysMin")},a.defineLocale=ct,a.updateLocale=function(e,t){if(null!=t){var r,o,a=st;null!=(o=ut(e))&&(a=o._config),(r=new D(t=w(a,t))).parentLocale=it[e],it[e]=r,dt(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},a.locales=function(){return k(it)},a.weekdaysShort=function(e,t,r){return fr(e,t,r,"weekdaysShort")},a.normalizeUnits=x,a.relativeTimeRounding=function(e){return void 0===e?Ir:"function"==typeof e&&(Ir=e,!0)},a.relativeTimeThreshold=function(e,t){return void 0!==Hr[e]&&(void 0===t?Hr[e]:(Hr[e]=t,"s"===e&&(Hr.ss=t-1),!0))},a.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},a.prototype=cr,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},a},"object"===s(t)&&void 0!==e?e.exports=n():void 0===(a="function"==typeof(o=n)?o.call(t,r,t,e):o)||(e.exports=a)}).call(t,r(172)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CreepAction=class{constructor(e){this.maxPerTarget=1/0,this.maxPerAction=1/0,this.targetRange=1,this.reachedRange=1,this.renewTarget=!0,this.default={name:`default-${this.name}`,moveOptions:e=>e||{}},this.setDefault=(e=>{_.assign(this.default,e)}),this.getTargetId=(e=>e.id||e.name),this.getTargetById=(e=>Game.getObjectById(e)||Game.spawns[e]||Game.flags[e]),this.isValidAction=(e=>!0),this.isValidTarget=((e,t)=>null!=e),this.isAddableAction=(e=>this.maxPerAction===1/0||!e.room.population||!e.room.population.actionCount[this.name]||e.room.population.actionCount[this.name]<this.maxPerAction),this.isAddableTarget=((e,t)=>!e.targetOf||this.maxPerTarget===1/0||_.filter(e.targetOf,{actionName:this.name}).length<this.maxPerTarget),this.newTarget=(e=>null),this.unassign=(e=>{delete e.data.actionName,delete e.data.targetId,delete e.action,delete e.target}),this.step=(e=>{CHATTY&&e.say(this.name,SAY_PUBLIC);let t=e.pos.getRangeTo(e.target);if(t<=this.targetRange){let r=this.work(e);if(r!=OK)return e.handleError({errorCode:r,action:this,target:e.target,range:t,creep:e}),this.unassign(e);t=e.pos.getRangeTo(e.target)}if(e.target&&e.hasActiveBodyparts(MOVE))if(t>this.targetRange)e.travelTo(e.target,{range:this.targetRange});else if(t>this.reachedRange){const t=e.pos.getDirectionTo(e.target),r=Traveler.positionAtDirection(e.pos,t);e.room.isWalkable(r.x,r.y)?e.move(t):e.pos.isNearTo(e.target)||e.travelTo(e.target,{range:this.reachedRange})}}),this.work=(e=>ERR_INVALID_ARGS),this.validateActionTarget=((e,t)=>{if(this.isValidAction(e)){if(this.isValidTarget(t,e))return t;if(this.renewTarget)return delete e.data.path,this.newTarget(e)}return null}),this.assign=((e,t)=>(void 0===t&&(t=this.newTarget(e)),!(!t||!this.isAddableTarget(t,e)||(LOG_TRACE&&Log.trace("Action",{creepName:e.name,assign:this.name,target:!t||t.name||t.id,Action:"assign"}),e.action&&e.action.name==this.name&&e.target&&e.target.id===t.id&&e.target.name==t.name||(PopManager.registerAction(e,this,t),this.onAssignment(e,t)),0)))),this.showAssignment=((e,t)=>{SAY_ASSIGNMENT&&Util.emoji[_.snakeCase(this.name)]&&e.say(Util.emoji[_.snakeCase(this.name)],SAY_PUBLIC),(t instanceof RoomObject||t instanceof RoomPosition&&VISUALS.ACTION_ASSIGNMENT)&&Visuals.drawArrow(e,t)}),this.onAssignment=((e,t)=>{this.showAssignment(e,t)}),this.selectstate=(()=>[this.default]),this.isMember=(e=>_.find(e,e=>e.name===this.name,this)),this.getStrategy=((e,t,...r)=>_.isUndefined(r)?t.getStrategyHandler([this.name],e):t.getStrategyHandler([this.name],e,...r)),this.name=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CreepBehaviour=class{constructor(e){this.state={default:{name:`default-${this.name}`}},this.setState=(e=>{_.assign(this.state,e)}),this.mergeState=(e=>{_.merge(this.state,e)}),this.actions=(e=>[]),this.inflowActions=(e=>[]),this.outflowActions=(e=>[]),this.assignAction=((e,t,r,o)=>{"string"==typeof t&&(t=CreepManager.action[t]);const a=t.isValidAction(e);if(LOG_TRACE&&Log.trace("Action",{actionName:t.name,behaviourName:this.name,creepName:e.name,valid:a,Action:"isValidAction"}),!a)return!1;const n=t.isAddableAction(e);if(LOG_TRACE&&Log.trace("Action",{actionName:t.name,behaviourName:this.name,creepName:e.name,addable:n,Action:"isAddableAction"}),!n)return!1;const s=t.assignDebounce?t.assignDebounce(e,o,r):t.assign(e,r);return s?(LOG_TRACE&&Log.trace("Behaviour",{actionName:t.name,behaviourName:this.name,creepName:e.name,assigned:s,Behaviour:"nextAction",Action:"assign",target:e.target.id||e.target.name}),e.data.lastAction=t.name,e.data.lastTarget=e.target.id,!0):(LOG_TRACE&&Log.trace("Action",{actionName:t.name,behaviourName:this.name,creepName:e.name,assigned:s,Behaviour:"assignAction",Action:"assign"}),!1)}),this.selectInflowAction=(e=>{const t={},r=this.outflowActions(e);for(let o of this.inflowActions(e))if(!t[o.name]&&(t[o.name]=!0,this.assignAction(e,o,void 0,r)))return;return CreepManager.action.idle.assign(e)}),this.selectAction=((e,t)=>{const r={};for(let o of t)if(!r[o.name]&&(r[o.name]=!0,this.assignAction(e,o)))return;return CreepManager.action.idle.assign(e)}),this.nextAction=(e=>this.selectAction(e,this.actions(e))),this.needEnergy=(e=>e.sum<e.carryCapacity/2),this.nextEnergyAction=(e=>{if(this.needEnergy(e))return this.selectInflowAction(e);if(e.data.nextAction&&e.data.nextTarget){const t=CreepManager.action[e.data.nextAction],r=Game.getObjectById(e.data.nextTarget);if(delete e.data.nextAction,delete e.data.nextTarget,this.assignAction(e,t,r))return!0}return this.selectAction(e,this.outflowActions(e))}),this.invalidAction=(e=>!e.action),this.run=(e=>{this.invalidAction(e)&&(e.data.destiny&&e.data.destiny.task&&TaskManager[e.data.destiny.task]&&TaskManager[e.data.destiny.task].nextAction?TaskManager[e.data.destiny.task].nextAction(e):this.nextAction(e)),e.action&&e.target?(LOG_TRACE&&Log.trace("Behaviour",{actionName:e.action.name,behaviourName:this.name,creepName:e.name,target:e.target.id||e.target.name,Action:"run"}),e.action.step(e)):Log.error("Creep without action/activity!\nCreep: "+e.name+"\ndata: "+JSON.stringify(e.data))}),this.assign=(e=>{e.data.creepType=this.name}),this.selectstate=(e=>[this.state.default,this.state[e]]),this.name=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RoomExtra=class{constructor(e){this.extend=(()=>{this.prototypeExtend(),this.roomManagerExtend()}),this.prototypeExtend=(()=>{}),this.roomManagerExtend=(()=>{}),this.assignRoomPrototype=(e=>{Object.defineProperties(Room.prototype,e)}),this.assignRoomManager=(e=>{_.assign(RoomManager,e)}),this.name=e}}},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(138)),o(r(188))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TaskComponent=class{constructor(e){this.register=(()=>{}),this.name=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CreepSetup=class{constructor(e){this.minControllerLevel=0,this.none={fixedBody:[],multiBody:[],minAbsEnergyAvailable:1/0,minEnergyAvailable:1,maxMulti:0,maxCount:0,maxWeight:0},this.globalMeasurement=!1,this.measureByHome=!1,this.sortedParts=!0,this.mixMoveParts=!1,this._fixedBody=(e=>this.getRCL(e,"fixedBody")),this._multiBody=(e=>this.getRCL(e,"multiBody")),this._minAbsEnergyAvailable=(e=>this.getRCL(e,"minAbsEnergyAvailable")),this._minEnergyAvailable=(e=>this.getRCL(e,"minEnergyAvailable")),this._minMulti=(e=>this.getRCL(e,"minMulti")),this._maxMulti=(e=>this.getRCL(e,"maxMulti")),this._maxCount=(e=>this.getRCL(e,"maxCount")),this._maxWeight=(e=>this.getRCL(e,"maxWeight")),this.buildParams=(e=>{let t={setup:null,name:null,parts:[],cost:0,mother:null,home:null,breeding:1};t.setup=this.type,t.parts=this.parts(e.room),t.cost=CreepManager.bodyCosts(t.parts),t.mother=e.name,t.home=e.pos.roomName;for(let e=1;null==t.name||Game.creeps[t.name]||Memory.population[t.name];e++)t.name=this.type+"-"+t.cost+"-"+e;return t}),this.isValidSetup=(e=>{if(e.RCL<this.minControllerLevel)return LOG_TRACE&&Log.trace("Setup",{setupType:this.type,room:e.name,rcl:e.RCL,Setup:"isValidSetup"},"low RCL"),!1;let t=this._minAbsEnergyAvailable(e),r=this._minEnergyAvailable(e);const o=e.remainingEnergyAvailable,a=e.relativeRemainingEnergyAvailable;if(o<t||a<r)return LOG_TRACE&&Log.trace("Setup",{setupType:this.type,room:e.name,absEnergy:o,energy:a,Setup:"isValidSetup"},"not enough energy"),!1;let n=this._maxCount(e),s=this._maxWeight(e);if(0===n||0===s)return LOG_TRACE&&Log.trace("Setup",{setupType:this.type,room:e.name,maxCount:n,maxWeight:s,Setup:"isValidSetup"},"too many creeps"),!1;null==n&&(n=1/0),null==s&&(s=1/0);let i=0,l=0;if(this.measureByHome){let t=e.name,r=e=>{e.creepType==this.type&&e.homeRoom==t&&CreepManager.isWorkingAge(e)&&(i++,l+=e.weight)};_.forEach(Memory.population,r)}else{let t=this.globalMeasurement?PopManager:e.population;if(!t||!t.typeCount[this.type])return!0;i=t.typeCount[this.type]||0,l=t.typeWeight[this.type]||0}const m=i<n&&l<s;return LOG_TRACE&&Log.trace("Setup",{setupType:this.type,room:e.name,returnVal:m,Setup:"isValidSetup"},"count:",i,"<",n,"weight:",l,"<",s),m}),this.existingWeight=(e=>{let t=0;if(this.measureByHome){let r=e.name,o=e=>{e.creepType==this.type&&e.homeRoom==r&&(t+=e.weight)};_.forEach(Memory.population,o)}else{let r=this.globalMeasurement?PopManager:e.population;t=r&&r.typeWeight[this.type]||0}return t}),this.parts=(e=>{const t=this._fixedBody(e),r=this._multiBody(e),o=this._minMulti(e),a=this._maxMulti(e),n=this._maxWeight(e);let s;return n&&(s=n-this.existingWeight(e)),LOG_TRACE&&Log.trace("Setup",{setupType:this.type,room:e.name,Setup:"parts",maxWeight:n,minMulti:o,maxMulti:a}),CreepManager.compileBody(e,{fixedBody:t,multiBody:r,minMulti:o,maxMulti:a,maxWeight:s,currentEnergy:!0,sort:this.sortedParts})}),this.mixParts=(e=>{let t=_.countBy(e),r=e.filter(e=>e!=MOVE),o=[];for(let e=r.length-1;e>=0;e--)t[MOVE]-- >0&&o.unshift(MOVE),o.unshift(r[e]);for(;t[MOVE]>0;)o.unshift(MOVE),t[MOVE]--;return o}),this.maxCost=(e=>CreepManager.bodyCosts(this._multiBody(e))*this._maxMulti(e)+CreepManager.bodyCosts(this._fixedBody(e))),this.maxPerFlag=((e,t,r)=>{if(!e)throw new Error("undefined flagFilter");return o=>{let a,n,s=0;return FlagManager.filter(e).forEach(e=>{(a=Util.routeRange(o.name,e.roomName))>t||(n=Game.flags[e.name],_.chain(n.targetOf).filter(e=>!r||e.homeRoom===o.name).every(CreepManager.isWorkingAge).value()?s++:s+=2)}),s}}),this.getRCL=((e,t)=>{const r=this.RCL[e.RCL][t];return _.isFunction(r)?r(e):r}),this.type=e}get RCL(){return{1:this.none,2:this.none,3:this.none,4:this.none,5:this.none,6:this.none,7:this.none,8:this.none}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VisualsBase=class{constructor(){this.getColourByPercentage=((e,t)=>`hsl(${(120*(t?e:1-e)).toString(10)}, 100%, 50%)`),this.resourcesColor={[RESOURCE_ENERGY]:"#FFE56D",[RESOURCE_POWER]:"#FF0000",[RESOURCE_CATALYST]:"#FF7A7A",[RESOURCE_GHODIUM]:"#FFFFFF",[RESOURCE_HYDROGEN]:"#CCCCCC",[RESOURCE_KEANIUM]:"#9370FF",[RESOURCE_LEMERGIUM]:"#89F4A5",[RESOURCE_OXYGEN]:"#CCCCCC",[RESOURCE_UTRIUM]:"#88D6F7",[RESOURCE_ZYNTHIUM]:"#F2D28B"},this.getResourceColour=(e=>{const t=this.resourcesColor[e];if(t)return t;let r=[RESOURCE_UTRIUM,RESOURCE_LEMERGIUM,RESOURCE_KEANIUM,RESOURCE_ZYNTHIUM,RESOURCE_GHODIUM,RESOURCE_HYDROGEN,RESOURCE_OXYGEN].find(t=>e.includes(t));return _.include([RESOURCE_UTRIUM_LEMERGITE,RESOURCE_ZYNTHIUM_KEANITE],e)&&(r=RESOURCE_OXYGEN),this.resourcesColor[r]}),this.randomColour=(()=>{let e="#";for(;e.length<7;)e+=Math.random().toString(16).substr(-7).substr(-1);return e}),this.creepPathStyle=(e=>(Util.set(e.data,"pathColour",this.randomColour),{width:.15,color:e.data.pathColour,lineStyle:"dashed"}))}}},function(e,t,r){"use strict";t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var o=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function n(e){var t=e.match(o);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var r=e,o=n(e);if(o){if(!o.path)return e;r=o.path}for(var a,i=t.isAbsolute(r),l=r.split(/\/+/),m=0,u=l.length-1;u>=0;u--)"."===(a=l[u])?l.splice(u,1):".."===a?m++:m>0&&(""===a?(l.splice(u+1,m),m=0):(l.splice(u,2),m--));return""===(r=l.join("/"))&&(r=i?"/":"."),o?(o.path=r,s(o)):r}function l(e,t){""===e&&(e="."),""===t&&(t=".");var r=n(t),o=n(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),s(r);if(r||t.match(a))return t;if(o&&!o.host&&!o.path)return o.host=t,s(o);var l="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=l,s(o)):l}t.urlParse=n,t.urlGenerate=s,t.normalize=i,t.join=l,t.isAbsolute=function(e){return"/"===e.charAt(0)||o.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var o=e.lastIndexOf("/");if(o<0)return t;if((e=e.slice(0,o)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var m=!("__proto__"in Object.create(null));function u(e){return e}function d(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function c(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=m?u:function(e){return d(e)?"$"+e:e},t.fromSetString=m?u:function(e){return d(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var o=c(e.source,t.source);return 0!==o?o:0!=(o=e.originalLine-t.originalLine)?o:0!=(o=e.originalColumn-t.originalColumn)||r?o:0!=(o=e.generatedColumn-t.generatedColumn)?o:0!=(o=e.generatedLine-t.generatedLine)?o:c(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var o=e.generatedLine-t.generatedLine;return 0!==o?o:0!=(o=e.generatedColumn-t.generatedColumn)||r?o:0!==(o=c(e.source,t.source))?o:0!=(o=e.originalLine-t.originalLine)?o:0!=(o=e.originalColumn-t.originalColumn)?o:c(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=c(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:c(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var o=n(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=l(s(o),t)}return i(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(178),a=r(179),n=r(180),s=r(181),i={emoji:r(182).Emoji,root:{all(){Util.root.killAll(),Util.root.memory()},killAll(){_.forEach(Game.creeps,e=>e.suicide())},memory(){_.forEach(Memory,(e,t)=>delete Memory[t])},memorySafe(){_.forEach(Memory,(e,t)=>!["population"].includes(t)&&delete Memory[t])}},define(e,t,r=!1){r?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t.prototype)):Object.defineProperties(e.prototype,Object.getOwnPropertyDescriptors(t.prototype))},getGame:{obj:e=>Game.getObjectById(e)||Game.creeps[e]||Game.rooms[e]||Game.flags[e],objs(e){const t=[];return _.forEach(e,e=>t.push(Util.getGame.obj(e))),_.compact(t)},objsToNameArray:e=>_.compact(_.map(e,"name")),objsToIdArray:e=>_.compact(_.map(e,"id")),objsToArray(e){let t=Util.getGame.objsToIdArray(e);return 0===t.length&&(t=Util.getGame.objsToNameArray(e)),t}},formatNumber(e){let t=Math.log10(e)/3;if(!e)return"0";let r=e.toString();return t<1?r:t<2?r.substring(0,r.length-3)+"k":t<3?r.substring(0,r.length-6)+"M":t<4?r.substring(0,r.length-9)+"B":e.toString()},pad:(e,t="0",r=2,o=!0)=>(o&&(r-=e.toString().length),_.times(r,()=>t).join("")+e),get(e,t,r,o=!0){const a=_.get(e,t);return _.isUndefined(a)&&!_.isUndefined(r)&&o?(r=Util.fieldOrFunction(r),_.set(e,t,r),_.get(e,t)):a},areEqual:(...e)=>e.length<=1||e.every((e,t,r)=>_.isEqual(e,r[0])),set(e,t,r,o=!0){o?Util.get(e,t,r):_.set(e,t,r)},callIfExists(e,...t){if(e)return e(...t)},fieldOrFunction:(e,...t)=>_.isFunction(e)?e(...t):e,addById(e,t){e||(e=[]);const r=Game.getObjectById(t);return r&&e.push(r),e},processReports(){if(!_.isUndefined(Memory.statistics)&&!_.isUndefined(Memory.statistics.reports)&&Memory.statistics.reports.length){let e;Memory.statistics.reports.length<=REPORTS_PER_LOOP?(e=Memory.statistics.reports,Memory.statistics.reports=[]):e=Memory.statistics.reports.splice(0,REPORTS_PER_LOOP),_.forEach(e,Game.notify)}},guid:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),inQueue:e=>!!e&&(e.link&&(e={behaviour:e}),!!(e.name||e.behaviour||e.setup)&&_(Game.rooms).filter("my").map("memory").map(e=>e.spawnQueueHigh.concat(e.spawnQueueMedium,e.spawnQueueLow)).flatten().some(t=>(!e.room||!t.destiny||t.destiny.room===e.room)&&(e.behaviour?t.behaviour&&t.behaviour===e.behaviour||t.name.includes(e.behaviour):e.setup?t.setup===e.setup:void 0))),memoryUsage(e){let t="",r=0,o="";for(const a in e){a.length>o.length&&(o=a);const n=JSON.stringify(e[a]).length/1024;r+=n,t+=`<tr><td>${a}</td><td>${_.round(n,2)}</td></tr>`}return t+=`<tr><td>Total</td><td>${_.round(r,2)}</td></tr></table>`,`<table><tr><th>Key${Array(o.length+2).join(" ")}</th><th>Size (kb)</th></tr>`.concat(t)},_resources:_.memoize(()=>_.chain(global).pick((e,t)=>t.startsWith("RESOURCE_")).value()),resources(){return this._resources()},valueOrZero:e=>e||0,chargeScale(e,t,r){if(r===t)return e>r?1/0:-1/0;return(e-r)*(1/(r-t))+1},resetBoostProduction(e){let t,r=_.filter(Game.rooms,{my:!0});for(let o of r)void 0!==e&&o.name!==e||(t=o.memory.resources,Log.success(o.name,"reset!"),_.isUndefined(t)?Log.warn(o.name,"has no memory.resources"):(t.offers=[],t.orders=[],t.terminal[0]&&(t.terminal[0].orders=[]),t.storage[0]&&(t.storage[0].orders=[]),t.reactions&&(t.reactions.orders=[]),t.lab&&(t.lab=[],_.values(Game.structures).filter(e=>"lab"===e.structureType).map(e=>e.room.setStore(e.id,RESOURCE_ENERGY,2e3))),t.boostTiming={roomState:""}));void 0===e&&delete Memory.boostTiming}};t.default=_.assign(i,n.roomUtils,a.logUtils,o.dateUtils,s.marketUtils),t.Install=((e,t,r=!1)=>{_.isString(e)?(global[e]=t,r&&_.assign(global[e],r)):(_.assign(e,t),r&&_.assign(e,r))}),t.getUsername=_(Game.rooms).map("controller").filter("my").map("owner.username").first()},function(e,t,r){"use strict";var o=r(11),a=r(8),n=r(12).ArraySet,s=r(143).MappingList;function i(e){e||(e={}),this._file=a.getArg(e,"file",null),this._sourceRoot=a.getArg(e,"sourceRoot",null),this._skipValidation=a.getArg(e,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}i.prototype._version=3,i.fromSourceMap=function(e){var t=e.sourceRoot,r=new i({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var o={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(o.source=e.source,null!=t&&(o.source=a.relative(t,o.source)),o.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(o.name=e.name)),r.addMapping(o)}),e.sources.forEach(function(o){var n=o;null!==t&&(n=a.relative(t,o)),r._sources.has(n)||r._sources.add(n);var s=e.sourceContentFor(o);null!=s&&r.setSourceContent(o,s)}),r},i.prototype.addMapping=function(e){var t=a.getArg(e,"generated"),r=a.getArg(e,"original",null),o=a.getArg(e,"source",null),n=a.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,o,n),null!=o&&(o=String(o),this._sources.has(o)||this._sources.add(o)),null!=n&&(n=String(n),this._names.has(n)||this._names.add(n)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:o,name:n})},i.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=a.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},i.prototype.applySourceMap=function(e,t,r){var o=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=e.file}var s=this._sourceRoot;null!=s&&(o=a.relative(s,o));var i=new n,l=new n;this._mappings.unsortedForEach(function(t){if(t.source===o&&null!=t.originalLine){var n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=r&&(t.source=a.join(r,t.source)),null!=s&&(t.source=a.relative(s,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}var m=t.source;null==m||i.has(m)||i.add(m);var u=t.name;null==u||l.has(u)||l.add(u)},this),this._sources=i,this._names=l,e.sources.forEach(function(t){var o=e.sourceContentFor(t);null!=o&&(null!=r&&(t=a.join(r,t)),null!=s&&(t=a.relative(s,t)),this.setSourceContent(t,o))},this)},i.prototype._validateMapping=function(e,t,r,o){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||o)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:o}))},i.prototype._serializeMappings=function(){for(var e,t,r,n,s=0,i=1,l=0,m=0,u=0,d=0,c="",_=this._mappings.toArray(),h=0,p=_.length;h<p;h++){if(e="",(t=_[h]).generatedLine!==i)for(s=0;t.generatedLine!==i;)e+=";",i++;else if(h>0){if(!a.compareByGeneratedPositionsInflated(t,_[h-1]))continue;e+=","}e+=o.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=o.encode(n-d),d=n,e+=o.encode(t.originalLine-1-m),m=t.originalLine-1,e+=o.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=o.encode(r-u),u=r)),c+=e}return c},i.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));var r=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},i.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},i.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=i},function(e,t,r){"use strict";var o=r(142);t.encode=function(e){var t,r="",a=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&a,(a>>>=5)>0&&(t|=32),r+=o.encode(t)}while(a>0);return r},t.decode=function(e,t,r){var a,n,s,i,l=e.length,m=0,u=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(n=o.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(32&n),m+=(n&=31)<<u,u+=5}while(a);r.value=(i=(s=m)>>1,1==(1&s)?-i:i),r.rest=t}},function(e,t,r){"use strict";var o=r(8),a=Object.prototype.hasOwnProperty,n="undefined"!=typeof Map;function s(){this._array=[],this._set=n?new Map:Object.create(null)}s.fromArray=function(e,t){for(var r=new s,o=0,a=e.length;o<a;o++)r.add(e[o],t);return r},s.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var r=n?e:o.toSetString(e),s=n?this.has(e):a.call(this._set,r),i=this._array.length;s&&!t||this._array.push(e),s||(n?this._set.set(e,i):this._set[r]=i)},s.prototype.has=function(e){if(n)return this._set.has(e);var t=o.toSetString(e);return a.call(this._set,t)},s.prototype.indexOf=function(e){if(n){var t=this._set.get(e);if(t>=0)return t}else{var r=o.toSetString(e);if(a.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strategy={decorateAgent(e,...r){e.customStrategy||(e.customStrategy=function(e){}),e.staticCustomStrategy||(e.staticCustomStrategy=function(e){}),e.getStrategyHandler=function(e,t,...r){const o=this.currentStrategy||this.strategy(e),a=o[t],n=o.key,s=o.name;if(LOG_TRACE&&Log.trace("Strategy",{agent:this.name,strategyKey:n,strategyName:s,method:t}),void 0===a)return void Log.error("strategy handler returned undefined",{agent:this.name||this.id,strategyKey:n,strategyName:s,method:t,stack:(new Error).stack});if(0===r.length)return a;const i=a.apply(this.currentStrategy,r);if(void 0!==i)return i;Log.error("handler returned undefined for args",{agent:this.name||this.id,strategyKey:n,strategyName:s,method:t,args:r.toString(),stack:(new Error).stack})},e._strategyCache={},e.strategyKey=function(e){const t=[];for(let o=r.length-1;o>=0;o--)e[o]?t[o]=e[o]:t[o]=r[o].default(this);return t},e.selectClient=function(e,t){return e[t]&&r[t].select(e[t])},e.strategy=function(e){const o=this.strategyKey(e);let a=t.Strategy.getCachedStrategy(this,o);return a?t.Strategy.customizeStrategy(this,o,a):(a=t.Strategy.buildStrategy(o,t.Strategy.strategyChainUtils,r,this.staticCustomStrategy.apply(this,o)))?(t.Strategy.putCachedStrategy(this,o,a),t.Strategy.customizeStrategy(this,o,a)):(Log.error("no strategy",{agent:this.name||this.id,key:o}),{})},e.explain=function(){const e=this.strategyKey([]);let t=this.toString()+": ";this.explainAgent&&(t+=this.explainAgent()+" "),t+=`assigned:[${e}]`;for(let r=0;r<e.length;r++){const o=this.selectClient(r);o&&o.explain&&(t+=`\n\t${e[r]}: ${o.explain(this)}`)}return t}},allocateStrategy(e,...t){e.currentStrategy=e.strategy.apply(e,t)},freeStrategy(e){t.Strategy.freeStrategyChain(e.currentStrategy),delete e.currentStrategy},buildStrategy(e,r,o,a){const n={key:e,name:[]};let s;t.Strategy.appendstate(n,void 0,[r]);for(let r=0;r<o.length;r++){const a=e[r],i=a&&o[r].selector(a),l=i&&i.selectstate&&i.selectstate.apply(i,e);s=t.Strategy.appendstate(n,s,l)}if(a&&(s=t.Strategy.appendstate(n,s,[a])),s)return n},appendstate(e,t,r){if(!r)return t;for(let o=0;o<r.length;o++){const a=r[o];a&&(t=a,_.assign(e,a,(e,t,r)=>"name"===r?(e.push(t),e):t))}return t},freeStrategyChain(e){},customizeStrategy(e,t,r){const o=e.customStrategy.apply(e,t);return o?_.assign({},r,o,(e,t,r)=>"name"===r?Array.isArray(t)?t.slice(0):(e.push(t),e):t):r},strategyChainUtils:{toString(){const e=this.name.toString();return t.Strategy.freeStrategy(this),e},[Symbol.toPrimitive](){return this.toString()}},getCachedStrategy:(e,t)=>_.get(e._strategyCache,t),putCachedStrategy(e,t,r){Object.freeze(r),_.set(e._strategyCache,t,r)}}},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"vm":"VM":r?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},o=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function(e){return function(t,r,n,s){var i=o(t),l=a[e][o(t)];return 2===i&&(l=l[r?0:1]),l.replace(/%d/i,t)}},s=["","","","","","","","","","","",""];return e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},o={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(t,a,n,s){var i=r(t),l=o[e][r(t)];return 2===i&&(l=l[a?0:1]),l.replace(/%d/i,t)}},n=["","","","","","","","","","","",""];return e.defineLocale("ar-ly",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,r){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o,a;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(o=+e,a={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),o%10==1&&o%100!=11?a[0]:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?a[1]:a[2])}return e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){return e+" "+function(e,t){if(2===t)return function(e){var t={m:"v",b:"v",d:"z"};if(void 0===t[e.charAt(0)])return e;return t[e.charAt(0)]+e.substring(1)}(e);return e}({mm:"munutenn",MM:"miz",dd:"devezh"}[r],e)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o=e+" ";switch(r){case"ss":return o+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return o+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return o+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return o+=1===e?"dan":"dana";case"MM":return o+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return o+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var r=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(r="a"),e+r},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),r="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function o(e){return e>1&&e<5&&1!=~~(e/10)}function a(e,t,r,a){var n=e+" ";switch(r){case"s":return t||a?"pr sekund":"pr sekundami";case"ss":return t||a?n+(o(e)?"sekundy":"sekund"):n+"sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":return t||a?n+(o(e)?"minuty":"minut"):n+"minutami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?n+(o(e)?"hodiny":"hodin"):n+"hodinami";case"d":return t||a?"den":"dnem";case"dd":return t||a?n+(o(e)?"dny":"dn"):n+"dny";case"M":return t||a?"msc":"mscem";case"MM":return t||a?n+(o(e)?"msce":"msc"):n+"msci";case"y":return t||a?"rok":"rokem";case"yy":return t||a?n+(o(e)?"roky":"let"):n+"lety"}}return e.defineLocale("cs",{months:t,monthsShort:r,monthsParse:function(e,t){var r,o=[];for(r=0;r<12;r++)o[r]=new RegExp("^"+e[r]+"$|^"+t[r]+"$","i");return o}(t,r),shortMonthsParse:function(e){var t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+e[t]+"$","i");return r}(r),longMonthsParse:function(e){var t,r=[];for(t=0;t<12;t++)r[t]=new RegExp("^"+e[t]+"$","i");return r}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[r][0]:a[r][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[r][0]:a[r][1]}return e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[r][0]:a[r][1]}return e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t=["","","","","","","","","","","",""],r=["","","","","","",""];return e.defineLocale("dv",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,r){return e>11?r?"":"":r?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var r,o=this._calendarEl[e],a=t&&t.hours();return((r=o)instanceof Function||"[object Function]"===Object.prototype.toString.call(r))&&(o=o.apply(t)),o.replace("{}",a%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,r){return e>11?r?"p.t.m.":"P.T.M.":r?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),o=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?a[r][2]?a[r][2]:a[r][1]:o?a[r][0]:a[r][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,r){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function o(e,o,a,n){var s="";switch(a){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":return n?"sekunnin":"sekuntia";case"m":return n?"minuutin":"minuutti";case"mm":s=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":s=n?"tunnin":"tuntia";break;case"d":return n?"pivn":"piv";case"dd":s=n?"pivn":"piv";break;case"M":return n?"kuukauden":"kuukausi";case"MM":s=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":s=n?"vuoden":"vuotta"}return s=function(e,o){return e<10?o?r[e]:t[e]:e}(e,n)+" "+s}return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),r="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?a[r][0]:a[r][1]}return e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,r){return e<5?" ":e<10?"":e<12?r?'"':" ":e<18?r?'"':" ":""}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o=e+" ";switch(r){case"ss":return o+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return o+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return o+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return o+=1===e?"dan":"dana";case"MM":return o+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return o+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function r(e,t,r,o){var a=e;switch(r){case"s":return o||t?"nhny msodperc":"nhny msodperce";case"ss":return a+(o||t)?" msodperc":" msodperce";case"m":return"egy"+(o||t?" perc":" perce");case"mm":return a+(o||t?" perc":" perce");case"h":return"egy"+(o||t?" ra":" rja");case"hh":return a+(o||t?" ra":" rja");case"d":return"egy"+(o||t?" nap":" napja");case"dd":return a+(o||t?" nap":" napja");case"M":return"egy"+(o||t?" hnap":" hnapja");case"MM":return a+(o||t?" hnap":" hnapja");case"y":return"egy"+(o||t?" v":" ve");case"yy":return a+(o||t?" v":" ve")}return""}function o(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,r){return e<12?!0===r?"de":"DE":!0===r?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return o.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return o.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e){return e%100==11||e%10!=1}function r(e,r,o,a){var n=e+" ";switch(o){case"s":return r||a?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?n+(r||a?"sekndur":"sekndum"):n+"seknda";case"m":return r?"mnta":"mntu";case"mm":return t(e)?n+(r||a?"mntur":"mntum"):r?n+"mnta":n+"mntu";case"hh":return t(e)?n+(r||a?"klukkustundir":"klukkustundum"):n+"klukkustund";case"d":return r?"dagur":a?"dag":"degi";case"dd":return t(e)?r?n+"dagar":n+(a?"daga":"dgum"):r?n+"dagur":n+(a?"dag":"degi");case"M":return r?"mnuur":a?"mnu":"mnui";case"MM":return t(e)?r?n+"mnuir":n+(a?"mnui":"mnuum"):r?n+"mnuur":n+(a?"mnu":"mnui");case"y":return r||a?"r":"ri";case"yy":return t(e)?n+(r||a?"r":"rum"):n+(r||a?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:r,ss:r,m:r,mm:r,h:"klukkustund",hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()<e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[r][0]:a[r][1]}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return r(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return r(e)}return r(e/=1e3)}return e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return r(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return r(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function r(e,t,r,o){return t?a(r)[0]:o?a(r)[1]:a(r)[2]}function o(e){return e%10==0||e>10&&e<20}function a(e){return t[e].split("_")}function n(e,t,n,s){var i=e+" ";return 1===e?i+r(0,t,n[0],s):t?i+(o(e)?a(n)[1]:a(n)[0]):s?i+a(n)[1]:i+(o(e)?a(n)[1]:a(n)[2])}return e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,r,o){return t?"kelios sekunds":o?"keli sekundi":"kelias sekundes"},ss:n,m:r,mm:n,h:r,hh:n,d:r,dd:n,M:r,MM:n,y:r,yy:n},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function r(e,t,r){return r?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function o(e,o,a){return e+" "+r(t[a],e,o)}function a(e,o,a){return r(t[a],e,o)}return e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:o,m:a,mm:o,h:a,hh:o,d:a,dd:o,M:a,MM:o,y:a,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,o){var a=t.words[o];return 1===o.length?r?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,r=e%100;return 0===e?e+"-":0===r?e+"-":r>10&&r<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){switch(r){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}return e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function o(e,t,r,o){var a="";if(t)switch(r){case"s":a=" ";break;case"ss":a="%d ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d "}else switch(r){case"s":a=" ";break;case"ss":a="%d ";break;case"m":a=" ";break;case"mm":a="%d ";break;case"h":a=" ";break;case"hh":a="%d ";break;case"d":a=" ";break;case"dd":a="%d ";break;case"M":a=" ";break;case"MM":a="%d ";break;case"y":a=" ";break;case"yy":a="%d "}return a.replace(/%d/i,e)}return e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,r){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),o=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,o){return e?/-MMM-/.test(o)?r[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:o,longMonthsParse:o,shortMonthsParse:o,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function o(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,r){var a=e+" ";switch(r){case"ss":return a+(o(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return a+(o(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return a+(o(e)?"godziny":"godzin");case"MM":return a+(o(e)?"miesice":"miesicy");case"yy":return a+(o(e)?"lata":"lat")}}return e.defineLocale("pl",{months:function(e,o){return e?""===o?"("+r[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(o)?r[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o=" ";return(e%100>=20||e>=100&&e%100==0)&&(o=" de "),e+o+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[r]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o,a;return"m"===r?t?"":"":e+" "+(o=+e,a={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),o%10==1&&o%100!=11?a[0]:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?a[1]:a[2])}var r=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];return e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t=["","","","","","","","","","","",""],r=["","","","","","",""];return e.defineLocale("sd",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,r){return e>11?r?"..":" ":r?"..":" "}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),r="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function o(e){return e>1&&e<5}function a(e,t,r,a){var n=e+" ";switch(r){case"s":return t||a?"pr seknd":"pr sekundami";case"ss":return t||a?n+(o(e)?"sekundy":"seknd"):n+"sekundami";case"m":return t?"minta":a?"mintu":"mintou";case"mm":return t||a?n+(o(e)?"minty":"mint"):n+"mintami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?n+(o(e)?"hodiny":"hodn"):n+"hodinami";case"d":return t||a?"de":"dom";case"dd":return t||a?n+(o(e)?"dni":"dn"):n+"dami";case"M":return t||a?"mesiac":"mesiacom";case"MM":return t||a?n+(o(e)?"mesiace":"mesiacov"):n+"mesiacmi";case"y":return t||a?"rok":"rokom";case"yy":return t||a?n+(o(e)?"roky":"rokov"):n+"rokmi"}}return e.defineLocale("sk",{months:t,monthsShort:r,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a=e+" ";switch(r){case"s":return t||o?"nekaj sekund":"nekaj sekundami";case"ss":return a+=1===e?t?"sekundo":"sekundi":2===e?t||o?"sekundi":"sekundah":e<5?t||o?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return a+=1===e?t?"minuta":"minuto":2===e?t||o?"minuti":"minutama":e<5?t||o?"minute":"minutami":t||o?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return a+=1===e?t?"ura":"uro":2===e?t||o?"uri":"urama":e<5?t||o?"ure":"urami":t||o?"ur":"urami";case"d":return t||o?"en dan":"enim dnem";case"dd":return a+=1===e?t||o?"dan":"dnem":2===e?t||o?"dni":"dnevoma":t||o?"dni":"dnevi";case"M":return t||o?"en mesec":"enim mesecem";case"MM":return a+=1===e?t||o?"mesec":"mesecem":2===e?t||o?"meseca":"mesecema":e<5?t||o?"mesece":"meseci":t||o?"mesecev":"meseci";case"y":return t||o?"eno leto":"enim letom";case"yy":return a+=1===e?t||o?"leto":"letom":2===e?t||o?"leti":"letoma":e<5?t||o?"leta":"leti":t||o?"let":"leti"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,r){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,o){var a=t.words[o];return 1===o.length?r?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,r,o){var a=t.words[o];return 1===o.length?r?a[0]:a[1]:e+" "+t.correctGrammaticalCase(e,a)}};return e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,r){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,r){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,r){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function r(e,r,o,a){var n=function(e){var r=Math.floor(e%1e3/100),o=Math.floor(e%100/10),a=e%10,n="";r>0&&(n+=t[r]+"vatlh");o>0&&(n+=(""!==n?" ":"")+t[o]+"maH");a>0&&(n+=(""!==n?" ":"")+t[a]);return""===n?"pagh":n}(e);switch(o){case"ss":return n+" lup";case"mm":return n+" tup";case"hh":return n+" rep";case"dd":return n+" jaj";case"MM":return n+" jar";case"yy":return n+" DIS"}}return e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:r,m:"wa tup",mm:r,h:"wa rep",hh:r,d:"wa jaj",dd:r,M:"wa jar",MM:r,y:"wa DIS",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,r){switch(r){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var o=e%10;return e+(t[o]||t[e%100-o]||t[e>=100?100:null])}},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r,o){var a={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return o?a[r][0]:t?a[r][0]:a[r][1]}return e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,r){return e>11?r?"d'o":"D'O":r?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,r){var o=100*e+t;return o<600?" ":o<900?"":o<1130?" ":o<1230?"":o<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){function t(e,t,r){var o,a;return"m"===r?t?"":"":"h"===r?t?"":"":e+" "+(o=+e,a={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[r].split("_"),o%10==1&&o%100!=11?a[0]:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?a[1]:a[2])}function r(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}return e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return e?r[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:r.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,r){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){var t=["","","","","","","","","","","",""],r=["","","","","","",""];return e.defineLocale("ur",{months:t,monthsShort:t,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,r){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,r){return e<12?r?"sa":"SA":r?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,r){var o=100*e+t;return o<600?"":o<900?"":o<1130?"":o<1230?"":o<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var o=100*e+t;return o<600?"":o<900?"":o<1130?"":o<1230?"":o<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";var o,a,n,s,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=function(e){return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,r){var o=100*e+t;return o<600?"":o<900?"":o<1130?"":o<1230?"":o<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===i(t)&&void 0!==e?s(r(0)):(a=[r(0)],void 0===(n="function"==typeof(o=s)?o.apply(t,a):o)||(e.exports=n))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OK=0]="OK",e[e.ERR_NOT_OWNER=-1]="ERR_NOT_OWNER",e[e.ERR_NO_PATH=-2]="ERR_NO_PATH",e[e.ERR_NAME_EXISTS=-3]="ERR_NAME_EXISTS",e[e.ERR_BUSY=-4]="ERR_BUSY",e[e.ERR_NOT_FOUND=-5]="ERR_NOT_FOUND",e[e.ERR_NOT_ENOUGH_ENERGY=-6]="ERR_NOT_ENOUGH_ENERGY",e[e.ERR_NOT_ENOUGH_RESOURCES=-6]="ERR_NOT_ENOUGH_RESOURCES",e[e.ERR_INVALID_TARGET=-7]="ERR_INVALID_TARGET",e[e.ERR_FULL=-8]="ERR_FULL",e[e.ERR_NOT_IN_RANGE=-9]="ERR_NOT_IN_RANGE",e[e.ERR_INVALID_ARGS=-10]="ERR_INVALID_ARGS",e[e.ERR_TIRED=-11]="ERR_TIRED",e[e.ERR_NO_BODYPART=-12]="ERR_NO_BODYPART",e[e.ERR_NOT_ENOUGH_EXTENSIONS=-6]="ERR_NOT_ENOUGH_EXTENSIONS",e[e.ERR_RCL_NOT_ENOUGH=-14]="ERR_RCL_NOT_ENOUGH",e[e.ERR_GCL_NOT_ENOUGH=-15]="ERR_GCL_NOT_ENOUGH"}(t.ErrorType||(t.ErrorType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Component=class{constructor(){this.extend=(e=>{}),this.fresh=(e=>{}),this.analyze=(e=>{}),this.register=(e=>{}),this.run=(e=>{}),this.cleanup=(e=>{})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(140);const o=r(149),a=r(150);o.Splash();const n=()=>{Memory.pause||(_.isUndefined(global.isRoot)&&a.default.install(),a.default.loop(),Game.cacheTime=Game.time)};t.loop=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(141);class a{static get consumer(){return null==this._consumer&&(this._consumer=new o.SourceMapConsumer(r(148))),this._consumer}static sourceMappedStackTrace(e){const t=e instanceof Error?e.stack:e;if(this.cache.hasOwnProperty(t))return this.cache[t];const r=/^\s+at\s+(.+?\s+)?\(?([0-z._\-\\/]+):(\d+):(\d+)\)?$/gm;let o,a=e.toString();for(;(o=r.exec(t))&&"main"===o[2];){const e=this.consumer.originalPositionFor({column:parseInt(o[4],10),line:parseInt(o[3],10)});if(null==e.line)break;e.name?a+=`\n    at ${e.name} (${e.source}:${e.line}:${e.column})`:o[1]?a+=`\n    at ${o[1]} (${e.source}:${e.line}:${e.column})`:a+=`\n    at ${e.source}:${e.line}:${e.column}`}return this.cache[t]=a,a}static wrapLoop(e){return()=>{try{e()}catch(e){if(!(e instanceof Error))throw e;if("sim"in Game.rooms){const t="Source maps don't work in the simulator - displaying original error";console.log(`<span style='color:red'>${t}<br>${_.escape(e.stack)}</span>`)}else console.log(`<span style='color:red'>${_.escape(this.sourceMappedStackTrace(e))}</span>`)}}}}a.cache={},t.ErrorMapper=a},function(e,t,r){"use strict";t.SourceMapGenerator=r(10).SourceMapGenerator,t.SourceMapConsumer=r(144).SourceMapConsumer,t.SourceNode=r(147).SourceNode},function(e,t,r){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<o.length)return o[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,r){"use strict";var o=r(8);function a(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}a.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},a.prototype.add=function(e){var t,r,a,n,s,i;t=this._last,r=e,a=t.generatedLine,n=r.generatedLine,s=t.generatedColumn,i=r.generatedColumn,n>a||n==a&&i>=s||o.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},a.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=a},function(e,t,r){"use strict";var o=r(8),a=r(145),n=r(12).ArraySet,s=r(11),i=r(146).quickSort;function l(e,t){var r=e;return"string"==typeof e&&(r=o.parseSourceMapInput(e)),null!=r.sections?new d(r,t):new m(r,t)}function m(e,t){var r=e;"string"==typeof e&&(r=o.parseSourceMapInput(e));var a=o.getArg(r,"version"),s=o.getArg(r,"sources"),i=o.getArg(r,"names",[]),l=o.getArg(r,"sourceRoot",null),m=o.getArg(r,"sourcesContent",null),u=o.getArg(r,"mappings"),d=o.getArg(r,"file",null);if(a!=this._version)throw new Error("Unsupported version: "+a);l&&(l=o.normalize(l)),s=s.map(String).map(o.normalize).map(function(e){return l&&o.isAbsolute(l)&&o.isAbsolute(e)?o.relative(l,e):e}),this._names=n.fromArray(i.map(String),!0),this._sources=n.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map(function(e){return o.computeSourceURL(l,e,t)}),this.sourceRoot=l,this.sourcesContent=m,this._mappings=u,this._sourceMapURL=t,this.file=d}function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e,t){var r=e;"string"==typeof e&&(r=o.parseSourceMapInput(e));var a=o.getArg(r,"version"),s=o.getArg(r,"sections");if(a!=this._version)throw new Error("Unsupported version: "+a);this._sources=new n,this._names=new n;var i={line:-1,column:0};this._sections=s.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=o.getArg(e,"offset"),a=o.getArg(r,"line"),n=o.getArg(r,"column");if(a<i.line||a===i.line&&n<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=r,{generatedOffset:{generatedLine:a+1,generatedColumn:n+1},consumer:new l(o.getArg(e,"map"),t)}})}l.fromSourceMap=function(e,t){return m.fromSourceMap(e,t)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},l.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(e,t,r){var a,n=t||null;switch(r||l.GENERATED_ORDER){case l.GENERATED_ORDER:a=this._generatedMappings;break;case l.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;a.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=o.computeSourceURL(s,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,n)},l.prototype.allGeneratedPositionsFor=function(e){var t=o.getArg(e,"line"),r={source:o.getArg(e,"source"),originalLine:t,originalColumn:o.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var n=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,a.LEAST_UPPER_BOUND);if(s>=0){var i=this._originalMappings[s];if(void 0===e.column)for(var l=i.originalLine;i&&i.originalLine===l;)n.push({line:o.getArg(i,"generatedLine",null),column:o.getArg(i,"generatedColumn",null),lastColumn:o.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++s];else for(var m=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==m;)n.push({line:o.getArg(i,"generatedLine",null),column:o.getArg(i,"generatedColumn",null),lastColumn:o.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++s]}return n},t.SourceMapConsumer=l,m.prototype=Object.create(l.prototype),m.prototype.consumer=l,m.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=o.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},m.fromSourceMap=function(e,t){var r=Object.create(m.prototype),a=r._names=n.fromArray(e._names.toArray(),!0),s=r._sources=n.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map(function(e){return o.computeSourceURL(r.sourceRoot,e,t)});for(var l=e._mappings.toArray().slice(),d=r.__generatedMappings=[],c=r.__originalMappings=[],_=0,h=l.length;_<h;_++){var p=l[_],y=new u;y.generatedLine=p.generatedLine,y.generatedColumn=p.generatedColumn,p.source&&(y.source=s.indexOf(p.source),y.originalLine=p.originalLine,y.originalColumn=p.originalColumn,p.name&&(y.name=a.indexOf(p.name)),c.push(y)),d.push(y)}return i(r.__originalMappings,o.compareByOriginalPositions),r},m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),m.prototype._parseMappings=function(e,t){for(var r,a,n,l,m,d=1,c=0,_=0,h=0,p=0,y=0,f=e.length,g=0,M={},T={},L=[],R=[];g<f;)if(";"===e.charAt(g))d++,g++,c=0;else if(","===e.charAt(g))g++;else{for((r=new u).generatedLine=d,l=g;l<f&&!this._charIsMappingSeparator(e,l);l++);if(n=M[a=e.slice(g,l)])g+=a.length;else{for(n=[];g<l;)s.decode(e,g,T),m=T.value,g=T.rest,n.push(m);if(2===n.length)throw new Error("Found a source, but no line and column");if(3===n.length)throw new Error("Found a source and line, but no column");M[a]=n}r.generatedColumn=c+n[0],c=r.generatedColumn,n.length>1&&(r.source=p+n[1],p+=n[1],r.originalLine=_+n[2],_=r.originalLine,r.originalLine+=1,r.originalColumn=h+n[3],h=r.originalColumn,n.length>4&&(r.name=y+n[4],y+=n[4])),R.push(r),"number"==typeof r.originalLine&&L.push(r)}i(R,o.compareByGeneratedPositionsDeflated),this.__generatedMappings=R,i(L,o.compareByOriginalPositions),this.__originalMappings=L},m.prototype._findMapping=function(e,t,r,o,n,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return a.search(e,t,n,s)},m.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},m.prototype.originalPositionFor=function(e){var t={generatedLine:o.getArg(e,"line"),generatedColumn:o.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",o.compareByGeneratedPositionsDeflated,o.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(r>=0){var a=this._generatedMappings[r];if(a.generatedLine===t.generatedLine){var n=o.getArg(a,"source",null);null!==n&&(n=this._sources.at(n),n=o.computeSourceURL(this.sourceRoot,n,this._sourceMapURL));var s=o.getArg(a,"name",null);return null!==s&&(s=this._names.at(s)),{source:n,line:o.getArg(a,"originalLine",null),column:o.getArg(a,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},m.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var a,n=e;if(null!=this.sourceRoot&&(n=o.relative(this.sourceRoot,n)),null!=this.sourceRoot&&(a=o.urlParse(this.sourceRoot))){var s=n.replace(/^file:\/\//,"");if("file"==a.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!a.path||"/"==a.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(e){var t=o.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:o.getArg(e,"line"),originalColumn:o.getArg(e,"column")},a=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",o.compareByOriginalPositions,o.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(a>=0){var n=this._originalMappings[a];if(n.source===r.source)return{line:o.getArg(n,"generatedLine",null),column:o.getArg(n,"generatedColumn",null),lastColumn:o.getArg(n,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=m,d.prototype=Object.create(l.prototype),d.prototype.constructor=l,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:o.getArg(e,"line"),generatedColumn:o.getArg(e,"column")},r=a.search(t,this._sections,function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},d.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r].consumer.sourceContentFor(e,!0);if(o)return o}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(o.getArg(e,"source"))){var a=r.consumer.generatedPositionFor(e);if(a)return{line:a.line+(r.generatedOffset.generatedLine-1),column:a.column+(r.generatedOffset.generatedLine===a.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var a=this._sections[r],n=a.consumer._generatedMappings,s=0;s<n.length;s++){var l=n[s],m=a.consumer._sources.at(l.source);m=o.computeSourceURL(a.consumer.sourceRoot,m,this._sourceMapURL),this._sources.add(m),m=this._sources.indexOf(m);var u=null;l.name&&(u=a.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var d={source:m,generatedLine:l.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(a.generatedOffset.generatedLine===l.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}i(this.__generatedMappings,o.compareByGeneratedPositionsDeflated),i(this.__originalMappings,o.compareByOriginalPositions)},t.IndexedSourceMapConsumer=d},function(e,t,r){"use strict";t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,o,a){if(0===r.length)return-1;var n=function e(r,o,a,n,s,i){var l=Math.floor((o-r)/2)+r,m=s(a,n[l],!0);return 0===m?l:m>0?o-l>1?e(l,o,a,n,s,i):i==t.LEAST_UPPER_BOUND?o<n.length?o:-1:l:l-r>1?e(r,l,a,n,s,i):i==t.LEAST_UPPER_BOUND?l:r<0?-1:r}(-1,r.length,e,r,o,a||t.GREATEST_LOWER_BOUND);if(n<0)return-1;for(;n-1>=0&&0===o(r[n],r[n-1],!0);)--n;return n}},function(e,t,r){"use strict";function o(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function a(e,t,r,n){if(r<n){var s=r-1;o(e,(u=r,d=n,Math.round(u+Math.random()*(d-u))),n);for(var i=e[n],l=r;l<n;l++)t(e[l],i)<=0&&o(e,s+=1,l);o(e,s+1,l);var m=s+1;a(e,t,r,m-1),a(e,t,m+1,n)}var u,d}t.quickSort=function(e,t){a(e,t,0,e.length-1)}},function(e,t,r){"use strict";var o=r(10).SourceMapGenerator,a=r(8),n=/(\r?\n)/,s="$$$isSourceNode$$$";function i(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==a?null:a,this[s]=!0,null!=o&&this.add(o)}i.fromStringWithSourceMap=function(e,t,r){var o=new i,s=e.split(n),l=0,m=function(){return e()+(e()||"");function e(){return l<s.length?s[l++]:void 0}},u=1,d=0,c=null;return t.eachMapping(function(e){if(null!==c){if(!(u<e.generatedLine)){var t=(r=s[l]||"").substr(0,e.generatedColumn-d);return s[l]=r.substr(e.generatedColumn-d),d=e.generatedColumn,_(c,t),void(c=e)}_(c,m()),u++,d=0}for(;u<e.generatedLine;)o.add(m()),u++;if(d<e.generatedColumn){var r=s[l]||"";o.add(r.substr(0,e.generatedColumn)),s[l]=r.substr(e.generatedColumn),d=e.generatedColumn}c=e},this),l<s.length&&(c&&_(c,m()),o.add(s.splice(l).join(""))),t.sources.forEach(function(e){var n=t.sourceContentFor(e);null!=n&&(null!=r&&(e=a.join(r,e)),o.setSourceContent(e,n))}),o;function _(e,t){if(null===e||void 0===e.source)o.add(t);else{var n=r?a.join(r,e.source):e.source;o.add(new i(e.originalLine,e.originalColumn,n,t,e.name))}}},i.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},i.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},i.prototype.walk=function(e){for(var t,r=0,o=this.children.length;r<o;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},i.prototype.join=function(e){var t,r,o=this.children.length;if(o>0){for(t=[],r=0;r<o-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},i.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},i.prototype.setSourceContent=function(e,t){this.sourceContents[a.toSetString(e)]=t},i.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var o=Object.keys(this.sourceContents);for(t=0,r=o.length;t<r;t++)e(a.fromSetString(o[t]),this.sourceContents[o[t]])},i.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},i.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new o(e),a=!1,n=null,s=null,i=null,l=null;return this.walk(function(e,o){t.code+=e,null!==o.source&&null!==o.line&&null!==o.column?(n===o.source&&s===o.line&&i===o.column&&l===o.name||r.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name}),n=o.source,s=o.line,i=o.column,l=o.name,a=!0):a&&(r.addMapping({generated:{line:t.line,column:t.column}}),n=null,a=!1);for(var m=0,u=e.length;m<u;m++)10===e.charCodeAt(m)?(t.line++,t.column=0,m+1===u?(n=null,a=!1):a&&r.addMapping({source:o.source,original:{line:o.line,column:o.column},generated:{line:t.line,column:t.column},name:o.name})):t.column++}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}},t.SourceNode=i},function(e,t){e.exports=require("main.js.map")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Splash=(()=>{console.log('<p style="color:#AE81FF">\n _____ _____ _____ _____ _____ _____ _____    _____    __ _____ _____ \n|   __|     | __  |   __|   __|  _  |   __|  |     |__|  | __  |  |  |\n|__   |   --|    -|   __|   __|   __|__   |  |  |  |  |  | __ -|    -|\n|_____|_____|__|__|_____|_____|__|  |_____|  |_____|_____|_____|__|__|\nVersion: 1.0.0   |   Build Time: May 4th 2018, 3:09:18 pm \n</p>\n')})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(151);t.default=new class{constructor(){this.loop=(()=>{CPU.fresh(),this.fresh(),this.register(),this.run(),this.cleanup(),this.addon(),CPU.handleData()}),this.install=(()=>{o.install(),this.extend()}),this.extend=(()=>{RoomManager.extend(),FlagManager.extend(),TaskManager.extend(),CreepManager.extend(),MemoryManager.extend()}),this.fresh=(()=>{CPU.check("fresh"),FlagManager.fresh(),PopManager.fresh(),RoomManager.fresh(),TaskManager.fresh(),CreepManager.fresh(),MemoryManager.fresh(),CPU.end("fresh")}),this.analyze=(()=>{CPU.check("analyze","FlagManager"),FlagManager.analyze(),CPU.end("analyze","FlagManager"),CPU.check("analyze","RoomManager"),RoomManager.analyze(),CPU.end("analyze","RoomManager"),CPU.check("analyze","PopManager"),PopManager.analyze(),CPU.end("analyze","PopManager")}),this.register=(()=>{CPU.check("register","RoomManager"),RoomManager.register(),CPU.end("register","RoomManager"),this.analyze(),CPU.check("register","CreepManager"),CreepManager.register(),CPU.end("register","CreepManager"),CPU.check("register","SpawnManager"),SpawnManager.register(),CPU.end("register","SpawnManager"),CPU.check("register","TaskManager"),TaskManager.register(),CPU.end("register","TaskManager")}),this.run=(()=>{CPU.check("run","PopManager"),PopManager.run(),CPU.end("run","PopManager"),CPU.check("run","FlagManager"),FlagManager.run(),CPU.end("run","FlagManager"),CPU.check("run","RoomManager"),RoomManager.run(),CPU.end("run","RoomManager"),CPU.check("run","CreepManager"),CreepManager.run(),CPU.end("run","CreepManager"),CPU.check("run","StructureSpawn"),SpawnManager.run(),CPU.end("run","StructureSpawn"),CPU.check("run","TaskManager"),TaskManager.run(),CPU.end("run","TaskManager")}),this.cleanup=(()=>{CPU.check("cleanup"),FlagManager.cleanup(),PopManager.cleanup(),RoomManager.cleanup(),MemoryManager.cleanup(),CPU.end("cleanup")}),this.addon=(()=>{SEND_STATISTIC_REPORTS&&((!Memory.statistics||Memory.statistics.tick&&Memory.statistics.tick+TIME_REPORT<=Game.time)&&Statistics.run(),Util.processReports()),CPU.check("addon","Layout"),AUTO_LAYOUT&&Game.time%AUTO_LAYOUT_INTERVAL==0&&Layout.run(),CPU.end("addon","Layout"),CPU.check("addon","Visuals"),ROOM_VISUALS&&!Memory.CPU_CRITICAL&&Visuals.run(),CPU.end("addon","Visuals"),CPU.check("addon","Grafana"),GRAFANA&&Game.time%GRAFANA_INTERVAL==0&&Grafana.run(),CPU.end("addon","Grafana")})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(152),a=r(176),n=r(9);t.install=(()=>{console.log(String.fromCodePoint(8987),"Code Reloading ...");const e=Game.cpu.getUsed();n.Install("_ME",n.getUsername),n.Install(global,r(183)),n.Install("Util",r(9).default,{DiamondIterator:r(184).default,SpiralIterator:r(185).default}),o.ProtoypeInstall(),a.TravelerInstall(),n.Install(global,r(186).default,{Rooms:e=>Game.rooms[e],Creeps:e=>Game.creeps[e],CPU:r(187).default,Dye:r(189).default,Log:r(190).default,Statistics:r(192).default,PopManager:r(193).default,MemoryManager:r(194).default,FlagManager:r(195).default}),n.Install("TaskManager",r(196).default,{guard:r(197).default,defense:r(198).default,mining:r(199).default,claim:r(200).default,reserve:r(201).default,pioneer:r(202).default,attackController:r(203).default,robbing:r(204).default,reputation:r(205).default,delivery:r(206).default,labTech:r(207).default,safeGen:r(208).default,scheduler:r(209).default}),n.Install("CreepManager",r(210).default,{Action:r(4).CreepAction,Behaviour:r(4).Behaviour,Setup:r(4).CreepSetup}),n.Install(CreepManager.action={},{attackController:r(211).default,avoiding:r(212).default,boosting:r(213).default,building:r(214).default,bulldozing:r(215).default,charging:r(216).default,claiming:r(217).default,defending:r(218).default,dismantling:r(219).default,dropping:r(220).default,feeding:r(221).default,fortifying:r(222).default,fueling:r(223).default,guarding:r(224).default,harvesting:r(225).default,healing:r(226).default,idle:r(227).default,invading:r(228).default,mining:r(229).default,picking:r(230).default,reallocating:r(231).default,recycling:r(232).default,repairing:r(233).default,reserving:r(234).default,robbing:r(235).default,safeGen:r(236).default,storing:r(237).default,travelling:r(238).default,uncharging:r(239).default,upgrading:r(240).default,withdrawing:r(241).default}),n.Install(CreepManager.behaviour={},{claimer:r(242).default,collapseWorker:r(243).default,hauler:r(244).default,healer:r(245).default,labTech:r(246).default,melee:r(247).default,miner:r(248).default,mineralMiner:r(249).default,remoteMiner:r(250).default,remoteHauler:r(251).default,remoteWorker:r(252).default,pioneer:r(253).default,privateer:r(254).default,recycler:r(255).default,ranger:r(256).default,upgrader:r(257).default,worker:r(258).default,safeGen:r(259).default}),n.Install(CreepManager.setup={},{hauler:r(260).default,healer:r(261).default,miner:r(262).default,mineralMiner:r(263).default,privateer:r(264).default,upgrader:r(265).default,worker:r(266).default}),n.Install("RoomManager",r(267).default,{extra:{construction:r(268).default,containers:r(269).default,defense:r(270).default,extensions:r(271).default,labs:r(272).default,links:r(273).default,nuker:r(274).default,observers:r(275).default,orders:r(276).default,power:r(277).default,resources:r(278).default,spawns:r(279).default,towers:r(280).default,fillRoomOrders:r(281).default,boostProduction:r(282).default,boostCreep:r(283).default,layout:r(284).default}}),n.Install(global,{SpawnManager:r(285).default,TowerManager:r(286).default}),n.Install(global,{Layout:AUTO_LAYOUT?r(287).default:void 0,Grafana:GRAFANA?r(288).default:void 0,Visuals:r(289).default,Command:r(296)}),n.Install("isRoot",!0);const t=Game.cpu.getUsed();Log.success("Root Done",Dye(COLOR_GREY,`cpu-cost:${(t-e).toFixed(2)}`))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtoypeInstall=(()=>{r(153),r(154),r(155),r(156),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(174),r(175)})},function(e,t){Util.define(global,class{constructor(){}get observerRequests(){return Util.get(global,"_observerRequests",[])}set observerRequests(e){Util.get(global,"_observerRequests",[]).push(e)}get cacheValid(){return Memory.cacheValid}},!0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(13);Util.define(Creep,class extends Creep{constructor(){}cache(e,t,r){return r?(_.isUndefined(this[`_${e}`])||this[`_${e}Set`]!==Game.time)&&(this[`_${e}Set`]=Game.time,this[`_${e}`]=t()):_.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}run(e){if(!this.spawning){if(!e&&this.data&&this.data.creepType){if(e=CreepManager.behaviour[this.data.creepType],this.room.skip)return;if(Memory.CPU_CRITICAL&&!CRITICAL_ROLES.includes(this.data.creepType))return}if(this.data&&!_.contains(["remoteMiner","miner","upgrader"],this.data.creepType)&&(this.repairNearby(),this.buildNearby()),LOG_TRACE&&Log.trace("Creep",{creepName:this.name,pos:this.pos,Behaviour:e&&e.name,Creep:"run"}),e)e.run(this);else if(!this.data){LOG_TRACE&&Log.trace("Creep",{creepName:this.name,pos:this.pos,Creep:"run"},"memory init");let e=this.memory.setup,t=this.memory.cost,r=this.memory.home,o=this.memory.mother,a=this.memory.breeding;if(e&&t&&r&&o&&a){Log.module("Creep","Fixing corrupt creep without population entry: "+this.name);let n=PopManager.setCreep({creepName:this.name,creepType:e,weight:t,roomName:this.pos.roomName,homeRoom:r,motherSpawn:o,actionName:this.action?this.action.name:null,targetId:this.target?this.target.id||this.target.name:null,spawningTime:a,flagName:null,body:_.countBy(this.body,"type")});PopManager.countCreep(this.room,n)}else{Log.error("[Creep] Corrupt creep without population entry! : "+this.name,Log.stack());let e=_.countBy(this.body,"type");if(e[WORK]&&e[CARRY]){let t=e[WORK]*BODYPART_COST[WORK]+e[CARRY]*BODYPART_COST[CARRY]+e[MOVE]*BODYPART_COST[MOVE],r=PopManager.setCreep({creepName:this.name,creepType:"worker",weight:t,roomName:this.pos.roomName,homeRoom:this.pos.roomName,motherSpawn:null,actionName:null,targetId:null,spawningTime:-1,flagName:null,body:_.countBy(this.body,"type")});PopManager.countCreep(this.room,r)}else this.suicide()}}this.flee&&(this.fleeMove(),CreepManager.behaviour.ranger.heal(this),SAY_ASSIGNMENT&&this.say(String.fromCharCode(10133),SAY_PUBLIC))}o.Strategy.freeStrategy(this)}travelTo(e,t={}){return e=e.pos||e,global.traveler&&global.travelerTick!==Game.time&&(global.traveler=new Traveler),t=this.getStrategyHandler([],"moveOptions",t),_.defaults(t,{allowSK:!0,avoidSKCreeps:!0,debug:DEBUG,reportThreshold:TRAVELER_THRESHOLD,useFindRoute:_.get(global,"ROUTE_PRECALCULATION",!0),routeCallback:RoomManager.routeCallback(this.pos.roomName,e.roomName,t),getStructureMatrix:e=>RoomManager.getStructureMatrix(e.name||e,t),getCreepMatrix:e=>e.getCreepMatrix(t.getStructureMatrix(e))}),t.respectRamparts&&this.room.situation.invasion&&_.filter(this.pos.lookFor(LOOK_STRUCTURES),{my:!0,structureType:STRUCTURE_RAMPART}).length?OK:traveler.travelTo(this,e,t)}fleeMove(){if(LOG_TRACE&&Log.trace("Creep",{creepName:this.name,pos:this.pos,Action:"fleeMove",Creep:"run"}),_.forEach(Object.keys(this.carry),e=>{this.carry[e]>0&&this.drop(e)}),this.fatigue>0)return;let e;if(!this.data.fleePath||this.data.fleePath.length<2||this.data.fleePath[0].x!==this.pos.x||this.data.fleePath[0].y!==this.pos.y||this.data.fleePath[0].roomName!==this.pos.roomName){const t=_.map(this.room.hostiles,e=>({pos:e.pos,range:5}));e=PathFinder.search(this.pos,t,{flee:!0,plainCost:2,swampCost:10,maxOps:500,maxRooms:2,roomCallback:e=>{let t=Game.rooms[e];if(t)return t.creepMatrix}}).path,this.data.fleePath=e}else this.data.fleePath.shift(),e=this.data.fleePath;e&&e.length>0&&this.move(this.pos.getDirectionTo(new RoomPosition(e[0].x,e[0].y,e[0].roomName)))}idleMove(){if(!(this.fatigue>0)&&_(this.room.structures.piles).filter("pos",this.pos).concat(this.pos.lookFor(LOOK_STRUCTURES)).concat(this.pos.lookFor(LOOK_CONSTRUCTION_SITES)).size()){if(this.data.idle&&this.data.idle.path&&this.data.idle.path.length&&!this.pos.isEqualTo(this.data.idle.lastPos))this.data.idle.path=this.data.idle.path.substr(1);else{const e=FlagManager.find(FLAG_COLOR.command.idle,this.pos,!0,(e,t)=>{const r=Game.flags[t.name].pos.lookFor(LOOK_CREEPS);return r&&r.length?1/0:e});let t;if(e)t=PathFinder.search(this.pos,{pos:e.pos,range:0},{plainCost:2,swampCost:10,maxOps:350,maxRooms:1,roomCallback:e=>{let t=Game.rooms[e];if(t)return t.structureMatrix}});else{let e=this.room.structures.all.map(e=>({pos:e.pos,range:1})).concat(this.room.sources.map(e=>({pos:e.pos,range:2}))).concat(this.pos.findInRange(FIND_EXIT,2).map(e=>({pos:e,range:1}))).concat(this.room.myConstructionSites.map(e=>({pos:e.pos,range:1})));t=PathFinder.search(this.pos,e,{flee:!0,plainCost:2,swampCost:10,maxOps:350,maxRooms:1,roomCallback:e=>{let t=Game.rooms[e];if(t)return t.structureMatrix}})}this.data.idle={path:Traveler.serializePath(this.pos,t.path),lastPos:this.pos}}const e=parseInt(this.data.idle.path[0],10);e&&(this.data.idle.lastPos=this.pos,this.move(e)),this.data.idle.path&&!this.data.idle.path.length&&delete this.data.idle}}get trace(){return Memory.debugTrace.creepName===this.name}set trace(e){e?Memory.debugTrace.creepName=this.name:this.trace&&delete Memory.debugTrace.creepName}get flee(){if(this.data)return this.data.flee?this.data.flee=this.hits!==this.hitsMax:this.data.flee=this.hits/this.hitsMax<.35,this.data.flee}set flee(e){this.data.flee=e}get sum(){return this.cache("sum",()=>_.sum(this.carry),!0)}get carries(){return this.cache("carries",()=>this.carry,!0)}get threat(){return this.cache("threat",()=>CreepManager.bodyThreat(this.body))}get behaviour(){return CreepManager.behaviour[this.data.creepType]}assignAction(e,t){if(_.isString(e)&&(e=CreepManager.action[e]),e&&e instanceof CreepManager.Action)return e.assign(this,t)}assignBehaviour(e){if(_.isString(e)&&(e=CreepManager.behaviour[e]),e&&e instanceof CreepManager.Behaviour)return e.assign(this)}findGroupMemberByType(e,t){return this.findGroupMemberBy(t=>t.creepType===e,t)}findGroupMemberBy(e,t){if(_.isUndefined(t)&&(t=this.data.flagName),!_.isUndefined(e)&&t){const r=_(Memory.population).filter({flagName:t}).find(e);return r?r.creepName:null}return Log.error(`${this.name} - Invalid arguments for CreepManager.findGroupMemberBy ${t} ${e}`),null}findByType(e){let t;for(let r in Memory.population)if((t=Memory.population[r]).creepType===e)return r}getBodyparts(e){return _(this.body).filter({type:e}).value().length}hasActiveBodyparts(e){return this.hasBodyparts(e,this.body.length-Math.ceil(.01*this.hits))}hasBodyparts(e,t=0){const r=this.body,o=r.length;Array.isArray(e)||(e=[e]);for(let a=t;a<o;a++)if(e.includes(r[a].type))return!0;return!1}leaveBorder(){let e=0;return 0===this.pos.y?e=BOTTOM:0===this.pos.x?e=RIGHT:49===this.pos.y?e=TOP:49===this.pos.x&&(e=LEFT),e&&this.move(e),e}honk(){HONK&&this.say("",SAY_PUBLIC)}honkEvade(){HONK&&this.say("",SAY_PUBLIC)}repairNearby(){if(!this.room.controller||!this.room.controller.owner||this.room.my||this.room.reserved||this.room.ally)if(this.carry.energy>0&&this.hasActiveBodyparts(WORK)){const e=this.data&&"remoteHauler"===this.data.creepType?REMOTE_HAULER.DRIVE_BY_REPAIR_RANGE:DRIVE_BY_REPAIR_RANGE,t=_(this.pos.findInRange(FIND_STRUCTURES,e)).find(e=>RoomManager.shouldRepair(this.room,e));t&&(LOG_TRACE&&Log.trace("Creep",{creepName:this.name,Action:"repairing",Creep:"repairNearby"},t.pos),this.repair(t))}else LOG_TRACE&&Log.trace("Creep",{creepName:this.name,pos:this.pos,Action:"repairing",Creep:"repairNearby"},"not repairing")}buildNearby(){if(!REMOTE_HAULER.DRIVE_BY_BUILDING||!this.data||"remoteHauler"!==this.data.creepType)return;const e=_(this.pos.findInRange(FIND_MY_CONSTRUCTION_SITES,REMOTE_HAULER.DRIVE_BY_BUILD_RANGE)).find(e=>REMOTE_HAULER.DRIVE_BY_BUILD_ALL||e.structureType===STRUCTURE_CONTAINER||e.structureType===STRUCTURE_ROAD);e?(LOG_TRACE&&Log.trace("Creep",{creepName:this.name,Action:"building",Creep:"buildNearby"},e.pos),this.build(e)):LOG_TRACE&&Log.trace("Creep",{creepName:this.name,Action:"building",Creep:"buildNearby"},"not building")}controllerSign(){const e=Util.fieldOrFunction(CONTROLLER_SIGN_MESSAGE,this.room);CONTROLLER_SIGN&&(!this.room.controller.sign||this.room.controller.sign.username!==this.owner.username||CONTROLLER_SIGN_UPDATE&&this.room.controller.sign.text!==e)&&this.signController(this.room.controller,e)}handleError(e){CreepManager.resolvingError||(this.resolvingError=e,e.preventDefault=(()=>{CreepManager.resolvingError=null}),CreepManager.error.trigger(e),CreepManager.resolvingError&&(Log.errorCode(this,e.errorCode),delete this.data.actionName,delete this.data.targetId,CreepManager.resolvingError=null))}explainAgent(){return this.action&&this.action.showAssignment(this,this.target),`ttl:${this.ticksToLive} pos:${this.pos}`}})},function(e,t){Util.define(Flag,class extends Flag{constructor(){}get print(){return Util.makeFlagUrl(this.name)}get cloaking(){return this.memory.cloaking||0}set cloaking(e){this.memory.cloaking=e}compareTo(e){return FlagManager.compare(this,e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(157);Room.prototype._find=Room.prototype.find;Util.define(Room,class extends Room{constructor(){}cache(e,t){return _.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}memoryCache(e,t){return _.isUndefined(this.memory[e])&&(this.memory[e]=t()),this.memory[e]}get my(){return this.cache("my",()=>this.controller&&this.controller.my)}get ally(){return this.cache("ally",()=>{let e=!1;return this.reserved?e=!0:this.controller&&(e=TaskManager.reputation.isAlly(this.owner)||TaskManager.reputation.isAlly(this.reservation)),e})}get RCL(){if(!_.isUndefined(this.controller))return this.memoryCache("RCL",()=>this.controller.level)}checkRCL(){this.controller&&this.memory.RCL!==this.controller.level&&(RoomManager.RCLChange.trigger(this),this.memory.RCL=this.controller.level)}get skip(){return this.cache("skip",()=>!!FlagManager.find(FLAG_COLOR.command.skipRoom,this))}get reservation(){return this.cache("reservation",()=>{let e=!1;return this.controller&&this.controller.reservation&&(e=this.controller.reservation.username),e})}get myReservation(){return this.cache("myReservation",()=>this.reservation===ME)}get reserved(){return this.cache("reserved",()=>{let e=!1;if(this.controller){const t=_.find(Game.spawns).owner.username;e=this.controller.my||this.controller.reservation&&this.controller.reservation.username===t}return e})}get owner(){return this.cache("owner",()=>!(!this.controller||!this.controller.owner)&&this.controller.owner.username)}get print(){return Util.makeRoomUrl(this.name)}get creeps(){return this.cache("creeps",()=>this.find(FIND_MY_CREEPS))}get allCreeps(){return this.cache("allCreeps",()=>this.find(FIND_CREEPS))}get immobileCreeps(){return this.cache("allCreeps",()=>_.filter(this.creeps,e=>{const t=e.data&&e.data.determinatedSpot;return t&&e.pos.isEqualTo(e.room.getPositionAt(t.x,t.y))}))}countMySites(){const e=_.size(this.myConstructionSites);_.isUndefined(this.memory.myTotalSites)||e===this.memory.myTotalSites||RoomManager.costMatrixInvalid.trigger(this),e>0?this.memory.myTotalSites=e:delete this.memory.myTotalSites}countMyStructures(){const e=_.size(this.structures.my);_.isUndefined(this.memory.myTotalStructures)||e===this.memory.myTotalStructures?delete this.memory.myTotalStructures:(RoomManager.costMatrixInvalid.trigger(this),this.saveExtensions(),this.saveSpawns())}get flags(){return this.cache("flags",()=>_.filter(FlagManager.list,{roomName:this.name}))}newFlag(e,t,r){return t||(t=this.getPositionAt(25,25)),t.newFlag(e,r)}get structures(){return this.cache("structures",()=>new o.RoomStructures(this))}get combatCreeps(){return this.cache("combatCreeps",()=>this.creeps.filter(e=>["melee","ranger","healer","warrior"].includes(e.data.creepType)))}get hurtCreeps(){return this.cache("hurtCreeps",()=>_.sortBy(_.filter(this.creeps,e=>e.hits<e.hitsMax&&(void 0===e.towers||0===e.towers.length)),"hits"))}get hostile(){return this.memory.hostile}registerIsHostile(){this.controller&&(_.isUndefined(this.hostile)||_.isNumber(this.hostile))&&(!this.controller.owner||this.controller.my||this.ally?delete this.memory.hostile:this.memory.hostile=this.controller.level)}get hostiles(){return this.cache("hostiles",()=>this.find(FIND_HOSTILE_CREEPS,{filter:TaskManager.reputation.hostileOwner}))}get hostileIds(){return this.cache("hostileIds",()=>Util.getGame.objsToIdArray(this.hostiles))}get hostileThreatLevel(){return this.cache("hostileThreatLevel",()=>{let e=0;return this.hostiles.forEach(t=>{e+=t.threat}),e})}processInvaders(){_.isUndefined(this.memory.hostileIds)&&(this.memory.hostileIds=[]),SEND_STATISTIC_REPORTS?_.isUndefined(this.memory.statistics)&&(this.memory.statistics={}):delete this.memory.statistics,_.forEach(this.hostiles,e=>{if(!RoomManager.isCenterNineRoom(this.name)&&!this.memory.hostileIds.includes(e.id)&&(this.memory.hostileIds.push(e.id),this.newInvader.push(e),SEND_STATISTIC_REPORTS)){const t=JSON.stringify(_.countBy(e.body,"type"));_.isUndefined(this.memory.statistics.invaders)&&(this.memory.statistics.invaders=[]),this.memory.statistics.invaders.push({owner:e.owner.username,id:e.id,body:t,enter:Game.time,time:Date.now()})}}),_.forEach(this.memory.hostileIds,e=>{const t=Game.getObjectById(e);if((!t||!TaskManager.reputation.hostileOwner(t))&&(this.goneInvader.push(e),SEND_STATISTIC_REPORTS&&this.memory.statistics&&void 0!==this.memory.statistics.invaders&&this.memory.statistics.invaders.length>0)){const t=t=>t.id===e&&_.isUndefined(t.leave),r=_.find(this.memory.statistics.invaders,t);_.isUndefined(r)||(r.leave=Game.time)}}),this.memory.hostileIds=this.hostileIds}get lowDefenseEnergy(){return this.my&&this.storage&&this.storage.charge<0}get defenseLevel(){return this.cache("defenseLevel",()=>{let e={towers:0,creeps:0,sum:0};return this.combatCreeps.forEach(t=>e.creeps+=t.threat),e.towers=this.structures.towers.length,e.sum=e.creeps+e.towers*CREEP_PART_THREAT.tower,e})}get isCriticallyFortifyable(){return _.some(this.structures.fortifyable,"isCriticallyFortifyable")}get relativeEnergyAvailable(){return this.energyCapacityAvailable>0?this.energyAvailable/this.energyCapacityAvailable:0}get relativeRemainingEnergyAvailable(){return this.energyCapacityAvailable>0?this.remainingEnergyAvailable/this.energyCapacityAvailable:0}get remainingEnergyAvailable(){return this.energyAvailable-this.reservedSpawnEnergy}get reservedSpawnEnergy(){return _.isUndefined(this._reservedSpawnEnergy)&&(this._reservedSpawnEnergy=0),this._reservedSpawnEnergy}set reservedSpawnEnergy(e){this._reservedSpawnEnergy=e}get situation(){return this.cache("situation",()=>({noEnergy:0==this.sourceEnergyAvailable,invasion:this.hostiles.length>0&&(!this.controller||!this.controller.safeMode)}))}get collapsed(){return this.cache("collapsed",()=>!!this.my&&(!this.population||(this.population.typeCount.worker?this.population.typeCount.worker:0)+(this.population.typeCount.hauler?this.population.typeCount.hauler:0)+(this.population.typeCount.pioneer?this.population.typeCount.pioneer:0)===0))}get adjacentRooms(){return this.memoryCache("adjacentRooms",()=>RoomManager.adjacentRooms(this.name))}get adjacentAccessibleRooms(){return this.memoryCache("adjacentAccessibleRooms",()=>RoomManager.adjacentAccessibleRooms(this.name))}find(e,t){return _.isArray(e)?_(e).map(e=>this._find(e,t)).flatten().value():this._find(e,t)}get privateerMaxWeight(){return this.cache("privateerMaxWeight",()=>{let e=0;if(!this.situation.invasion&&!this.lowDefenseEnergy){const t=1e3*this.controller.level;let r,o,a,n;const s=e=>{e!=this.name&&RoomManager.isMine(e)&&o++},i=i=>{this.adjacentAccessibleRooms.includes(i.roomName)&&((a=Game.rooms[i.roomName])?(r=a.adjacentAccessibleRooms,n=a.sources.length):(r=RoomManager.adjacentAccessibleRooms(i.roomName),n=1),o=1,r.forEach(s),e+=n*t/o)};FlagManager.filter(FLAG_COLOR.invade.exploit).forEach(i)}return e})}get claimerMaxWeight(){return this.cache("claimerMaxWeight",()=>{let e,t,r,o=0;return FlagManager.filter([FLAG_COLOR.claim,FLAG_COLOR.claim.reserve,FLAG_COLOR.invade.exploit]).forEach(a=>{if(this.RCL>3||a.color==FLAG_COLOR.claim.color&&a.secondaryColor==FLAG_COLOR.claim.secondaryColor){if((e=RoomManager.roomDistance(this.name,a.roomName))>2)return;if((r=Game.flags[a.name]).room&&r.room.controller&&r.room.controller.reservation&&r.room.controller.reservation.ticksToEnd>2500)return;t=r.targetOf&&r.targetOf?_.sum(r.targetOf.map(e=>"claimer"==e.creepType?e.weight:0)):0,o+=1250-t}}),o})}findRoute(e,t=!0,r=!0,o=!0){if(this.name==e)return[];const a={checkOwner:t,preferHighway:r,allowSK:o};return Game.map.findRoute(this,e,{routeCallback:RoomManager.routeCallback(this.name,e,a)})}getBorder(e){return _.findKey(Game.map.describeExits(this.name),function(e){return this.name===e},{name:e})}exits(e,t){let r,o,a;!0===t&&(t=.5),r=0===e?_.chain(this.find(FIND_STRUCTURES)).filter(function(e){return e.structureType===STRUCTURE_PORTAL}).map("pos").value():this.find(e);let n=-1,s={};const i=[];for(let e=0;e<r.length;e++){const l=r[e];_.get(s,[l.x-1,l.y])||_.get(s,[l.x,l.y-1])||(t&&-1!==n&&(i[n].x+=Math.ceil(t*(o-i[n].x)),i[n].y+=Math.ceil(t*(a-i[n].y))),i[++n]=_.pick(l,["x","y"]),o=l.x,a=l.y,s={}),_.set(s,[l.x,l.y],!0),o=Math.max(o,l.x),a=Math.max(a,l.y)}return t&&-1!==n&&(i[n].x+=Math.ceil(t*(o-i[n].x)),i[n].y+=Math.ceil(t*(a-i[n].y))),i}isWalkable(e,t,r){return 0===(r=r?r[t][e]:this.lookAt(e,t)).filter(e=>e.type==LOOK_TERRAIN&&"wall"==e.terrain||OBSTACLE_OBJECT_TYPES.includes(e[e.type].structureType)).length}get highwayHasWalls(){return this.cache("highwayHasWalls",()=>!!RoomManager.isHighwayRoom(this.name)&&!!_.find(this.getPositionAt(25,25).lookFor(LOOK_STRUCTURES),e=>e instanceof StructureWall))}recordMove(e){if(!ROAD_CONSTRUCTION_ENABLE&&(!ROAD_CONSTRUCTION_FORCED_ROOMS[Game.shard.name]||ROAD_CONSTRUCTION_FORCED_ROOMS[Game.shard.name]&&-1==ROAD_CONSTRUCTION_FORCED_ROOMS[Game.shard.name].indexOf(this.name)))return;let t=e.pos.x,r=e.pos.y;if(0==t||0==r||49==t||49==r||0==e.carry.energy||"building"==e.data.actionName)return;let o=`${String.fromCharCode(32+t)}${String.fromCharCode(32+r)}_x${t}-y${r}`;this.roadConstructionTrace[o]?this.roadConstructionTrace[o]++:this.roadConstructionTrace[o]=1}isTargetAccessible(e,t){if(!e||!t)return!1;e instanceof RoomObject&&(e=e.pos),t instanceof RoomObject&&(t=t.pos);for(const r of["x","y","roomName"])if(!Reflect.has(e,r)||!Reflect.has(t,r))return!1;if(!RoomManager.isHighwayRoom(this.name))return!1;if(!this.highwayHasWalls)return!0;const[r,o]=RoomManager.calcCoordinates(this.name,(e,t)=>[e,t]),a=e=>0===Math.floor(e.x/25)?LEFT:RIGHT,n=e=>0===Math.floor(e.y/25)?TOP:BOTTOM,s=e=>{const t=a(e),r=n(e);return t===LEFT?r===TOP?TOP_LEFT:BOTTOM_LEFT:r===TOP?TOP_RIGHT:BOTTOM_RIGHT};if(r%10==0){if(o%10==0){const r=!!_.find(this.getPositionAt(25,24).lookFor(LOOK_STRUCTURES),e=>e instanceof StructureWall),o=!!_.find(this.getPositionAt(24,25).lookFor(LOOK_STRUCTURES,e=>e instanceof StructureWall)),i=!!_.find(this.getPositionAt(25,26).lookFor(LOOK_STRUCTURES,e=>e instanceof StructureWall)),l=!!_.find(this.getPositionAt(26,25).lookFor(LOOK_STRUCTURES,e=>e instanceof StructureWall));if(s(e)===s(t))return!0;if(r&&o&&i&&l)return s(e)===s(t);if(r){if(i)return o?Util.areEqual(RIGHT,a(e),a(t)):Util.areEqual(LEFT,a(e),a(t));if(o&&l)return n(e)===n(t)&&Util.areEqual(BOTTOM,n(e),n(t));if(Util.areEqual(BOTTOM,n(e),n(t)))return!0;if(o){if(Util.areEqual(RIGHT,a(e),a(t)))return!0;if(s(e)===TOP_LEFT&&s(t)!==TOP_LEFT)return!1}else{if(Util.areEqual(LEFT,a(e),a(t)))return!0;if(s(e)===TOP_RIGHT&&s(t)!==TOP_RIGHT)return!1}}else{if(o&&l)return n(e)===n(t)&&Util.areEqual(TOP,n(e),n(t));if(Util.areEqual(TOP,n(e),n(t)))return!0;if(o){if(Util.areEqual(RIGHT,a(e),a(t)))return!0;if(s(e)===BOTTOM_LEFT&&s(t)!==BOTTOM_LEFT)return!1}else{if(Util.areEqual(LEFT,a(e),a(t)))return!0;if(s(e)===BOTTOM_RIGHT&&s(t)!==BOTTOM_RIGHT)return!1}}return!0}if(a(e)===a(t))return!0}return o%10==0&&(n(e),n(t)),!0}targetAccessible(e){if(!e)return!1;e instanceof RoomObject&&(e=e.pos);for(const t of["x","y","roomName"])if(!Reflect.has(e,t))return!1;if(!RoomManager.isHighwayRoom(this.name))return!1;if(!this.highwayHasWalls)return!0;const t=_(Game.rooms).filter("my").min(e=>Game.map.getRoomLinearDistance(e.name,this.name));if(t===1/0)return!1;const[r,o]=RoomManager.calcGlobalCoordinates(this.name,(e,t)=>[e,t]),[a,n]=RoomManager.calcGlobalCoordinates(t,(e,t)=>[e,t]);let s="";if(o-n<0?s+="south":o-n>0&&(s+="north"),r-a<0?s+="east":r-a>0&&(s+="west"),r%10==0){if(o%10==0){if(s.includes("south")&&s.includes("east"))return this.isTargetAccessible(this.getPositionAt(49,49),e);if(s.includes("south")&&s.includes("west"))return this.isTargetAccessible(this.getPositionAt(0,49),e);if(s.includes("north")&&s.includes("east"))return this.isTargetAccessible(this.getPositionAt(49,0),e);if(s.includes("north")&&s.includes("west"))return this.isTargetAccessible(this.getPositionAt(0,0),e)}if(s.includes("east"))return this.isTargetAccessible(this.getPositionAt(49,25),e);if(s.includes("west"))return this.isTargetAccessible(this.getPositionAt(0,25),e)}if(o%10==0){if(s.includes("south"))return this.isTargetAccessible(this.getPositionAt(25,49),e);if(s.includes("north"))return this.isTargetAccessible(this.getPositionAt(25,0),e)}return!0}get structureMatrix(){return this.cache("structureMatrix",()=>{let e;const t=RoomManager.getCachedStructureMatrix(this.name);if(t)e=t;else{Log.room(this.name,"Matrix: Calculating cost matrix");const t=new PathFinder.CostMatrix,r=e=>{const r=e instanceof ConstructionSite;if(r&&!e.my&&TaskManager.reputation.allyOwner(e))return t.set(e.pos.x,e.pos.y,255);if(e.structureType===STRUCTURE_ROAD){if(!r||USE_UNBUILT_ROADS)return t.set(e.pos.x,e.pos.y,1)}else{if(e.structureType===STRUCTURE_PORTAL)return t.set(e.pos.x,e.pos.y,255);if(OBSTACLE_OBJECT_TYPES.includes(e.structureType)){if(!r||TaskManager.reputation.allyOwner(e))return t.set(e.pos.x,e.pos.y,255)}else if(e.structureType===STRUCTURE_RAMPART&&!e.my&&!e.isPublic&&(!r||TaskManager.reputation.allyOwner(e)))return t.set(e.pos.x,e.pos.y,255)}},o=e=>t.set(e.pos.x,e.pos.y,255);this.structures.all.forEach(r),this.constructionSites.forEach(r),this.immobileCreeps.forEach(o);const a=_.get(RoomManager.pathfinderCache,[this.name,"updated"]);RoomManager.pathfinderCache[this.name]={costMatrix:t,updated:Game.time,version:RoomManager.COSTMATRIX_CACHE_VERSION},RoomManager.pathfinderCacheDirty=!0,LOG_TRACE&&Log.trace("PathFinder",{roomName:this.name,prevTime:a,structures:this.structures.all.length,PathFinder:"CostMatrix"},"updated costmatrix"),e=t}return e})}getCreepMatrix(e=this.structureMatrix){return this.cache("creepMatrix",()=>{const t=e.clone();return this.allCreeps.forEach(function(e){t.set(e.pos.x,e.pos.y,255)}),t})}invalidateCostMatrix(){RoomManager.costMatrixInvalid.trigger(this.name)}get avoidSKMatrix(){return this.cache("avoidSKMatrix",()=>{const e=this.hostiles.filter(e=>"Source Keeper"===e.owner.username);return this.getAvoidMatrix({"Source Keeper":e})})}getAvoidMatrix(e){const t=this.structureMatrix.clone();for(const r in e){const o=e[r];for(const e of o)for(let r=Math.max(0,e.pos.x-3);r<=Math.min(49,e.pos.x+3);r++){const o=r<e.pos.x?e.pos.x-r:r-e.pos.x;for(let a=Math.max(0,e.pos.y-3);a<=Math.min(49,e.pos.y+3);a++)if(this.isWalkable(r,a)){const n=a<e.pos.y?e.pos.y-a:a-e.pos.y,s=17-2*Math.max(o,n);t.set(r,a,s)}}}return t}showCostMatrix(e=this.structureMatrix,t){const r=new RoomVisual(this.name);let o=0,a=50,n=0,s=50;t&&(o=Math.max(0,t.y-3),a=Math.min(50,t.y+4),n=Math.max(0,t.x-3),s=Math.min(50,t.x+4));const i=_.max(e._bits);for(let t=o;t<a;t++)for(let o=n;o<s;o++){const a=e.get(o,t);a&&r.text(a,o,t),r.rect(o-.5,t-.5,1,1,{fill:Visuals.getColourByPercentage(a/i)})}}get pavementArt(){return this.memoryCache("pavementArt",()=>[])}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e){this.room=e}cache(e,t,r=[]){return _.isUndefined(this[`_${e}`])&&(r&&(this[`_${e}`]=r),this[`_${e}`]=t()),this[`_${e}`]}memoryCache(e,t){return _.isUndefined(this.memory[e])&&(this.memory[e]=Util.getGame.objsToIdArray(t())),Util.getGame.objs(this.memory[e])}get memory(){return this.room.memory}set memory(e){this.room.memory=e}get all(){return this.cache("all",()=>this.room.find(FIND_STRUCTURES))}get my(){return this.cache("my",()=>this.room.find(FIND_MY_STRUCTURES))}get towers(){return this.cache("towers",()=>Util.getGame.objs(this.memory.towers))}get container(){return this.cache("container",()=>new RoomManager.Containers(this.room))}get links(){return this.cache("links",()=>new RoomManager.Links(this.room))}get labs(){return this.cache("labs",()=>new RoomManager.Labs(this.room))}get extensions(){return this.memoryCache("extensions",()=>_.filter(this.my,e=>e.structureType===STRUCTURE_EXTENSION))}get walls(){return this.memoryCache("walls",()=>_.filter(this.all,e=>e.structureType===STRUCTURE_WALL))}get ramparts(){return this.memoryCache("ramparts",()=>_.filter(this.all,e=>e.structureType===STRUCTURE_RAMPART))}get spawns(){return this.cache("spawns",()=>Util.getGame.objs(this.memory.spawns))}get powerSpawns(){return this.cache("powerSpawns",()=>new RoomManager.PowerSpawn(this.room))}get nuker(){return this.cache("nuker",()=>{if(this.memory.nukers&&this.memory.nukers.length>0)return Game.getObjectById(this.memory.nukers[0].id)})}get nukers(){return this.cache("nukers",()=>new RoomManager.Nuker(this.room))}get observer(){return this.cache("observer",()=>{if(this.memory.observer)return Game.getObjectById(this.memory.observer.id)})}get feedable(){return this.cache("feedable",()=>this.extensions.concat(this.spawns))}get repairable(){return this.cache("repairable",()=>_.sortBy(this.all.filter(e=>RoomManager.shouldRepair(this.room,e)),"hits"))}get urgentRepairable(){return this.cache("urgentRepairable",()=>{return _.filter(this.repairable,e=>e.hits<LIMIT_URGENT_REPAIRING+(DECAY_AMOUNT[e.structureType]||0))})}get fortifyable(){return this.cache("fortifyable",()=>_.sortBy(this.all.filter(e=>this.room.my&&e.hits<e.hitsMax&&e.hits<MAX_FORTIFY_LIMIT[this.room.RCL]&&(e.structureType!=STRUCTURE_CONTAINER||e.hits<MAX_FORTIFY_CONTAINER)&&(!DECAYABLES.includes(e.structureType)||e.hitsMax-e.hits>3*GAP_REPAIR_DECAYABLE)&&(void 0===Memory.pavementArt[this.room.name]||Memory.pavementArt[this.room.name].indexOf("x"+e.pos.x+"y"+e.pos.y+"x")<0)&&!FlagManager.list.some(t=>t.roomName==e.pos.roomName&&t.color==COLOR_ORANGE&&t.x==e.pos.x&&t.y==e.pos.y)),"hits"))}get fuelable(){return this.cache("fuelable",()=>{const e=this.room.situation.invasion?1:.82;return _.sortBy(_.filter(this.towers,t=>t.energy<t.energyCapacity*e),"energy")})}get piles(){return this.cache("piles",()=>{const e=this.room;return FlagManager.filter(FLAG_COLOR.command.drop,e.getPositionAt(25,25),!0).map(t=>{const r=Game.flags[t.name],o=e.lookForAt(LOOK_ENERGY,r.pos.x,r.pos.y);return o.length&&o[0]||r})})}get virtual(){return this.cache("virtual",()=>_(this.all).concat(this.piles))}}t.RoomStructures=class{constructor(e){this.extend=(()=>{Util.define(this,o,!0)}),this.room=e,this.extend()}}},function(e,t){Util.define(RoomPosition,class extends RoomPosition{constructor(){}cache(e,t){return _.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}get adjacent(){return this.cache("adjacent",()=>{let e=[];for(let t=this.x-1;t<this.x+2;t++)for(let r=this.y-1;r<this.y+2;r++)t>0&&t<49&&r>0&&r<49&&e.push(new RoomPosition(t,r,this.roomName));return e})}radius(e=1){if(1===e)return this.adjacent;if(e<1)return[this];const t=[];for(let r=this.x-e;r<=this.x+e;r++)for(let o=this.y-e;o<=this.y+e;o++){const e=new RoomPosition(r,o,this.roomName);r<50&&r>0&&o>0&&o<50&&!_.isEqual(this,e)&&t.push(e)}return t}findClosestByPathFinder(e,t=_.identity){let r=_.map(e,t);if(_.isEmpty(r))return{goal:null};let o=PathFinder.search(this,r,{maxOps:16e3,roomCallback:e=>{let t=Game.rooms[e];if(t)return t.structureMatrix}}),a=_.last(o.path);void 0==a&&(a=this);let n=_.min(e,e=>a.getRangeTo(e.pos));return{goal:Math.abs(n)!==1/0?n:null,cost:o.cost,ops:o.ops,incomplete:o.incomplete}}findClosestSpawn(){return this.findClosestByPathFinder(Game.spawns,e=>({pos:e.pos,range:1})).goal}newFlag(e,t){if(e||(e=_.get(FLAG_COLOR,e)),e)return this.createFlag(t,e.color,e.secondaryColor)}})},function(e,t){Util.define(RoomObject,class extends RoomObject{constructor(){}get accessibleFields(){if(this.memory&&!_.isUndefined(this.memory.accessibleFields))return this.memory.accessibleFields;{let e=this.room.lookForAtArea(LOOK_TERRAIN,this.pos.y-1,this.pos.x-1,this.pos.y+1,this.pos.x+1,!0),t=_.countBy(e,"terrain").wall,r=void 0===t?9:9-t;return this.memory?this.memory.accessibleFields=r:r}}get cloak(){const e=Memory.cloaked[this.id];return!!e&&(_.isNumber(e)&&Game.time>e?(delete Memory.cloaked[this.id],!1):e)}set cloak(e){if(e)return _.isNumber(e)?e<Game.time&&(e=Game.time+e):e=!0,Memory.cloaked[this.id]=e;delete Memory.cloaked[this.id]}})},function(e,t){Util.define(Source,class extends Source{constructor(){}get memory(){if(_.isUndefined(Memory.sources)&&(Memory.sources={}),_.isObject(Memory.sources))return Memory.sources[this.id]=Memory.sources[this.id]||{}}set memory(e){if(_.isUndefined(Memory.sources)&&(Memory.sources={}),!_.isObject(Memory.sources))throw new Error("Could not set memory extension for sources");Memory.sources[this.id]=e}get container(){return _.isUndefined(this.memory.container)&&this.room.saveContainers(),_.isUndefined(this._container)&&(this.memory.storage?(this._container=Game.getObjectById(this.memory.storage),this._container||delete this.memory.storage):this.memory.terminal?(this._container=Game.getObjectById(this.memory.terminal),this._container||delete this.memory.terminal):this.memory.container?(this._container=Game.getObjectById(this.memory.container),this._container||delete this.memory.container):this._container=null),this._container}get link(){return _.isUndefined(this._link)&&(this.memory.link?(this._link=Game.getObjectById(this.memory.link),this._link||delete this.memory.link):this._link=null),this._link}}),Util.define(Mineral,class extends Mineral{constructor(){}get memory(){if(_.isUndefined(Memory.minerals)&&(Memory.minerals={}),_.isObject(Memory.minerals))return Memory.minerals[this.id]=Memory.minerals[this.id]||{}}set memory(e){if(_.isUndefined(Memory.minerals)&&(Memory.minerals={}),!_.isObject(Memory.minerals))throw new Error("Could not set memory extension for minerals");Memory.minerals[this.id]=e}get container(){return _.isUndefined(this.memory.container)&&this.room.saveContainers(),_.isUndefined(this._container)&&(this.memory.terminal?(this._container=Game.getObjectById(this.memory.terminal),this._container||delete this.memory.terminal):this.memory.storage?(this._container=Game.getObjectById(this.memory.storage),this._container||delete this.memory.storage):this.memory.container?(this._container=Game.getObjectById(this.memory.container),this._container||delete this.memory.container):this._container=null),this._container}})},function(e,t){Util.define(Structure,class extends Structure{constructor(){}get active(){return this.room.controller?!!this.room.owner&&(!this.owner||this.room.owner===this.owner.username)&&_.get(this.room.memory,["structures",this.id,"active"],!0):_.get(this.room.memory,["structures",this.id,"active"],!0)}get towers(){return(_.isUndefined(this._towers)||this._towersSet!==Game.time)&&(this._towersSet=Game.time,this._towers=[]),this._towers}set towers(e){this._towers=e}})},function(e,t){Util.define(StructureContainer,class extends StructureContainer{constructor(){this.active=!0}cache(e,t,r){return r?(_.isUndefined(this[`_${e}`])||this[`_${e}Set`]!==Game.time)&&(this[`_${e}Set`]=Game.time,this[`_${e}`]=t()):_.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}get sum(){return this.cache("sum",()=>_.sum(this.store),!0)}getNeeds(e){if(!this.room.memory.resources)return 0;let t=this.room.memory.resources.container.find(e=>e.id==this.id);if(t){let r=t.orders.find(t=>t.type==e);if(r){let t=Math.max(r.orderRemaining+(this.store[e]||0),r.storeAmount),o=r.orderAmount+r.storeAmount;o<0&&(o=0);let a=this.store[e]||0;if(a<t)return Math.min(t-a,this.storeCapacity-this.sum);if(a>1.05*o)return o-a}}return 0}})},function(e,t){Util.define(StructureController,class extends StructureController{constructor(){}get memory(){if(_.isUndefined(Memory.controllers)&&(Memory.controllers={}),_.isObject(Memory.controllers))return Memory.controllers[this.id]=Memory.controllers[this.id]||{}}set memory(e){if(_.isUndefined(Memory.controllers)&&(Memory.controllers={}),!_.isObject(Memory.controllers))throw new Error("Could not set memory extension for controller");Memory.controllers[this.id]=e}})},function(e,t){Util.define(StructureLab,class extends StructureLab{constructor(){}get active(){return!!this.room.owner&&this.room.owner===this.owner.username&&!(this.room.RCL<6)&&_.get(this.room.memory,["structures",this.id,"active"],!0)}getNeeds(e){if(!this.room.memory.resources)return 0;let t=0,r=0,o=this.room.memory.resources.reactions,a=this.room.memory.resources.lab.find(e=>e.id===this.id);if(a){let o=a.orders.find(t=>t.type===e);if(o){let a=0;e===RESOURCE_ENERGY?a=this.energy:e===this.mineralType&&(a=this.mineralAmount),t=Math.max(o.orderRemaining+a,o.storeAmount),(r=o.orderAmount+o.storeAmount)<0&&(r=0)}}let n=0,s=0,i=0;if(e===RESOURCE_ENERGY?(n=this.energy,s=this.energyCapacity-this.energy,i=this.energyCapacity):(this.mineralType===e&&(n=this.mineralAmount),s=this.mineralCapacity-this.mineralAmount,i=this.mineralCapacity),a&&o&&o.orders.length>0&&(this.id===o.seed_a||this.id===o.seed_b)&&(e!==LAB_REACTIONS[o.orders[0].type][0]||e!==LAB_REACTIONS[o.orders[0].type][1])&&n>r)return r-n;if(n<Math.min(t,i)/2)return Math.min(t-n,s);if(a&&a.reactionType===this.mineralType){if(n>r+(i-Math.min(r,i))/2)return r-n}else if(n>r)return r-n;return 0}})},function(e,t){Util.define(StructureNuker,class extends StructureNuker{constructor(){}getNeeds(e){if(!this.room.isCriticallyFortifyable)return e==RESOURCE_ENERGY&&this.energy<this.energyCapacity?this.energyCapacity-this.energy:e==RESOURCE_GHODIUM&&this.ghodium<this.ghodiumCapacity?this.ghodiumCapacity-this.ghodium:0;if(!this.room.memory.resources||!this.room.memory.resources.nuker)return 0;let t=0,r=0,o=this.room.memory.resources.nuker.find(e=>e.id==this.id);if(o){let a=o.orders.find(t=>t.type==e);if(a){let o=0;e==RESOURCE_ENERGY?o=this.energy:e==RESOURCE_GHODIUM&&(o=this.ghodium),t=Math.max(a.orderRemaining+o,a.storeAmount),(r=a.orderAmount+a.storeAmount)<0&&(r=0)}}let a=0,n=0;return e==RESOURCE_ENERGY?(a=this.energy,n=this.energyCapacity-this.energy):e==RESOURCE_GHODIUM&&(a=this.ghodium,n=this.ghodiumCapacity-this.ghodium),a<t?Math.min(t-a,n):a>1.05*r?r-a:0}})},function(e,t){Util.define(StructurePowerSpawn,class extends StructurePowerSpawn{constructor(){}getNeeds(e){if(FILL_POWERSPAWN&&!this.room.isCriticallyFortifyable)return e===RESOURCE_ENERGY&&this.energy<.75*this.energyCapacity?this.energyCapacity-this.energy:e===RESOURCE_POWER&&this.power<.25*this.powerCapacity?this.powerCapacity-this.power:0;if(!this.room.memory.resources||!this.room.memory.resources.powerSpawn)return 0;let t=0,r=0,o=this.room.memory.resources.powerSpawn.find(e=>e.id===this.id);if(o){let a=o.orders.find(t=>t.type===e);if(a){let o=0;e===RESOURCE_ENERGY?o=this.energy:e===RESOURCE_POWER&&(o=this.power),t=Math.max(a.orderRemaining+o,a.storeAmount),(r=a.orderAmount+a.storeAmount)<0&&(r=0)}}let a=0,n=0;return e===RESOURCE_ENERGY?(a=this.energy,n=this.energyCapacity-this.energy):e===RESOURCE_POWER&&(a=this.power,n=this.powerCapacity-this.power),a<t?Math.min(t-a,n):a>1.05*r?r-a:0}})},function(e,t){Util.define(StructureRampart,class extends StructureRampart{constructor(){}get active(){return this.room.RCL>1}get isCriticallyFortifyable(){return this.hits<=MIN_FORTIFY_LIMIT[this.room.RCL]}})},function(e,t){Util.define(StructureRoad,class extends StructureRoad{constructor(){this.active=!0}})},function(e,t){Util.define(StructureSpawn,class extends StructureSpawn{constructor(){}run(){if(this.spawning)return;let e=this.room;const t=t=>t.isValidSetup(e)&&this.createCreepBySetup(t),r=Util.get(this.room.memory,"spawnDelay",{});let o=this.createCreepByQueue(e.spawnQueueHigh,"High");return o||0!==e.spawnQueueHigh.length&&e.spawnQueueHigh.length!==r.High||Game.time%SPAWN_INTERVAL!=0||((o=_.some(SpawnManager.priorityHigh,t))||(o=this.createCreepByQueue(e.spawnQueueMedium,"Medium")),o||0!==e.spawnQueueMedium.length&&e.spawnQueueMedium.length!==r.Medium||(o=_.some(SpawnManager.priorityLow,t))||(o=this.createCreepByQueue(e.spawnQueueLow,"Low"))),o}createCreepBySetup(e){LOG_TRACE&&Log.trace("Spawn",{setupType:this.type,rcl:this.room.RCL,energy:this.room.energyAvailable,maxEnergy:this.room.energyCapacityAvailable,Spawn:"createCreepBySetup"},"creating creep");const t=e.buildParams(this);return this.create(t.parts,t.name,t.setup)?t:null}createCreepByQueue(e,t){const r=Util.get(this.room.memory,"spawnDelay",{});if(!e)return null;if(Memory.CPU_CRITICAL&&r[t]===e.length)return null;let o;for(const t in e){const r=e[t];Memory.CPU_CRITICAL&&!CRITICAL_ROLES.includes(r.behaviour)||(o=e.splice(t,1)[0])}if(!o)return e.length&&Log.module(this.pos.roomName,"No non-CRITICAL creeps to spawn, delaying spawn until CPU is not CRITICAL, or new entries are added."),r[t]=e.length,null;delete r[t];let a,n=0;if(o.parts.forEach(e=>{n+=BODYPART_COST[e]}),0===n)return Log.error(`[${this.pos.roomName}]`,"Zero parts body creep queued. Removed."),!1;if(n>this.room.remainingEnergyAvailable)return n>this.room.energyCapacityAvailable||n>300&&!this.room.creeps.length?(Log.error(`[${this.pos.roomName}]`,"Queued creep too big for room: "+JSON.stringify(o)),!1):(e.unshift(o),!0);let s=o.name;for(let e=1;null==a||Game.creeps[a]||Memory.population[a];e++)a=o.name+"-"+e;o.name=a;let i=this.create(o.parts,o.name,o.behaviour||o.setup,o.destiny);return i||(o.name=s,e.unshift(o)),i}create(e,t,r,o){if(0==e.length)return!1;let a=this.spawnCreep(e,t);if(a===OK){let a=0;return e.forEach(function(e){a+=BODYPART_COST[e]}),this.room.reservedSpawnEnergy+=a,PopManager.registerCreep(t,r,a,this.room,this.name,e,o),this.newSpawn={name:t},CreepManager.spawningStarted.trigger({spawn:this.name,name:t,body:e,destiny:o,spawnTime:e.length*CREEP_SPAWN_TIME}),CENSUS_ANNOUNCEMENTS&&Log.room(this.pos.roomName,Dye(COLOR_YELLOW,Util.emoji.baby,"Spawning "+t+"!")),!0}return CENSUS_ANNOUNCEMENTS&&Log.error(`[${this.pos.roomName}]`,"Offspring failed: "+Util.translateErrorCode(a)+"<br/> - body: "+JSON.stringify(_.countBy(e))+"<br/> - name: "+t+"<br/> - behaviour: "+r+"<br/> - destiny: "+o),!1}})},function(e,t){Util.define(StructureStorage,class extends StructureStorage{constructor(){}cache(e,t,r){return r?(_.isUndefined(this[`_${e}`])||this[`_${e}Set`]!==Game.time)&&(this[`_${e}Set`]=Game.time,this[`_${e}`]=t()):_.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}get sum(){return this.cache("sum",()=>_.sum(this.store),!0)}get charge(){const e=this.room.RCL;return Util.chargeScale(this.store.energy,MIN_STORAGE_ENERGY[e],MAX_STORAGE_ENERGY[e])}getNeeds(e){let t=0;if(!this.room.memory.resources)return 0;const r=this.room.memory.resources.storage[0];let o=null;r&&(o=r.orders.find(t=>t.type===e)),o||(o={orderAmount:0,orderRemaining:0,storeAmount:0});const a=this.room.RCL,n=Math.max(o.orderRemaining+(this.store[e]||0),o.storeAmount+(e===RESOURCE_ENERGY?MIN_STORAGE_ENERGY[a]:MAX_STORAGE_MINERAL));let s=e===RESOURCE_ENERGY?this.storeCapacity-this.sum+this.store.energy:o.orderAmount+o.storeAmount+MAX_STORAGE_MINERAL;s<0&&(s=0);let i=this.store[e]||0;return i<n?t=Math.min(n-i,this.storeCapacity-this.sum):i>1.05*s&&(t=s-i),t}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(0);StructureTerminal.prototype._send=StructureTerminal.prototype.send;Util.define(StructureTerminal,class extends StructureTerminal{constructor(){this.active=!0}cache(e,t,r){return r?(_.isUndefined(this[`_${e}`])||this[`_${e}Set`]!==Game.time)&&(this[`_${e}Set`]=Game.time,this[`_${e}`]=t()):_.isUndefined(this[`_${e}`])&&(this[`_${e}`]=t()),this[`_${e}`]}send(e,t,r,a){const n=this._send(e,t,r,a);return n===OK&&(Memory.send||(Memory.send=[]),Memory.send.length>20&&Memory.send.shift(),Memory.send.push({time:o().format(),from:this.room.name,to:r,type:e,amount:t})),n}get sum(){return this.cache("sum",()=>_.sum(this.store),!0)}get charge(){const e=this.getNeeds(RESOURCE_ENERGY),t=e?this.store[RESOURCE_ENERGY]+e:TERMINAL_ENERGY;return Util.chargeScale(this.store.energy,t,2*t)}getNeeds(e){let t=0;if(!this.room.memory.resources)return 0;const r=this.room.memory.resources.terminal[0];let o=null;r&&(o=r.orders.find(t=>t.type===e)),o||(o={orderAmount:0,orderRemaining:0,storeAmount:0});const a=Math.max(o.orderRemaining+(this.store[e]||0),o.storeAmount+(e===RESOURCE_ENERGY?TERMINAL_ENERGY:0));let n=o.orderAmount+o.storeAmount+(e===RESOURCE_ENERGY?TERMINAL_ENERGY:0);n<0&&(n=0);let s=this.store[e]||0;return s<a?t=Math.min(a-s,this.storeCapacity-this.sum):s>1.05*n&&(t=n-s),t}})},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var o={"./af":14,"./af.js":14,"./ar":15,"./ar-dz":16,"./ar-dz.js":16,"./ar-kw":17,"./ar-kw.js":17,"./ar-ly":18,"./ar-ly.js":18,"./ar-ma":19,"./ar-ma.js":19,"./ar-sa":20,"./ar-sa.js":20,"./ar-tn":21,"./ar-tn.js":21,"./ar.js":15,"./az":22,"./az.js":22,"./be":23,"./be.js":23,"./bg":24,"./bg.js":24,"./bm":25,"./bm.js":25,"./bn":26,"./bn.js":26,"./bo":27,"./bo.js":27,"./br":28,"./br.js":28,"./bs":29,"./bs.js":29,"./ca":30,"./ca.js":30,"./cs":31,"./cs.js":31,"./cv":32,"./cv.js":32,"./cy":33,"./cy.js":33,"./da":34,"./da.js":34,"./de":35,"./de-at":36,"./de-at.js":36,"./de-ch":37,"./de-ch.js":37,"./de.js":35,"./dv":38,"./dv.js":38,"./el":39,"./el.js":39,"./en-au":40,"./en-au.js":40,"./en-ca":41,"./en-ca.js":41,"./en-gb":42,"./en-gb.js":42,"./en-ie":43,"./en-ie.js":43,"./en-il":44,"./en-il.js":44,"./en-nz":45,"./en-nz.js":45,"./eo":46,"./eo.js":46,"./es":47,"./es-do":48,"./es-do.js":48,"./es-us":49,"./es-us.js":49,"./es.js":47,"./et":50,"./et.js":50,"./eu":51,"./eu.js":51,"./fa":52,"./fa.js":52,"./fi":53,"./fi.js":53,"./fo":54,"./fo.js":54,"./fr":55,"./fr-ca":56,"./fr-ca.js":56,"./fr-ch":57,"./fr-ch.js":57,"./fr.js":55,"./fy":58,"./fy.js":58,"./gd":59,"./gd.js":59,"./gl":60,"./gl.js":60,"./gom-latn":61,"./gom-latn.js":61,"./gu":62,"./gu.js":62,"./he":63,"./he.js":63,"./hi":64,"./hi.js":64,"./hr":65,"./hr.js":65,"./hu":66,"./hu.js":66,"./hy-am":67,"./hy-am.js":67,"./id":68,"./id.js":68,"./is":69,"./is.js":69,"./it":70,"./it.js":70,"./ja":71,"./ja.js":71,"./jv":72,"./jv.js":72,"./ka":73,"./ka.js":73,"./kk":74,"./kk.js":74,"./km":75,"./km.js":75,"./kn":76,"./kn.js":76,"./ko":77,"./ko.js":77,"./ky":78,"./ky.js":78,"./lb":79,"./lb.js":79,"./lo":80,"./lo.js":80,"./lt":81,"./lt.js":81,"./lv":82,"./lv.js":82,"./me":83,"./me.js":83,"./mi":84,"./mi.js":84,"./mk":85,"./mk.js":85,"./ml":86,"./ml.js":86,"./mn":87,"./mn.js":87,"./mr":88,"./mr.js":88,"./ms":89,"./ms-my":90,"./ms-my.js":90,"./ms.js":89,"./mt":91,"./mt.js":91,"./my":92,"./my.js":92,"./nb":93,"./nb.js":93,"./ne":94,"./ne.js":94,"./nl":95,"./nl-be":96,"./nl-be.js":96,"./nl.js":95,"./nn":97,"./nn.js":97,"./pa-in":98,"./pa-in.js":98,"./pl":99,"./pl.js":99,"./pt":100,"./pt-br":101,"./pt-br.js":101,"./pt.js":100,"./ro":102,"./ro.js":102,"./ru":103,"./ru.js":103,"./sd":104,"./sd.js":104,"./se":105,"./se.js":105,"./si":106,"./si.js":106,"./sk":107,"./sk.js":107,"./sl":108,"./sl.js":108,"./sq":109,"./sq.js":109,"./sr":110,"./sr-cyrl":111,"./sr-cyrl.js":111,"./sr.js":110,"./ss":112,"./ss.js":112,"./sv":113,"./sv.js":113,"./sw":114,"./sw.js":114,"./ta":115,"./ta.js":115,"./te":116,"./te.js":116,"./tet":117,"./tet.js":117,"./tg":118,"./tg.js":118,"./th":119,"./th.js":119,"./tl-ph":120,"./tl-ph.js":120,"./tlh":121,"./tlh.js":121,"./tr":122,"./tr.js":122,"./tzl":123,"./tzl.js":123,"./tzm":124,"./tzm-latn":125,"./tzm-latn.js":125,"./tzm.js":124,"./ug-cn":126,"./ug-cn.js":126,"./uk":127,"./uk.js":127,"./ur":128,"./ur.js":128,"./uz":129,"./uz-latn":130,"./uz-latn.js":130,"./uz.js":129,"./vi":131,"./vi.js":131,"./x-pseudo":132,"./x-pseudo.js":132,"./yo":133,"./yo.js":133,"./zh-cn":134,"./zh-cn.js":134,"./zh-hk":135,"./zh-hk.js":135,"./zh-tw":136,"./zh-tw.js":136};function a(e){return r(n(e))}function n(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id=173},function(e,t){Util.define(StructureTower,class extends StructureTower{constructor(){}get active(){return!!this.room.owner&&this.room.owner===this.owner.username&&!(this.room.RCL<3)&&_.get(this.room.memory,["structures",this.id,"active"],!0)}})},function(e,t){Util.define(StructureWall,class extends StructureWall{constructor(){}get active(){return this.room.RCL>1}get isCriticallyFortifyable(){return this.hits<=MIN_FORTIFY_LIMIT[this.room.RCL]}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(177);class a{constructor(){this.opts={maxOps:TRAVELER_MAX_OPS,defaultStuckValue:TRAVELER_STUCK_TICKS,reportThreshold:TRAVELER_THRESHOLD,roomRange:TRAVELLING_BORDER_RANGE},this.findAllowedRooms=((e,t,r={})=>{if(_.defaults(r,{restrictDistance:10}),Game.map.getRoomLinearDistance(e,t)>r.restrictDistance)return;let o={[e]:!0,[t]:!0},a=Game.map.findRoute(e,t,{routeCallback:o=>{if(r.routeCallback){let e=r.routeCallback(o);if(void 0!==e)return e}if(Game.map.getRoomLinearDistance(e,o)>r.restrictDistance)return!1;let a;if(r.preferHighway){if((a=/^[WE]([0-9]+)[NS]([0-9]+)$/.exec(o))[1]%10==0||a[2]%10==0)return 1}if(!r.allowSK&&!Game.rooms[o]){a||(a=/^[WE]([0-9]+)[NS]([0-9]+)$/.exec(o));let e=a[1]%10,t=a[2]%10;if(!(5===e&&5===t)&&e>=4&&e<=6&&t>=4&&t<=6)return 10}return!r.allowHostile&&this.getHostileRoom(o)&&o!==t&&o!==e?Number.POSITIVE_INFINITY:2.5}});if(!r.debug||_.isArray(a)){for(let e of a)o[e.room]=!0;return o.route=a,o}Log.error(`couldn't findRoute to ${t}`)}),this.findTravelPath=((e,t,r={})=>{_.defaults(r,{ignoreCreeps:!0,range:1,maxOps:this.opts.maxOps,obstacles:[]});const o=e.pos||e,n=t.pos||t;let s;(r.useFindRoute||void 0===r.useFindRoute&&Game.map.getRoomLinearDistance(o.roomName,n.roomName)>2)&&(s=this.findAllowedRooms(o.roomName,n.roomName,r));const i=PathFinder.search(o,{pos:n,range:r.range},{maxOps:r.maxOps,plainCost:r.ignoreRoads?1:2,roomCallback:t=>{if(r.roomCallback){let e=r.roomCallback(t,r.ignoreCreeps);if(void 0!==e)return e}if(s){if(!s[t])return!1}else if(this.getHostileRoom(t)&&!r.allowHostile&&t!==o.roomName&&t!==n.roomName)return!1;let i,l=Game.rooms[t];l?r.ignoreStructures?(i=new PathFinder.CostMatrix,r.ignoreCreeps||a.addCreepsToMatrix(l,i)):i=r.ignoreCreeps||t!==e.pos.roomName?this.getStructureMatrix(l,r):this.getCreepMatrix(l,r):i=this.getStructureMatrix(t,r);for(let e of r.obstacles)i.set(e.pos.x,e.pos.y,255);return i},swampCost:r.ignoreRoads?5:10});if(r.respectRamparts){const e=Game.rooms[o.roomName];if(e&&e.find(FIND_MY_STRUCTURES,{filter:{structureType:STRUCTURE_RAMPART}}).length)for(let e=0;e<i.path.length;e++)if(_.filter(i.path[e].lookFor(LOOK_STRUCTURES),{structureType:STRUCTURE_RAMPART}).length){i.path=i.path.slice(0,e+1);break}}return i.route=s&&s.route,i}),this.travelTo=((e,t,r={})=>{const o=e.pos,n=t.pos||t;this.registerHostileRoom(e.room),e.memory._travel||(e.memory._travel={stuck:0,tick:Game.time,cpu:0,count:0});let s=e.memory._travel;if(e.fatigue>0)return s.tick=Game.time,ERR_BUSY;if(!t)return ERR_INVALID_ARGS;let i=e.pos.getRangeTo(n);if(i<=r.range)return OK;if(i<=1)return 1!==i||r.range?OK:(r.returnData&&(r.returnData.nextPos=t.pos),e.move(e.pos.getDirectionTo(t)));let l=!0;if(s.prev){const t=e=>0===e.x||49===e.x||0===e.y||49===e.y,r=(e,r)=>t(e)&&t(r)&&e.roomName!==r.roomName&&(e.x===r.x||e.y===r.y);s.prev=a.initPosition(s.prev),o.inRangeTo(s.prev,0)||r(e.pos,s.prev)?(l=!1,s.stuck++):(e.room.recordMove(e),s.stuck=0)}if(s.stuck>=this.opts.defaultStuckValue&&!r.ignoreStuck&&(r.ignoreCreeps=!1,delete s.path),s.tick=Game.time,s.dest&&s.dest.x===n.x&&s.dest.y===n.y&&s.dest.roomName===n.roomName||delete s.path,!s.path){if(e.spawning)return ERR_BUSY;s.dest=n,s.prev=void 0;let t=Game.cpu.getUsed(),o=this.findTravelPath(e,n,r);if(s.cpu+=Game.cpu.getUsed()-t,s.count++,s.avg=_.round(s.cpu/s.count,2),s.count>25&&s.avg>r.reportThreshold&&r.debug&&(Log.module("Traveler",Dye(COLOR_ORANGE,`heavy cpu use...${e.room.print}`)),Log.table({creep:e.name,avg:s.cpu/s.count,total:_.round(s.cpu,2),from:e.pos,to:n})),o.incomplete){const t=o.route&&o.route.length;r.debug&&0===r.range&&(Log.module("Traveler",Dye(COLOR_ORANGE,`incomplete path, destination may be blocked...${e.room.print}`)),Log.table({creep:e.name,from:e.pos,to:n})),t>1&&(o=this.findTravelPath(e,new RoomPosition(25,25,o.route[1].room),_.create(r,{range:this.opts.roomRange,useFindRoute:!1})),r.debug&&Log.module("Traveler",Dye(o.incomplete?COLOR_GREY:COLOR_GREEN,`attempting path through next room using known route was ${o.incomplete?"not ":""}successful`))),o.incomplete&&o.ops<2e3&&s.stuck<this.opts.defaultStuckValue&&(r.useFindRoute=!1,o=this.findTravelPath(e,n,r))}s.path=a.serializePath(e.pos,o.path),s.stuck=0}if(!s.path||0===s.path.length)return ERR_NO_PATH;s.prev&&0===s.stuck&&(s.path=s.path.substr(1)),s.prev=e.pos;let m=parseInt(s.path[0],10);return r.returnData&&(r.returnData.nextPos=a.positionAtDirection(e.pos,m)),e.move(m)}),this.getStructureMatrix=((e,t)=>{if(t.getStructureMatrix)return t.getStructureMatrix(e);if(this.refreshMatrices(),!this.structureMatrixCache[e.name]){let t=new PathFinder.CostMatrix;this.structureMatrixCache[e.name]=a.addStructuresToMatrix(e,t,1)}return this.structureMatrixCache[e.name]}),this.getCreepMatrix=((e,t)=>t.getCreepMatrix?t.getCreepMatrix(e):(this.refreshMatrices(),this.creepMatrixCache[e.name]||(this.creepMatrixCache[e.name]=a.addCreepsToMatrix(e,this.getStructureMatrix(e,t).clone())),this.creepMatrixCache[e.name])),this.refreshMatrices=(()=>{Game.time!==this.currentTick&&(this.currentTick=Game.time,this.structureMatrixCache={},this.creepMatrixCache={})}),this.opts=_.defaults({maxOps:1e3,defaultStuckValue:3,reportThreshold:50,roomRange:22},this.opts),this.getHostileRoom=(e=>_.get(Memory,["rooms",e,"hostile"])),this.registerHostileRoom=(e=>e.registerIsHostile())}}a.initPosition=(e=>new RoomPosition(e.x,e.y,e.roomName)),a.addStructuresToMatrix=((e,t,r)=>{for(let o of e.find(FIND_STRUCTURES))o instanceof StructureRampart?o.my||o.isPublic||t.set(o.pos.x,o.pos.y,255):o instanceof StructureRoad?t.set(o.pos.x,o.pos.y,r):o.structureType!==STRUCTURE_CONTAINER&&t.set(o.pos.x,o.pos.y,255);for(let r of e.find(FIND_CONSTRUCTION_SITES))r.structureType!==STRUCTURE_CONTAINER&&r.structureType!==STRUCTURE_ROAD&&r.structureType!==STRUCTURE_RAMPART&&t.set(r.pos.x,r.pos.y,255);return t}),a.addCreepsToMatrix=((e,t)=>(e.find(FIND_CREEPS).forEach(e=>t.set(e.pos.x,e.pos.y,255)),t)),a.serializePath=((e,t)=>{let r="",o=e;for(let e of t)e.roomName===o.roomName&&(r+=o.getDirectionTo(e)),o=e;return r}),a.positionAtDirection=((e,t)=>{return new RoomPosition(e.x+[0,0,1,1,1,0,-1,-1,-1][t],e.y+[0,-1,-1,0,1,1,1,0,-1][t],e.roomName)}),t.TravelerInstall=(()=>{_.assign(global,{CompressedMatrix:new o.CompressedMatrix,Traveler:a,traveler:new a,travelerTick:Game.time})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CompressedMatrix=class{constructor(){this.state={nSize:0,cSize:0},this.serialize=(e=>{let t=`${e._bits[0]}x`,r=1;for(let o=1;o<e._bits.length;o++){let a=e._bits[o];a!==e._bits[o-1]?(t+=`${r},${a}x`,r=1):r++}return t+=`${r}`}),this.deserialize=(e=>{const t=new PathFinder.CostMatrix;let r,o,a,n=0;return e.split(",").forEach(e=>{r=e.split("x"),o=r[0],a=r[1],o?_.times(a,e=>{t._bits[n]=o,n++}):n+=a}),t}),this.compareEfficiency=((e,t=new PathFinder.CostMatrix,r=!0)=>{let o,a,n,s;for(let i=0;i<e;i++)o=t.serialize(),r&&Log.module("Matrix","normal",o),n=a=JSON.stringify(o),r&&Log.module("Matrix","normal-deserialize",PathFinder.CostMatrix.deserialize(JSON.parse(a)).serialize()),o=this.serialize(t),r&&Log.module("Matrix","comp-serialize",o),s=a=JSON.stringify(o),r&&Log.module("Matrix","comp-deserialize",this.deserialize(JSON.parse(a)).serialize());this.state.nSize=n.length/1024,this.state.cSize=s.length/1024,Log.module("Matrix","normal size:",_.round(this.state.nSize,2),"compressed size:",_.round(this.state.cSize,2),"reduction(% of original size):",_.round(this.state.cSize/this.state.nSize,2))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateUtils={toLocalDate(e){e||(e=new Date);let t=TIME_ZONE;return USE_SUMMERTIME&&Util.isSummerTime(e)&&t++,new Date(e.getTime()+36e5*t)},toDateTimeString(e){const t=Util.pad;return t(e.getFullYear(),0,4)+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+Util.toTimeString(e)},toTimeString(e){const t=Util.pad;return t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},isSummerTime:e=>(Reflect.has(Date.prototype,"stdTimezoneOffset")||Object.defineProperty(Date.prototype,"stdTimezoneOffset",{value(){const e=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())}}),Reflect.has(Date.prototype,"dst")||Object.defineProperty(Date.prototype,"dst",{get(){return this.getTimezoneOffset()<this.stdTimezoneOffset()}}),e.dst)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(137);t.logUtils={translateErrorCode:e=>o.ErrorType[e],css(e){let t="";return _.forEach(e,(e,r)=>{t+=`${_.kebabCase(r)}: ${e};`}),t},jsonToTable(e){let t="";const r=Util.css({background:"rgba(0,0,0,.25)",border:"1px solid rgba(0,0,0,.5)"}),o=Util.css({padding:"2px 5px"});return _.forEach(e,(e,r)=>{const a=Dye(COLOR_GREEN,r)+Dye(COLOR_RED,":");let n="";_.isNumber(e)?(-1!==e.toString().indexOf(".")&&(e=e.toFixed(3)),n=Dye(COLOR_PURPLE,e)):_.isObject(e)||_.isArray(e)?(e=JSON.stringify(e).replace(/(\{|\}|\[|\]|,)/g,(e,t)=>Dye(COLOR_GREY,t)),n=Dye(COLOR_YELLOW,e)):n=Dye(COLOR_YELLOW,e),t+=`<tr><td style="${o}">${a}</td><td style="${o}">${n}</td></tr>`}),`<table style="${r}"><tbody>${t}</tbody></table>`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roomUtils={getVisibleRooms(e){const t=Game.time-(e||5),r=[];for(const e in Memory.rooms){const o=Memory.rooms[e];o.lastViewed&&o.lastViewed>t&&r.push(e)}return r},getDistance:(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),routeRange:(e,t)=>e===t?0:Util.get(Memory,`routeRange.${e}.${t}`,()=>{const r=e instanceof Room?e:Game.rooms[e];if(!r)return RoomManager.roomDistance(e,t,!1);const o=r.findRoute(t,!1,!1);return o?o===ERR_NO_PATH?1/0:o.length:RoomManager.roomDistance(e,t,!1)}),pave(e){const t=_.values(Game.flags).filter(t=>t.pos.roomName===e&&t.compareTo(FLAG_COLOR.pavementArt)),r=void 0===Memory.pavementArt[e]?"":Memory.pavementArt[e];Memory.pavementArt[e]=r+t.map(e=>`x${e.pos.x}y${e.pos.y}`).join("")+"x";t.forEach(e=>e.pos.createConstructionSite(STRUCTURE_WALL));t.forEach(e=>e.remove())},unpave(e){if(!Memory.pavementArt||!Memory.pavementArt[e])return!1;const t=Game.rooms[e];if(!t)return!1;const r=t.structures.all.filter(t=>Memory.pavementArt[e].indexOf(`x${t.pos.x}y${t.pos.y}x`)>=0);return r&&r.forEach(e=>e.destroy()),delete Memory.pavementArt[e],!0},getRoomLayout(e,t){const r=[],o=Game.rooms[e.roomName];if(!o)return;const a=e.x,n=e.y;_(o.find(FIND_STRUCTURES)).reject(e=>e instanceof StructureController).filter(e=>e.pos.x>=a&&e.pos.y>=n).filter(e=>!t||t(e)).value().forEach(e=>_.set(r,[e.pos.x-a,e.pos.y-n],e.structureType));const s={null:"",'"extension"':"STRUCTURE_EXTENSION",'"road"':"STRUCTURE_ROAD",'"tower"':"STRUCTURE_TOWER",'"spawn"':"STRUCTURE_SPAWN",'"link"':"STRUCTURE_LINK",'"storage"':"STRUCTURE_STORAGE",'"terminal"':"STRUCTURE_TERMINAL",'"nuker"':"STRUCTURE_NUKER",'"powerSpawn"':"STRUCTURE_POWER_SPAWN",'"observer"':"STRUCTURE_OBSERVER",'"rampart"':"STRUCTURE_RAMPART",'"lab"':"STRUCTURE_LAB"},i=new RegExp(Object.keys(s).join("|"),"g");return JSON.stringify(r).replace(i,e=>s[e])},makeRoomUrl:e=>'<a href="#!/room/'+Game.shard.name+"/"+e+'">'+e+"</a>",makeFlagUrl:e=>'<a href="#!/room/'+Game.shard.name+"/"+Memory.flags[e].roomName+'">'+e+"</a>"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.marketUtils={countPrices(e,t,r){let o=(e,t,r,o)=>Game.market.getAllOrders(a=>{let n,s;return!(a.type!==e||a.resourceType!==t||a.amount<r)&&(!((n=Game.market.calcTransactionCost(r,a.roomName,o))>Game.rooms[o].terminal.store[RESOURCE_ENERGY])&&(s=r*a.price,a.transactionAmount=Math.min(a.amount,r),a.ratio=(s-n*ENERGY_VALUE_CREDITS)/a.transactionAmount,!0))});switch(Array.prototype.sum=function(){return this.reduce((e,t)=>e+Number(t),0)},Array.prototype.average=function(){return this.sum()/(this.length||1)},e){case ORDER_BUY:const a=o(ORDER_BUY,t,MIN_MINERAL_SELL_AMOUNT,r),n=_.min(a,"ratio"),s=_.filter(a,e=>e.id!==n.id);let i,l=[];for(let e of s)l.push(e.ratio);return i=Util.roundUp(l.average(),4);case ORDER_SELL:const m=o(ORDER_SELL,t,TRADE_THRESHOLD,r),u=_.max(m,"ratio"),d=_.filter(m,e=>e.id!==u.id);let c,h=[];for(let e of d)h.push(e.ratio);return c=Util.roundUp(h.average(),4)}},sumCompoundType:(e,t="amount")=>_(e).flatten().groupBy("type").transform((e,r,o)=>e[o]=_.sum(r,t)).value(),roundUp:(e,t=0)=>(t=Math.pow(10,t),Math.ceil(e*t)/t),roundUpTo:(e,t)=>(e%t!=0&&(e=e+t-e%t),e),orderingRoom(){let e=_.filter(Game.rooms,{my:!0});return _.filter(e,e=>{let t=e.memory.resources;return!_.isUndefined(t)&&!_.isUndefined(t.orders)&&(_.isUndefined(t.boostTiming)&&(t.boostTiming={}),t.orders.length>0&&_.sum(t.orders,"amount")>0)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emoji={skull:String.fromCodePoint(128128),tick:String.fromCodePoint(9989),cross:String.fromCodePoint(10060),warn:String.fromCodePoint(128549),info:String.fromCodePoint(128309),debug:String.fromCodePoint(128027),home:String.fromCodePoint(127968),reload:String.fromCodePoint(8987),flag:String.fromCodePoint(128681),baby:String.fromCodePoint(128118),order:String.fromCodePoint(128230),terminal:String.fromCodePoint(128176),lab:String.fromCodePoint(128302),walk:String.fromCodePoint(128095),wait:String.fromCodePoint(128684),module:String.fromCodePoint(9898),attack_controller:String.fromCodePoint(128640),avoiding:String.fromCodePoint(128064),boosting:String.fromCodePoint(128293),building:String.fromCodePoint(127959),bulldozing:String.fromCodePoint(128668),charging:String.fromCodePoint(128268),claiming:String.fromCodePoint(9971),defending:String.fromCodePoint(9876),dismantling:String.fromCodePoint(9937),dropping:String.fromCodePoint(128169),feeding:String.fromCodePoint(127829),fortifying:String.fromCodePoint(128679),fueling:String.fromCodePoint(9981),guarding:String.fromCodePoint(128737),harvesting:String.fromCodePoint(9935),healing:String.fromCodePoint(128138),idle:String.fromCodePoint(127925),invading:String.fromCodePoint(128299),mining:String.fromCodePoint(9935),picking:String.fromCodePoint(129508),reallocating:String.fromCodePoint(128302),recycling:String.fromCodePoint(128260),repairing:String.fromCodePoint(128295),reserving:String.fromCodePoint(128681),robbing:String.fromCodePoint(128123),storing:String.fromCodePoint(9196),travelling:String.fromCodePoint(127939),uncharging:String.fromCodePoint(128267),upgrading:String.fromCodePoint(128591),withdrawing:String.fromCodePoint(9195),safegen:String.fromCodePoint(128274)}},function(e,t){e.exports=require("config")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e,t){if(this.next=(()=>{const e=this._stepA,t=this._stepB,r={done:!1,value:{}};switch(this._dir){case TOP_RIGHT:r.value.x=Math.round(this.x-e),r.value.y=Math.round(this.y+t);break;case BOTTOM_RIGHT:r.value.x=Math.round(this.x-t),r.value.y=Math.round(this.y-e);break;case BOTTOM_LEFT:r.value.x=Math.round(this.x+e),r.value.y=Math.round(this.y-t);break;case TOP_LEFT:r.value.x=Math.round(this.x+e),r.value.y=Math.round(this.y+t);break;default:return{done:!0,value:!1}}return this._stepA=e-.5,this._stepB=t+.5,this._stepA<1&&(this._dir=this._dir+2,this._stepA=this._radius-.25,this._stepB=.25),r}),!_.isFinite(t))throw new Error("not finite: "+JSON.stringify([e,t]));this._radius=t,this.x=e.x,this.y=e.y,this._dir=TOP_RIGHT,this._stepA=t-.25,this._stepB=.25}}o.loop=((e,t)=>{const r=e,a=t;if(!_.isFinite(t))throw new Error("not finite: "+JSON.stringify([e,t]));return{[Symbol.iterator]:()=>new o(r,a)}}),o.inside=((e,t,r)=>Math.abs(t.x-e.x)+Math.abs(t.y-e.y)<r),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e,t,r){this.next=(()=>{if(o.dirTransform(this,this._dir),--this._step,this._step<=0)switch(this._step=2*this._ring,this._dir){case TOP:this._ring++,this._step++,this._dir=RIGHT;break;case RIGHT:this._dir=BOTTOM;break;case BOTTOM:this._dir=LEFT;break;case LEFT:this._step++,this._dir=TOP;break;default:throw new Error("illegal _dir="+this._dir)}return{done:this._ring>=this._ringLimit,value:{x:this.x,y:this.y}}}),this._dir=TOP,this.x=e.x,void 0===t?(this._ring=0,this._step=2,this.y=e.y+1):(this._ring=t-1,this._step=1,this.y=e.y),void 0===r?this._ringLimit=Math.min(2,this._ring+1):Number.isFinite(r)&&(this._ringLimit=r)}depth(){return this._ring}}o.dirTransform=((e,t)=>{switch(t){case TOP_RIGHT:e.x++;case TOP:e.y--;break;case BOTTOM_RIGHT:e.y++;case RIGHT:e.x++;break;case BOTTOM_LEFT:e.x--;case BOTTOM:e.y++;break;case TOP_LEFT:e.y--;case LEFT:e.x--}return e}),t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new class{constructor(){this.LAB_REACTIONS={},this.LAB_IDLE="idle",this.LAB_BOOST="boost",this.LAB_SEED="seed",this.LAB_MASTER="master",this.LAB_SLAVE_1="slave_1",this.LAB_SLAVE_2="slave_2",this.LAB_SLAVE_3="slave_3",this.REACTOR_TYPE_FLOWER="flower",this.REACTOR_MODE_IDLE="idle",this.REACTOR_MODE_BURST="burst",this.CREEP_PART_THREAT={move:{common:0,boosted:0},work:{common:1,boosted:3},carry:{common:0,boosted:0},attack:{common:2,boosted:5},ranged_attack:{common:2,boosted:5},heal:{common:4,boosted:10},claim:{common:1,boosted:3},tough:{common:1,boosted:3},tower:25},this.FLAG_COLOR={invade:{color:COLOR_RED,secondaryColor:COLOR_RED,exploit:{color:COLOR_RED,secondaryColor:COLOR_GREEN},robbing:{color:COLOR_RED,secondaryColor:COLOR_YELLOW},attackController:{color:COLOR_RED,secondaryColor:COLOR_CYAN}},labs:{color:COLOR_PURPLE,secondaryColor:COLOR_PURPLE,filter:{color:COLOR_PURPLE,secondaryColor:COLOR_PURPLE},labTech:{color:COLOR_PURPLE,secondaryColor:COLOR_WHITE,filter:{color:COLOR_PURPLE,secondaryColor:COLOR_WHITE}}},construct:{color:COLOR_CYAN,secondaryColor:COLOR_CYAN,spawn:{color:COLOR_CYAN,secondaryColor:COLOR_RED},tower:{color:COLOR_CYAN,secondaryColor:COLOR_PURPLE},link:{color:COLOR_CYAN,secondaryColor:COLOR_BLUE},lab:{color:COLOR_CYAN,secondaryColor:COLOR_GREEN},storage:{color:COLOR_CYAN,secondaryColor:COLOR_YELLOW},terminal:{color:COLOR_CYAN,secondaryColor:COLOR_ORANGE},observer:{color:COLOR_CYAN,secondaryColor:COLOR_BROWN},nuker:{color:COLOR_CYAN,secondaryColor:COLOR_GREY},powerSpawn:{color:COLOR_CYAN,secondaryColor:COLOR_WHITE}},claim:{color:COLOR_GREEN,secondaryColor:COLOR_GREEN,spawn:{color:COLOR_GREEN,secondaryColor:COLOR_WHITE},pioneer:{color:COLOR_GREEN,secondaryColor:COLOR_RED},reserve:{color:COLOR_GREEN,secondaryColor:COLOR_GREY},mining:{color:COLOR_GREEN,secondaryColor:COLOR_BROWN},delivery:{color:COLOR_GREEN,secondaryColor:COLOR_YELLOW}},defense:{color:COLOR_YELLOW,secondaryColor:COLOR_YELLOW},destroy:{color:COLOR_ORANGE,secondaryColor:COLOR_ORANGE,dismantle:{color:COLOR_ORANGE,secondaryColor:COLOR_YELLOW}},pavementArt:{color:COLOR_BROWN,secondaryColor:COLOR_BROWN},command:{color:COLOR_WHITE,drop:{color:COLOR_WHITE,secondaryColor:COLOR_YELLOW},_OCS:{color:COLOR_WHITE,secondaryColor:COLOR_PURPLE},roomLayout:{color:COLOR_WHITE,secondaryColor:COLOR_CYAN},invalidPosition:{color:COLOR_WHITE,secondaryColor:COLOR_RED},skipRoom:{color:COLOR_WHITE,secondaryColor:COLOR_GREEN},idle:{color:COLOR_WHITE,secondaryColor:COLOR_BROWN},safeGen:{color:COLOR_WHITE,secondaryColor:COLOR_BLUE}}},this.DECAY_AMOUNT={rampart:RAMPART_DECAY_AMOUNT,road:ROAD_DECAY_AMOUNT,container:CONTAINER_DECAY},this.DECAYABLES=[STRUCTURE_ROAD,STRUCTURE_CONTAINER,STRUCTURE_RAMPART],this.MEM_SEGMENTS={COSTMATRIX_CACHE:{start:99,end:95}};for(let e in REACTIONS)for(let t in REACTIONS[e])this.LAB_REACTIONS[REACTIONS[e][t]]=[e,t]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(),this.fresh=(()=>{Memory.cpu.loop={},Memory.CPU_CHECK||(Memory.CPU_CHECK=CPU_CHECK)}),this.check=((e,...t)=>{if(!Memory.CPU_CHECK)return;const r=[e].concat(t).join("-");_.set(Memory.cpu.loop,r,Game.cpu.getUsed())}),this.end=((e,...t)=>{if(!Memory.CPU_CHECK)return;const r=[e].concat(t).join("-"),o=Memory.cpu.loop[r];o?_.set(Memory.cpu.loop,r,(Game.cpu.getUsed()-o).toFixed(3)):Log.error("not find cpu namespace:",r)}),this.handleData=(()=>{if(!Memory.CPU_CHECK)return;const e=Game.cpu.getUsed().toFixed(3);Memory.cpu.cpu=e,Memory.cpu.cpus?Memory.cpu.cpus.push(e):Memory.cpu.cpus=[e],_.forEach(Memory.cpu.loop,(e,t)=>{Memory.cpu.loops[t]?Memory.cpu.loops[t].push(e):Memory.cpu.loops[t]=[e]})}),this.start=(()=>{Memory.CPU_CHECK=!0,Log.info("CPU Check Start!"),Memory.cpu={loop:{},loops:{},cpu:0,cpus:[]}}),this.stop=(()=>{Memory.CPU_CHECK=!1,Memory.cpu={loop:{},loops:{},cpu:0,cpus:[]},Log.info("CPU Check Stop..")}),this.status=(()=>(Log.info("CPU Check Status:",Memory.CPU_CHECK),Memory.CPU_CHECK)),this.report=(()=>{if(0===Object.keys(Memory.cpu).length)return this.status()||this.start(),void Log.info("CPU wait data...");const e=Memory.cpu.cpus;let t=(_.sum(e)/e.length).toFixed(3),r={};_.forEach(Memory.cpu.loops,(e,t)=>{r[t]=(_.sum(e)/e.length).toFixed(3)}),Log.trace("CPU",r,`usage: ${t} | avg: ${e.length} ticks`)}),this.reportOnce=(()=>{if(0===Object.keys(Memory.cpu.loop).length)return this.status()||this.start(),void Log.info("CPU wait data...");Log.trace("CPU",Memory.cpu.loop,`total-usage: ${Game.cpu.getUsed().toFixed(3)}`),this.stop()}),Memory.cpu||(Memory.cpu={loop:{},loops:{}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EventConstructor=class{constructor(){this.handlers=[],this.on=(e=>{null!==e&&this.handlers.push(e)}),this.off=(e=>{this.handlers=this.handlers.filter(t=>t!==e)}),this.trigger=(e=>{try{this.handlers.slice(0).forEach(t=>t(e))}catch(e){Log.error("Error in LiteEvent.trigger: "+(e.stack||e))}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={[COLOR_RED]:"#F92672",[COLOR_PURPLE]:"#AE81FF",[COLOR_BLUE]:"#66D9EF",[COLOR_CYAN]:"#529B2F",[COLOR_GREEN]:"#A6E22E",[COLOR_YELLOW]:"#E6DB74",[COLOR_ORANGE]:"#FD971F",[COLOR_BROWN]:"#75715E",[COLOR_GREY]:"#999999",[COLOR_WHITE]:"#F8F8F0"},a=Object.assign({},o,{link:{color:"#428bca",fontSize:"9px"},black:{color:"black",fontWeight:"bold"},system:{color:o[COLOR_GREY],fontSize:"9px"},success:{color:o[COLOR_GREEN],fontSize:"9px"},error:{color:o[COLOR_RED],fontSize:"9px"},warn:{color:o[COLOR_ORANGE],fontSize:"9px"},info:{color:o[COLOR_BLUE],fontSize:"9px"},debug:{color:o[COLOR_BROWN],fontSize:"9px"},room:{color:o[COLOR_PURPLE],fontSize:"9px"}});t.default=((e,...t)=>{const r=a[e],o=t.join(" ");return _.isObject(r)?`<span style="${Util.css(r)}">${o}</span>`:`<span style="color: ${r}">${o}</span>`})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(191),a=r(137);t.default=new class{constructor(){this.LogLevel=o.LogLevel[LOG_LEVEL],this.Emoji=LOG_EMOJI}success(...e){const t=this.Emoji?Util.emoji.tick:"[SUCCESS]";console.log(Dye("success",t)+" "+Dye(COLOR_GREEN,...e))}error(...e){if(this.LogLevel<2)return;const t=this.Emoji?Util.emoji.cross:"[ERROR]";console.log(Dye("error",t)+" "+Dye(COLOR_RED,...e))}errorCode(e,t){if(t){const r=a.ErrorType[t];e&&(r?e.say(r):e.say(t));let o=r+"\nroom: "+e.pos.roomName+"\ncreep: "+e.name+"\naction: "+e.data.actionName+"\ntarget: "+e.data.targetId;this.error(o),Game.notify(o,120)}else{let t="unknown error code\nroom: "+e.pos.roomName+"\ncreep: "+e.name+"\naction: "+e.data.actionName+"\ntarget: "+e.data.targetId;this.error(t,this.stack())}}warn(...e){if(this.LogLevel<3)return;const t=this.Emoji?Util.emoji.warn:"[WARN]";console.log(Dye("warn",t)+" "+Dye(COLOR_ORANGE,...e))}info(...e){if(this.LogLevel<4)return;const t=this.Emoji?Util.emoji.info:"[INFO]";console.log(Dye("info",t)+" "+Dye(COLOR_BLUE,...e))}debug(...e){if(this.LogLevel<5)return;const t=this.Emoji?Util.emoji.debug:"[DEBUG]";console.log(Dye("debug",t),...e)}module(e,...t){e=this.Emoji?`${Util.emoji.module} ${Dye("link",e)}`:`[${e}]`,console.log(Dye("system",e),...t)}room(e,...t){e=_.isString(e)?Util.makeRoomUrl(e):e.print;const r=this.Emoji?`${Util.emoji.home} ${e}`:`[${e}]`;console.log(Dye("room",r),...t)}flag(e,...t){e=_.isString(e)?Util.makeFlagUrl(e):e.print;const r=this.Emoji?`${Util.emoji.flag} ${e}`:`[${e}]`;console.log(Dye("room",r),...t)}stringify(e){console.log(JSON.stringify(e,null,2))}table(e){console.log(Util.jsonToTable(e))}stack(e=!1,t=" "){return DEBUG_STACKS||e?new Error(`\nSTACK; param:${DEBUG_STACKS}, force:${e}`).stack:t}trace(e,t,...r){let o,a=r;if(0===r.length&&e){let r=e;do{o=r,r=t[r]}while(t[r]&&r!==e);r&&r!==e&&(a="string"==typeof r?[r]:[o,"=",r])}console.log(Dye(COLOR_ORANGE,`[${e}]`),...a,"<br/>",Util.jsonToTable(t),this.stack())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.alert=1]="alert",e[e.error=2]="error",e[e.warn=3]="warn",e[e.info=4]="info",e[e.debug=5]="debug"}(t.LogLevel||(t.LogLevel={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.storedStatisticsTime=Memory.statistics&&Memory.statistics.time?Memory.statistics.time:0,this.run=(()=>{let e;if(_.isUndefined(Memory.statistics)&&(Memory.statistics={reports:[]}),SEND_STATISTIC_REPORTS&&this.storedStatisticsTime>0){if(e="<div><h3><b>Status report </b></h3><h4>at "+Util.toDateTimeString(Util.toLocalDate())+",<br/>comparison to state before: "+this.toTimeSpanString(new Date,new Date(this.storedStatisticsTime))+" ("+(Game.time-Memory.statistics.tick)+" loops)</h4>",Game.cpu.bucket){const t=Game.cpu.bucket-Memory.statistics.bucket;e+="CPU Bucket: "+Game.cpu.bucket+" ("+(t>=0?"+":"")+t+")"}e+="</div>",Memory.statistics.reports.push(e)}let t=t=>{let r="<li>"+t.owner+": "+t.body.replace(/"/g,"");void 0===t.leave?r+=" since "+Util.toTimeString(Util.toLocalDate(new Date(t.time)))+"</li>":r+=" for "+(t.leave-t.enter)+" loops at "+Util.toTimeString(Util.toLocalDate(new Date(t.time)))+"</li>",e.length+r.length>REPORT_MAX_LENGTH?(Memory.statistics.reports.push(e+"</ul></li></ul>"),e='<ul><li style="list-style-type:none"><ul>'+r):e+=r};_.forEach(Game.rooms,r=>{if(r.controller){if(SEND_STATISTIC_REPORTS&&this.storedStatisticsTime>0)if(r.controller.my&&r.memory.statistics){e="<ul><li><b>Room "+r.name+"</b><br/><u>Controller</u><ul>";let o=r.controller.progress<r.memory.statistics.controllerProgress,a=(100*r.controller.progress/r.controller.progressTotal).toFixed(0),n=o?r.memory.statistics.controllerProgressTotal-r.memory.statistics.controllerProgress+r.controller.progress:r.controller.progress-r.memory.statistics.controllerProgress,s=(100*n/r.controller.progressTotal).toFixed(1),i=(n/(Game.time-Memory.statistics.tick)).toFixed(2);if(e+="<li>Level "+r.RCL+", "+a+"% of "+r.controller.progressTotal+"<br/>( +"+n+" | +"+s+"% | +"+i+"/loop )"+(o?" <b><i>Upgraded!</i></b></li></ul>":"</li></ul>"),r.storage&&r.memory.statistics.store){let t=r.memory.statistics.store,o=r.storage.store;e+="<u>Storage</u><ul>";for(let r in t){let a=o[r]?o[r]-t[r]:-1*t[r];e+="<li>"+r+": "+(o[r]||0)+" ("+(a>-1?"+":"")+a+")</li>"}for(let r in o)t[r]||(e+="<li>"+r+": "+o[r]+" (+"+o[r]+")</li>");e+="</ul>"}r.memory.statistics.invaders&&r.memory.statistics.invaders.length>0&&(e+="<u>Invaders</u><ul>",_.forEach(r.memory.statistics.invaders,t),e+="</ul>"),e+="</li></ul>",Memory.statistics.reports.push(e)}else!r.controller.my&&r.controller.reservation&&(e="<ul><li><b>Room "+r.name+"</b><br/><u>Controller</u><ul><li>Reservation: "+r.controller.reservation.ticksToEnd+" for "+r.controller.reservation.username+"</li></ul></li></ul>",Memory.statistics.reports.push(e));let o=e=>void 0===e.leave,a=r.memory.statistics?_.filter(r.memory.statistics.invader,o):[];r.memory.statistics={tick:Game.time,time:Date.now(),store:r.storage?r.storage.store:null,controllerProgress:r.controller.progress,controllerProgressTotal:r.controller.progressTotal,invaders:a}}}),Memory.statistics.tick=Game.time,Memory.statistics.time=Date.now(),Memory.statistics.bucket=Game.cpu.bucket}),this.toTimeSpanString=((e,t)=>{let r=e.getTime()-t.getTime();r<0&&(r*=-1);let o,a=new Date(r),n=Math.floor(r/36e5),s=a.getMinutes(),i=a.getSeconds();return o=n>0?n+"h "+s+"m "+i+"s":s>0?s+"m "+i+"s":i>0?i+"s":"0"})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.typeCount={},this.typeWeight={},this.actionCount={},this.actionWeight={},this.died=[],this.predictedRenewal=[],this.spawned=[],this.spawnsToProbe=[],this.stats={creep:{coreParts:{[MOVE]:!0,[HEAL]:!0},boost:{hits:{[RESOURCE_GHODIUM_OXIDE]:143,[RESOURCE_GHODIUM_ALKALIDE]:200,[RESOURCE_CATALYZED_GHODIUM_ALKALIDE]:334}}}},this.fresh=(()=>{this.typeCount={},this.typeWeight={},this.actionCount={},this.actionWeight={},this.died=[],this.predictedRenewal=[],this.spawned=[],this.spawnsToProbe=[],_.isUndefined(Memory.population)&&(Memory.population={})}),this.analyze=(()=>{let e=e=>{let t=Game.creeps[e.creepName];if(t){if(t.data=e,delete t.action,delete t.target,delete t.flag,t.spawning?e.spawningTime++:t.ticksToLive>0&&!t.data.spawned?(t.data.spawned=!0,this.spawned.push(e.creepName),Game.spawns[e.motherSpawn]&&this.spawnsToProbe.push(e.motherSpawn)):t.ticksToLive<=(e.predictedRenewal?e.predictedRenewal:e.spawningTime)&&!t.data.nearDeath&&(t.data.nearDeath=!0,CENSUS_ANNOUNCEMENTS&&Log.room(e.roomName,Util.emoji.skull,Dye("black",e.creepName,"was near death...")),this.predictedRenewal.push(t.name),!this.spawnsToProbe.includes(e.motherSpawn)&&"unknown"!=e.motherSpawn&&Game.spawns[e.motherSpawn]&&this.spawnsToProbe.push(e.motherSpawn)),e.ttl=t.ticksToLive,e.creepType&&(void 0===t.ticksToLive||CreepManager.isWorkingAge(e))&&this.countCreep(t.room,e),e.flagName){let r=Game.flags[e.flagName];r?(void 0===r.targetOf?r.targetOf=[e]:r.targetOf.push(e),t.flag=r):delete e.flagName}let r=e.actionName&&CreepManager.action[e.actionName]?CreepManager.action[e.actionName]:null,o=r&&e.targetId?Game.getObjectById(e.targetId)||Game.spawns[e.targetId]||Game.flags[e.targetId]:null;o&&o.id===t.id&&(o=FlagManager.specialFlag()),r&&o?this.registerAction(t,r,o,e):(delete e.actionName,delete e.targetId,t.action=null,t.target=null),void 0===e.hull&&_.assign(e,this.getCombatStats(t.body)),t.data=e}else e.ttl>1?Log.room(e.roomName,Util.emoji.skull,Dye(COLOR_RED,e.creepName,"has been killed...")):Log.room(e.roomName,Util.emoji.skull,Dye("black",e.creepName,"was dead...")),this.died.push(e.creepName)};_.forEach(Memory.population,t=>{e(t)});let t=e=>{let t=Game.creeps[e.creepName];if(t&&t.action&&t.target){let r=t.target.id||t.target.name,o=t.action.validateActionTarget(t,t.target);o?(r!=o.id||o.name)&&this.registerAction(t,t.action,o,e):(delete e.actionName,delete e.targetId,t.action=null,t.target=null)}};_.forEach(Memory.population,e=>{t(e)})}),this.run=(()=>{if(this.spawned.forEach(e=>CreepManager.spawningCompleted.trigger(Game.creeps[e])),CreepManager.died.on(e=>{const t=Memory.population[e];t&&t.determinatedSpot&&t.roomName&&RoomManager.costMatrixInvalid.trigger(t.roomName)}),this.died.forEach(e=>CreepManager.died.trigger(e)),this.predictedRenewal.forEach(e=>CreepManager.predictedRenewal.trigger(Game.creeps[e])),Game.time%SPAWN_INTERVAL!=0){let e=e=>Game.spawns[e].run();this.spawnsToProbe.forEach(e)}}),this.cleanup=(()=>{this.died.forEach(e=>this.unregisterCreep(e))}),this.getCreep=(e=>Memory.population[e]),this.setCreep=(e=>(Memory.population[e.creepName]=e,Memory.population[e.creepName])),this.registerCreep=((e,t,r,o,a,n,s=null)=>{let i=this.setCreep({creepName:e,creepType:t,weight:r,roomName:o.name,homeRoom:o.name,motherSpawn:a,actionName:null,targetId:null,spawningTime:0,flagName:null,body:_.countBy(n),destiny:s});this.countCreep(o,i)}),this.unregisterCreep=(e=>{delete Memory.population[e],delete Memory.creeps[e]}),this.registerAction=((e,t,r,o)=>{if(LOG_TRACE&&Log.trace("PopManager",{creepName:this.name,registerAction:t.name,target:r.name||r.id,PopManager:"registerAction"}),e===r)throw new Error("attempt to register self target");void 0===o&&(o=this.getCreep(e.name)),o.carryCapacityLeft=e.carryCapacity-e.sum;let a=e.room;void 0===a.population&&(a.population={typeCount:{},typeWeight:{},actionCount:{},actionWeight:{}}),e.action&&(void 0===a.population.actionCount[e.action.name]?a.population.actionCount[e.action.name]=0:a.population.actionCount[e.action.name]--,void 0===a.population.actionWeight[e.action.name]?a.population.actionWeight[e.action.name]=0:a.population.actionWeight[e.action.name]-=o.weight,void 0===this.actionCount[e.action.name]?this.actionCount[e.action.name]=0:this.actionCount[e.action.name]--,void 0===this.actionWeight[e.action.name]?this.actionWeight[e.action.name]=0:this.actionWeight[e.action.name]-=o.weight,delete e.data.determinatedSpot,delete e.data.determinatedTarget),o.actionName=t.name,void 0===a.population.actionCount[t.name]?a.population.actionCount[t.name]=1:a.population.actionCount[t.name]++,void 0===a.population.actionWeight[t.name]?a.population.actionWeight[t.name]=o.weight:a.population.actionWeight[t.name]+=o.weight,void 0===this.actionCount[t.name]?this.actionCount[t.name]=1:this.actionCount[t.name]++,void 0===this.actionWeight[t.name]?this.actionWeight[t.name]=o.weight:this.actionWeight[t.name]+=o.weight;let n,s=r.id||r.name;if(o.targetId){let t=o.targetId?Game.getObjectById(o.targetId)||Game.spawns[o.targetId]||Game.flags[o.targetId]:null;if(t&&(n=t.id||t.name,t.targetOf)){let r=t=>t.creepName===e.name,o=t.targetOf.findIndex(r);o>-1&&t.targetOf.splice(o,1)}}if(o.targetId=s,r&&!FlagManager.isSpecialFlag(r))try{void 0===r.targetOf?r.targetOf=[o]:r.targetOf.push(o)}catch(e){r.targetOf=void 0}s!==n&&delete o.path,e.action=t,e.target=r,e.data=o}),this.registerCreepFlag=((e,t)=>{if(!(t&&e.data&&e.data.flagName&&e.data.flagName==t.name&&e.flag.name==t.name)){if(e.data&&e.data.flagName){let t=Game.flags[e.data.flagName];if(t&&t.targetOf){let r=t=>t.creepName===e.name,o=t.targetOf.findIndex(r);o>-1&&t.targetOf.splice(o,1)}}t?(void 0===t.targetOf?t.targetOf=[e.data]:t.targetOf.push(e.data),e.flag=t,e.data.flagName=t.name):(delete e.data.flagName,delete e.flag)}}),this.countCreep=((e,t)=>{t.roomName=e.name,void 0===e.population&&(e.population={typeCount:{},typeWeight:{},actionCount:{},actionWeight:{}}),void 0===e.population.typeCount[t.creepType]?e.population.typeCount[t.creepType]=1:e.population.typeCount[t.creepType]++,void 0===e.population.typeWeight[t.creepType]?e.population.typeWeight[t.creepType]=t.weight:e.population.typeWeight[t.creepType]+=t.weight,void 0===this.typeCount[t.creepType]?this.typeCount[t.creepType]=1:this.typeCount[t.creepType]++,void 0===this.typeWeight[t.creepType]?this.typeWeight[t.creepType]=t.weight:this.typeWeight[t.creepType]+=t.weight}),this.sortEntries=(()=>{let e={};_.map(_.sortBy(Memory.population,e=>e.creepName),t=>e[t.creepName]=t),Memory.population=e}),this.getCombatStats=(e=>{let t=0,r=99,o=100*e.length-99;for(;t<e.length&&!this.stats.creep.coreParts[e[t].type];t++)r+=this.stats.creep.boost.hits[e[t].boost]||100,o-=100;return{hull:r,coreHits:o}}),this.findCircular=(()=>{const e={creeps:Game.creeps,structures:Game.structures,memory:Memory},t={};for(let r in e){const o=e[r];for(let e in o){const a=o[e],n=r+"."+e;t[e]=n,this.checkCircular(e,t,a,n,1)}}}),this.checkCircular=((e,t,r,o,a)=>{if(a>10)Log.error("Checking for circulars, very deep path",{rootPath:o,depth:a});else for(let n in r){const s=o+"."+n,i=r[n];if(!_.isObject(i))continue;const l=i.id||i.name;if(l===e)throw new Error("circular structure:"+l+" at:"+s+" and at:"+t[l]);l&&!t[l]&&(t[l]=s,this.checkCircular(e,t,i,s,a+1))}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.numSaved=0,this.toActivate={},this.extend=(()=>{this.activateSegment(MEM_SEGMENTS.COSTMATRIX_CACHE,!0),_.defaults(Memory,{cloaked:{},debugTrace:{error:!0,no:{}},pavementArt:{}})}),this.fresh=(()=>{Memory.CPU_CRITICAL=Memory.CPU_CRITICAL?Game.cpu.bucket<CRITICAL_BUCKET_LEVEL+CRITICAL_BUCKET_OVERFILL:Game.cpu.bucket<CRITICAL_BUCKET_LEVEL,this.processSegments()}),this.cleanup=(()=>{_.size(this.toActivate)>0&&RawMemory.setActiveSegments(Object.keys(this.toActivate)),this.toActivate={},this.numSaved=0}),this.activateSegment=((e,t=!1)=>{if(e.start&&e.end){for(let r=e.start;r>=e.end;r--)this.activateSegment(r,t);return}if(e<0||e>99)return Log.module("Memory",Dye(COLOR_RED,"Cannot activate invalid segment ",e));const r=_.size(RawMemory.segments);if(this.numSaved>=10)return Log.module("Memory",Dye(COLOR_RED,"10 segments saved, cannot activate segment ",e));if(!t){if(r>=10)return Log.module("Memory",Dye(COLOR_RED,"10 segments loaded, cannot activate segment ",e));if(r+this.numSaved>=10)return Log.module("Memory",Dye(COLOR_RED,"Combined loaded and saved exceeds limit(10), cannot activate segment ",e))}this.toActivate[e]=!0}),this.deactivateSegment=(e=>{if(e<0||e>99)return Log.module("Memory",Dye(COLOR_RED,"Cannot deactivate invalid segment ",e));0===_.size(this.toActivate)&&Object.keys(RawMemory.segments).forEach(e=>this.toActivate[e]=!0),delete this.toActivate[e]}),this.cacheValid=(e=>Util.cacheValid[e]===Memory.cacheValid[e]),this.processSegment=((e,t)=>{_.isUndefined(Memory.cacheValid[e])&&(Memory.cacheValid[e]=!1);const r=RawMemory.segments[e];if(!this.cacheValid(e))try{t(r?JSON.parse(r):{}),Util.cacheValid[e]=Memory.cacheValid[e]}catch(t){Log.module("Memory",Dye(COLOR_RED,"Error loading segment",e," caused by ",t.stack||t.toString())),RawMemory.segments[e]="",delete Util.cacheValid[e],delete Memory.cacheValid[e]}}),this.processSegments=(()=>{_.isUndefined(Util.cacheValid)&&(Util.cacheValid={}),_.isUndefined(Memory.cacheValid)&&(Memory.cacheValid={});for(let e=MEM_SEGMENTS.COSTMATRIX_CACHE.start;e>=MEM_SEGMENTS.COSTMATRIX_CACHE.end;e--)this.processSegment(e,RoomManager.loadCostMatrixCache)}),this.saveSegment=((e,t)=>{const r=_.size(RawMemory.segments),o=Object.keys(t);let a,n=0;for(let s=e.start;s>=e.end;s--)if(o&&n<o.length||a&&a.length>1)if(!_.isUndefined(RawMemory.segments[s])||r+this.numSaved<10){let e,r=!1;for(;n<o.length;){const s=o[n];if(n++,e=`"${s}":${JSON.stringify(t[s])}`,r=(_.get(a,"length",0)+_.get(e,"length",0)+2)/1024>100)break;a=a?a+","+e:"{"+e}if(!a&&e&&e.length>0){const t=_.round((e.length+2)/1024,2);return Log.module("Memory",Dye(COLOR_RED,`Cannot save data at key ${n}, exceeds 100kb limit ${t}kb`))}Log.module("Memory","Saving "+Dye(COLOR_PURPLE,_.round(a.length/1024,2),"kb")+" of data to "+Dye(COLOR_BLUE,`segment ${s}`)),RawMemory.segments[s]=a+"}",Memory.cacheValid[s]=Game.time,a=r&&e?"{"+e:"{",_.isUndefined(RawMemory.segments[s])&&this.numSaved++}else{if(r>10)return Log.module("Memory",Dye(COLOR_RED,`Cannot save segment ${s} too many active segments.`));if(r+this.numSaved>10)return Log.module("Memory",Dye(COLOR_RED,`Cannot save segment ${s} loaded saved exceeds limit(10).`));Log.module("Memory",Dye(COLOR_RED,"RawMemory should not be here."))}else Memory.cacheValid[s]&&(Log.module("Memory",Dye(COLOR_GREY,`Clearing unused segment ${s}`)),RawMemory.segments[s]="",delete Memory.cacheValid[s])})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),a=r(9);t.default=new class extends o.Component{constructor(){super(...arguments),this.list=[],this.stale=[],this.fresh=(()=>{a.Install(FlagManager,{found:new o.EventConstructor,FlagRemoved:new o.EventConstructor}),_.forEach(Game.flags,e=>delete e.targetOf),this.list=[],this.stale=[],delete this._hasInvasionFlag}),this.register=(e=>{try{e.creeps={},e.cloaking>0&&e.cloaking--,this.list.push({name:e.name,color:e.color,secondaryColor:e.secondaryColor,roomName:e.pos.roomName,x:e.pos.x,y:e.pos.y,cloaking:e.cloaking})}catch(e){Log.error(e.stack||e.message)}}),this.analyze=(()=>(_.forEach(Game.flags,this.register),_.forEach(Memory.flags,(e,t)=>{try{Game.flags[t]||this.stale.push(t)}catch(e){Log.error(e.stack||e.message)}}),!!this.specialFlag(!0))),this.run=(()=>{this.list.forEach(e=>{try{if(!e.cloaking||0===e.cloaking){const t=Game.flags[e.name];FlagManager.found.trigger(t)}}catch(e){Log.error(e.stack||e.message)}}),this.stale.forEach(e=>FlagManager.FlagRemoved.trigger(e))}),this.cleanup=(()=>{this.stale.forEach(e=>delete Memory.flags[e])}),this.flagFilter=(e=>{if(!e)return;let t;return t=e.filter?_.clone(e.filter):{color:e.color,secondaryColor:e.secondaryColor}}),this.findName=((e,t,r=!0,o,a)=>{let n,s=this.list;if(!e||0===s.length)return null;if(t instanceof Room&&(t=t.getPositionAt(25,25)),_.isFunction(e))n=(o=>{if(e(o)&&0===o.cloaking){if(!r)return!0;if(t&&t.roomName&&o.roomName===t.roomName)return!0}return!1});else if(n=this.flagFilter(e),_.assign(n,{cloaking:0}),r&&t&&t.roomName){const e=Game.rooms[t.roomName];e?s=e.flags:_.assign(n,{roomName:t.roomName})}let i=_.filter(s,n);if(0===i.length)return null;if(1===i.length)return i[0].name;if(t&&t.roomName){let e=e=>{let r=0,n=Util.routeRange(t.roomName,e.roomName);return r=0===n?_.max([Math.abs(e.x-t.x),Math.abs(e.y-t.y)]):50*n,o&&(r=o(r,e,a)),e.valid=r<1/0,r},r=_.min(i,e);return r.valid?r.name:null}return i[0].name}),this.find=((e,t,r=!0,o,a)=>{t instanceof Room&&(t=t.getPositionAt(25,25));let n=this.findName(e,t,r,o,a);return null===n?null:Game.flags[n]}),this.removeFromDir=(e=>{let t=this.list.indexOf(t=>t.name===e);t>-1&&(this.list=this.list.splice(t,1))}),this.count=((e,t,r=!0)=>{let o=this.list;if(!e||0===this.list.length)return 0;t instanceof Room&&(t=t.getPositionAt(25,25));let a=this.flagFilter(e);if(r&&t&&t.roomName){const e=Game.flags[t.roomName];e?o=e.flags:_.assign(a,{roomName:t.roomName})}return _.countBy(o,a).true||0}),this.filter=((e,t,r=!0)=>{if(!e||0===this.list.length)return[];let o,a=this.list;if(t instanceof Room&&(t=t.getPositionAt(25,25)),Array.isArray(e))o=(o=>{if(r&&t&&t.roomName&&o.roomName!==t.roomName)return!1;for(let t=0;t<e.length;t++)if(this.compare(e[t],o))return!0;return!1});else if(o=this.flagFilter(e),r&&t&&t.roomName){const e=Game.rooms[t.roomName];e?a=e.flags:_.assign(o,{roomName:t.roomName})}return _.filter(a,o)}),this.rangeMod=((e,t,r)=>{let o,a=r&&r.rangeModPerCrowd?r.rangeModPerCrowd:20,n=r?r.rangeModByType:null,s=Game.flags[t.name];return o=s.targetOf?n?_.countBy(s.targetOf,"creepType")[n]||0:s.targetOf.length:0,e+o*a}),this.exploitMod=((e,t,r)=>{if(e>100)return 1/0;let o=Game.flags[t.name];if(o.room){if(o.room.my)return 1/0;let t=o.targetOf?_.sum(o.targetOf.map(e=>"privateer"!=e.creepType||e.creepName==r?0:e.carryCapacityLeft)):0;return o.room.sourceEnergyAvailable<=t?1/0:e*e/(o.room.sourceEnergyAvailable-t)}return e}),this.hasInvasionFlag=(()=>(_.isUndefined(this._hasInvasionFlag)&&(this._hasInvasionFlag=null!==this.findName(FLAG_COLOR.invade)||null!==this.findName(FLAG_COLOR.destroy)),this._hasInvasionFlag)),this.compare=((e,t)=>e.color===t.color&&e.secondaryColor===t.secondaryColor),this.flagType=(e=>{if(this.isSpecialFlag(e))return"_OCS";for(const t in FLAG_COLOR){const r=FLAG_COLOR[t];if(this.compare(e,r))return t;for(const o in r){const a=r[o];if(this.compare(e,a))return`${t}.${o}`}}return Log.error(`Unknown flag type for flag: ${e?e.name:"undefined flag"}.`),"undefined"}),this.specialFlag=(e=>{const t=Game.flags._OCS;if(e){if(!t)return _(Game.rooms).values().some(e=>(e.getPositionAt(49,49).newFlag({color:COLOR_WHITE,secondaryColor:COLOR_PURPLE},"_OCS"),!0));"W0N0"!==t.pos.roomName&&t.setPosition(new RoomPosition(49,49,"W0N0"))}return t}),this.isSpecialFlag=(e=>"_OCS"===e.name)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(138);t.default=new class extends o.Component{constructor(){super(...arguments),this.cache={},this.runCache={},this.tasks=[],this.extend=(()=>{this.tasks=[TaskManager.attackController,TaskManager.claim,TaskManager.defense,TaskManager.delivery,TaskManager.guard,TaskManager.labTech,TaskManager.mining,TaskManager.pioneer,TaskManager.reputation,TaskManager.reserve,TaskManager.robbing,TaskManager.safeGen,TaskManager.scheduler]}),this.fresh=(()=>{this.tasks.forEach(e=>{e.fresh&&e.fresh()})}),this.register=(()=>{this.tasks.forEach(e=>{e.register&&e.register(),e.run&&!this.runCache[e.name]&&(this.runCache[e.name]={run:e.run}),e.handleFlagFound&&FlagManager.found.on(t=>e.handleFlagFound(t)),e.handleFlagRemoved&&FlagManager.FlagRemoved.on(t=>e.handleFlagRemoved(t)),e.handleSpawningStarted&&CreepManager.spawningStarted.on(t=>e.handleSpawningStarted(t)),e.handleSpawningCompleted&&CreepManager.spawningCompleted.on(t=>e.handleSpawningCompleted(t)),e.handleCreepDied&&(CreepManager.predictedRenewal.on(t=>e.handleCreepDied(t.name)),CreepManager.died.on(t=>e.handleCreepDied(t))),e.handleCreepError&&CreepManager.error.on(t=>e.handleCreepError(t)),e.handleNewInvader&&RoomManager.newInvader.on(t=>e.handleNewInvader(t)),e.handleKnownInvader&&RoomManager.knownInvader.on(t=>e.handleKnownInvader(t)),e.handleGoneInvader&&RoomManager.goneInvader.on(t=>e.handleGoneInvader(t)),e.handleRoomDied&&RoomManager.collapsed.on(t=>e.handleRoomDied(t))})}),this.run=(()=>{_.forEach(this.runCache,(e,t)=>{try{e.run()}catch(e){Log.error(`Error executing TaskManager "${t}"<br>${e.stack||e.toString()}`)}})}),this.cleanup=((e,t,r)=>{this.removeQueued(this.memory(t,r),e),this.clearMemory(t,r)}),this.memory=((e,t)=>{const r=Util.get(Memory,["tasks",e,t],{});return delete r.queuedValid,delete r.runningValid,delete r.spawningValid,r}),this.removeQueued=((e,t)=>{const r=e=>{if(!_.isUndefined(e))for(const t of e){const e=Game.rooms[t.room];for(const r of["spawnQueueLow","spawnQueueMedium","spawnQueueHigh"]){const o=e[r],a=_.findIndex(o,{name:t.name});if(a>=0){o.splice(a,1);break}}}};if(t)for(const o of t)r(e[o]);else r(e)}),this.clearMemory=((e,t)=>{Memory.tasks[e]&&Memory.tasks[e][t]&&delete Memory.tasks[e][t]}),this.cache=((e,t)=>(this.cache[e]||(this.cache[e]={}),this.cache[e][t]||(this.cache[e][t]={}),this.cache[e][t])),this.clearCache=((e,t)=>{this.cache[e]&&this.cache[e][t]&&delete this.cache[e][t]}),this.spawn=((e,t,r,o)=>{let a=r.explicit?Game.rooms[r.explicit]:RoomManager.findSpawnRoom(r);if(!a)return null;t||(t={}),!t.room&&r.targetRoom&&(t.room=r.targetRoom);let n={parts:CreepManager.compileBody(a,e),name:`${e.name||e.behaviour}-${t.targetName}`,behaviour:e.behaviour,destiny:t,queueRoom:a.name};return 0===n.parts.length?(Log.error("[TaskManager]",`${t.task} task tried to queue a zero parts body ${e.behaviour} creep. Aborted.`),null):((a["spawnQueue"+e.queue]||a.spawnQueueLow).push(n),o&&o(n),n)}),this.addToQueue=((e,t,r)=>{if(t.link&&(t={targetRoom:t}),!t.targetRoom)return;const o={};return o.targetName=r?r.name||r.id:t.targetRoom,this.spawn(e,o,t)}),this.forceSpawn=((e,t,r)=>{if(t.link&&(t={targetRoom:t}),!t.targetRoom)return;const o=t.explicit?Game.rooms[t.explicit]:RoomManager.findSpawnRoom(t);if(!o)return;const a={};a.targetName=r?r.name||r.id:t.targetRoom;const n=CreepManager.compileBody(o,e);if(!n.length)return;const s={parts:n,destiny:a,name:`${e.name||e.behaviour}-${a.targetName}`,behaviour:e.behaviour,queueRoom:o.name};return o.spawnQueueHigh.unshift(s),s}),this.validateQueued=((e,t,r,o={})=>{const a=o.subKey?"queued."+o.subKey:"queued",n=o.subKey?"nextQueuedCheck."+o.subKey:"nextQueuedCheck",s=Util.get(e,a,[]);let i=_.get(e,n,0);if(s.length&&(!o.checkValid||Game.time>i)){const t=o.queues||["Low"],r=[],l=e=>{if(!e)return;const o=Game.rooms[e.room];for(const a of t)if(o["spawnQueue"+a].some(t=>t.name===e.name)){r.push(e);break}};s.forEach(l),_.set(e,a,r),i=Game.time+50,Util.set(e,n,i,!1)}else 0===s.length&&(o.subKey&&e.nextQueuedCheck?delete e.nextQueuedCheck[o.subKey]:delete e.nextQueuedCheck);const l=_.get(t.memory,["nextCheck",r],1/0);t&&i-Game.time>0&&i<l&&(Log.flag(t,Dye(COLOR_PURPLE,"TaskManager Queued:",r,Dye(COLOR_GREY,`next-check: ${i-Game.time}s later`))),_.set(t.memory,["nextCheck",r],i))}),this.validateSpawning=((e,t,r,o={})=>{const a=o.subKey?"spawning."+o.subKey:"spawning",n=o.subKey?"nextSpawnCheck."+o.subKey:"nextSpawnCheck",s=Util.get(e,a,[]);let i=_.get(e,n,0);if(s.length&&(!o.checkValid||Game.time>i)){const t=[];let r;const l=e=>{if(!e)return;const o=Game.spawns[e.spawn];o&&(o.spawning&&o.spawning.name===e.name||o.newSpawn&&o.newSpawn.name===e.name)&&(r=!r||o.spawning.remainingTime<r?o.spawning.remainingTime:r,t.push(e))};s.forEach(l),_.set(e,a,t),r?(i=Game.time+r,Util.set(e,n,i,!1)):o.subKey&&e.nextSpawnCheck?delete e.nextSpawnCheck[o.subKey]:delete e.nextSpawnCheck}const l=_.get(t.memory,["nextCheck",r],1/0);t&&i-Game.time>0&&i<l&&(Log.flag(t,Dye(COLOR_YELLOW,"TaskManager Spawning:",r,Dye(COLOR_GREY,`next-check: ${i-Game.time}s later`))),_.set(t.memory,["nextCheck",r],i))}),this.validateRunning=((e,t,r,o={})=>{const a=o.subKey?"running."+o.subKey:"running",n=o.subKey?"nextRunningCheck."+o.subKey:"nextRunningCheck",s=Util.get(e,a,[]),i=o.roomName;let l=_.get(e,n,0);if(i&&s.length&&(!o.checkValid||Game.time>l)){const t=o.deadCreep||"",r=[];let m;const u=e=>{if(!e)return;const o=e.name||e,a=Game.creeps[o];if(!a||!a.data)return;let n;if(n=a.data.predictedRenewal?a.data.predictedRenewal:a.data.spawningTime?a.data.spawningTime+50*Util.routeRange(a.data.homeRoom,i):50*(Util.routeRange(a.data.homeRoom,i)+1),a.name!==t&&a.ticksToLive>n){const t=a.ticksToLive-n;m=!m||t<m?t:m,r.push(e)}};s.forEach(u),_.set(e,a,r),m?(l=Game.time+Math.min(TASK_CREEP_CHECK_INTERVAL,m),Util.set(e,n,l,!1)):o.subKey&&e.nextRunningCheck?delete e.nextRunningCheck[o.subKey]:delete e.nextRunningCheck}const m=_.get(t.memory,["nextCheck",r],1/0);t&&l-Game.time>0&&l<m&&(Log.flag(t,Dye(COLOR_GREEN,"TaskManager Running:",r,Dye(COLOR_GREY,`next-check: ${l-Game.time}s later`))),_.set(t.memory,["nextCheck",r],l))}),this.validateAll=((e,t,r,o={})=>{if(_.isUndefined(o.roomName))return Log.error("TaskManager.validateAll","roomName undefined"+t+o.subKey);this.validateQueued(e,t,r,o),this.validateSpawning(e,t,r,o),this.validateRunning(e,t,r,o)}),this.forceCreepCheck=((e,t)=>{_.set(e.memory,["nextCheck",t],Game.time)}),this.nextCreepCheck=((e,t)=>{const r=_.get(e.memory,["nextCheck",t]);return!(r&&Game.time<r||(_.set(e.memory,["nextCheck",t],Game.time+TASK_CREEP_CHECK_INTERVAL),0))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("guard"),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.defense)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{let t=this.memory(e);TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0}),t.queued.length+t.spawning.length+t.running.length<1&&TaskManager.spawn(this.creep.guard,{task:"guard",targetName:e.name,flagName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:200,rangeRclRatio:1.8,allowTargetRoom:!0},t=>{this.memory(Game.flags[t.destiny.targetName]).queued.push({room:t.queueRoom,name:t.name,targetName:e.name})})}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"guard"!=e.destiny.task)return;let t=Game.flags[e.destiny.flagName];if(t){let r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"guard"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"guard"!=t.destiny.task)return;let r=Game.flags[t.destiny.flagName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.guard||(e.memory.tasks.guard={queued:[],spawning:[],running:[]}),e.memory.tasks.guard)),this.minControllerLevel=3,this.creep={guard:{fixedBody:[HEAL,RANGED_ATTACK,MOVE],multiBody:{[HEAL]:1,[MOVE]:2,[RANGED_ATTACK]:3},name:"guard",behaviour:"ranger",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("defense"),this.handleNewInvader=(e=>{if(SPAWN_DEFENSE_ON_ATTACK&&!DEFENSE_BLACKLIST.includes(e.pos.roomName)){if(!e.room.my&&!e.room.reserved){let t=e=>FlagManager.compare(e,FLAG_COLOR.invade.exploit)||e.color==(FLAG_COLOR.claim.color||FLAG_COLOR.claim.mining);if(!FlagManager.find(t,e.pos,!0))return}e.room.defenseLevel.sum>e.room.hostileThreatLevel?Log.room(e.room,"TaskManager Defense: room can handle that"):e.room.hostiles.forEach(this.orderDefenses)}}),this.handleGoneInvader=(e=>{if(!Game.getObjectById(e)){let t=this.memory(e);if(t&&t.defender){let r=t=>{let r=Memory.rooms[t.spawnRoom];if(r&&r.spawnQueueHigh){let t=t=>t.destiny&&"defense"===t.destiny.task&&t.destiny.invaderId===e,o=r.spawnQueueHigh.findIndex(t);o>-1&&r.spawnQueueHigh.splice(o,1)}};t.defender.forEach(r)}TaskManager.clearMemory("defense",e)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!(t&&t.destiny&&t.destiny.task&&"defense"==t.destiny.task&&t.destiny.invaderId))return;let r=Game.getObjectById(t.destiny.invaderId);if(!r)return;let o=this.memory(t.destiny.invaderId);if(o.defender){let e=e=>e.order===t.destiny.order,r=o.defender.findIndex(e);r>-1&&o.defender.splice(r,1)}this.orderDefenses(r)}),this.memory=(e=>TaskManager.memory("defense",e)),this.orderDefenses=(e=>{let t=e.id,r=e.threat,o=this.memory(t);if(o.defender){let e=e=>r-=e.threat;o.defender.forEach(e)}else o.defender=[];for(;r>0;){let o=Util.guid();this.creep.defender.queue="High",this.creep.defender.minThreat=1.1*r;let a=TaskManager.spawn(this.creep.defender,{task:"defense",targetName:t,invaderId:t,spottedIn:e.pos.roomName,order:o},{targetRoom:e.pos.roomName,maxRange:4,minEnergyCapacity:800,allowTargetRoom:!0},e=>{this.memory(t).defender.push({spawnRoom:e.queueRoom,order:e.destiny.order}),Log.room(e.queueRoom,Dye(COLOR_ORANGE,`Defender queued for hostile creep ${e.destiny.order} in ${e.destiny.spottedIn}`))});if(!a)return void(LOG_TRACE&&Log.trace("TaskManager",{task:"defense",invaderId:t,targetRoom:e.pos.roomName},"Unable to spawn. Invader will not get handled!"));{let e=CreepManager.bodyThreat(a.parts);r-=e}}}),this.nextAction=(e=>{if(CreepManager.action.defending.isValidAction(e)&&CreepManager.action.defending.isAddableAction(e)&&CreepManager.action.defending.assign(e))return;let t=Game.getObjectById(e.data.destiny.invaderId);if(t&&e.pos.roomName===t.pos.roomName)return void CreepManager.action.travelling.assign(e,t);let r=Game.rooms[e.data.destiny.spottedIn];if(!r||r.hostiles.length>0)return CreepManager.action.travelling.assignRoom(e,e.data.destiny.spottedIn);let o=e.room.adjacentRooms.find(e=>Game.rooms[e]&&Game.rooms[e].hostiles.length>0);if(o)return CreepManager.action.travelling.assignRoom(e,o);let a=Game.spawns[e.data.motherSpawn];a&&CreepManager.action.recycling.assign(e,a)}),this.creep={defender:{fixedBody:[RANGED_ATTACK,MOVE],multiBody:{[HEAL]:1,[MOVE]:2,[RANGED_ATTACK]:2,[TOUGH]:1},name:"defender",behaviour:"ranger"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("mining"),this.default={name:`default-${this.name}`},this.reserve={name:`reserve-${this.name}`,spawnParams:e=>{const t=this._carryPopulation(e.pos.roomName);return t<REMOTE_RESERVE_HAUL_CAPACITY?(LOG_TRACE&&Log.trace("TaskManager",{flagName:e.name,pos:e.pos,population:t,spawnParams:"population",[this.name]:"spawnParams",TaskManager:this.name}),{count:0,priority:"Low"}):TaskManager.reserve.state.default.spawnParams(e)}},this.miner={name:`miner-${this.name}`,setup:e=>this.setupCreep(e,this.creep.miner),shouldSpawn:(e,t)=>e<t},this.hauler={name:`hauler-${this.name}`,ept:e=>{const t=Game.rooms[e];return t?10*t.sources.length:20},homeRoomName:e=>{const t=this.memory(e);return t.storageRoom?t.storageRoom:RoomManager.bestSpawnRoomFor(e).name},spawnRoom:(e,t)=>RoomManager.findSpawnRoom({targetRoom:e,minEnergyCapacity:t||500}),maxWeight:(e,t,r,o,a)=>{t||(t=this.state.hauler.homeRoomName(e)),r||(r=this.memory(e));const n=o?[]:_.map(r.running.remoteHauler,e=>Game.creeps[e]),s=a?[]:_.union(r.queued.remoteHauler,r.spawning.remoteHauler),i=(Game.rooms[e],Util.routeRange(e,t)),l=this.state.hauler.ept(e),m=_.filter(n,e=>!this.needsReplacement(e)),u=_.sum(m,e=>e&&e.data&&e.data.body?e.data.body.carry:5),d=_.sum(s,e=>e&&e.body?e.body.carry:5),c=l*i*2+(r.carryParts||0)-u-d,h=this._haulerCarryToWeight(c);return LOG_TRACE&&Log.trace("TaskManager",{TaskManager:this.name,room:e,homeRoom:t,haulers:n.length+s.length,ept:l,travel:i,existingCarry:u,queuedCarry:d,neededCarry:c,maxWeight:h,[this.name]:"maxWeight"}),h}},this.handleFlagRemoved=(e=>{const t=Memory.flags[e];if(t&&t.task===this.name&&t.roomName){const e=FlagManager.filter(FLAG_COLOR.claim.mining,new RoomPosition(25,25,t.roomName),!0);if(e&&e.length>0)return}TaskManager.cleanup(["remoteMiner","remoteWorker","remoteHauler"],this.name,t.roomName)}),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.claim.mining)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"roomName",e.pos.roomName),Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||e.destiny.task!=this.name)return;const t=this.memory(e.destiny.room),r=Game.flags[e.destiny.targetName];if(r){const o=_.find(this.creep,{behaviour:e.destiny.type}).queue;TaskManager.validateQueued(t,r,this.name,{subKey:e.destiny.type,queues:[o]}),e.body&&(e.body=_.countBy(e.body)),t.spawning[e.destiny.type].push(e)}}),this.handleSpawningCompleted=(e=>{if(!e.data.destiny||!e.data.destiny.task||e.data.destiny.task!=this.name)return;e.data.destiny.homeRoom&&(e.data.homeRoom=e.data.destiny.homeRoom);const t=Game.flags[e.data.destiny.targetName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,e.data.destiny.room);const r=this.memory(e.data.destiny.room);r.running[e.data.destiny.type].push(e.name),TaskManager.validateSpawning(r,t,this.name,{roomName:e.data.destiny.room,subKey:e.data.destiny.type})}}),this.handleCreepDied=(e=>{const t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||t.destiny.task!=this.name)return;const r=Game.flags[t.destiny.targetName];if(r){const o=this.memory(t.destiny.room);TaskManager.validateRunning(o,r,this.name,{subKey:t.creepType,roomName:t.destiny.room,deadCreep:e})}}),this.needsReplacement=(e=>!e||(e.ticksToLive||CREEP_LIFE_TIME)<(e.data.predictedRenewal||0)),this.checkForRequiredCreeps=(e=>{const t=e.pos.roomName,r=Game.rooms[t],o=this.memory(t);let a;a=r?r.sources.length:Memory.rooms[t]&&Memory.rooms[t].sources?Memory.rooms[t].sources.length:1;const n=r=>{const a=_.find(this.creep,{behaviour:r}).queue;return TaskManager.validateAll(o,e,this.name,{roomName:t,subKey:r,queues:[a],checkValid:!0,task:this.name}),o.queued[r].length+o.spawning[r].length+o.running[r].length},s=n("remoteHauler"),i=n("remoteMiner"),l=n("remoteWorker");if(LOG_TRACE&&Log.trace("TaskManager",{TaskManager:this.name,flagName:e.name,sourceCount:a,haulerCount:s,minerCount:i,workerCount:l,[this.name]:"FlagManager.found"},"checking flag@",e.pos),this.state.miner.shouldSpawn(i,a)){LOG_TRACE&&Log.trace("TaskManager",{TaskManager:this.name,room:t,minerCount:i,minerTTLs:_.map(_.map(o.running.remoteMiner,e=>Game.creeps[e]),"ticksToLive"),[this.name]:"minerCount"});const r=this.state.miner.setup(t);for(let o=i;o<a;o++)TaskManager.spawn(r,{task:this.name,targetName:e.name,type:r.behaviour},{targetRoom:t,minEnergyCapacity:r.minEnergyCapacity,rangeRclRatio:1},e=>{this.memory(e.destiny.room).queued[e.behaviour].push({room:e.queueRoom,name:e.name})})}const m=Math.ceil(o.running.remoteMiner.length*REMOTE_HAULER.MULTIPLIER);if(s<m&&(!o.capacityLastChecked||Game.time-o.capacityLastChecked>TASK_CREEP_CHECK_INTERVAL))for(let r=s;r<m;r++){let a=r>=1&&REMOTE_HAULER.MIN_WEIGHT;const n=this.state.hauler.spawnRoom(t,a);if(!n)break;const s=REMOTE_HAULER.REHOME?this.state.hauler.homeRoomName(t):n.name;let i=this.state.hauler.maxWeight(t,s,o);if(!i||!REMOTE_HAULER.ALLOW_OVER_CAPACITY&&i<a){o.capacityLastChecked=Game.time;break}_.isNumber(REMOTE_HAULER.ALLOW_OVER_CAPACITY)?(i=Math.max(i,REMOTE_HAULER.ALLOW_OVER_CAPACITY),a=a&&Math.min(REMOTE_HAULER.MIN_WEIGHT,i)):REMOTE_HAULER.ALLOW_OVER_CAPACITY&&(i=Math.max(i,REMOTE_HAULER.MIN_WEIGHT),a=a&&Math.min(REMOTE_HAULER.MIN_WEIGHT,i));const l=_.create(this.creep.hauler);l.maxWeight=i,a&&(l.minWeight=a),TaskManager.spawn(l,{task:this.name,targetName:e.name,type:this.creep.hauler.behaviour,homeRoom:s},{targetRoom:t,explicit:n.name},e=>{this.memory(e.destiny.room).queued[e.behaviour].push({room:e.queueRoom,name:e.name,body:_.countBy(e.parts)})})}if(r&&r.myConstructionSites.length>0&&l<REMOTE_WORKER_MULTIPLIER)for(let r=l;r<REMOTE_WORKER_MULTIPLIER;r++)TaskManager.spawn(this.creep.worker,{task:this.name,targetName:e.name,type:this.creep.worker.behaviour},{targetRoom:t,minEnergyCapacity:600},e=>{this.memory(e.destiny.room).queued[e.behaviour].push({room:e.queueRoom,name:e.name})})}),this.findSpawning=((e,t)=>{const r=[];return _.forEach(Game.spawns,o=>{if(o.spawning&&(_.includes(o.spawning.name,t)||o.newSpawn&&_.includes(o.newSpawn.name,t))){const t=PopManager.getCreep(o.spawning.name);if(t&&t.destiny.room===e){const e={spawn:o.name,name:o.spawning.name,destiny:t.destiny};r.push(e)}}}),r}),this.findRunning=((e,t)=>{const r=[];return _.forEach(Game.creeps,o=>{!o.spawning&&o.data.creepType===t&&o.data&&o.data.destiny&&o.data.destiny.room===e&&r.push(o.name)}),r}),this.memory=(e=>{const t=TaskManager.memory(this.name,e);return t.hasOwnProperty("queued")||(t.queued={remoteMiner:[],remoteHauler:[],remoteWorker:[]}),t.hasOwnProperty("spawning")||(t.spawning={remoteMiner:this.findSpawning(e,"remoteMiner"),remoteHauler:this.findSpawning(e,"remoteHauler"),remoteWorker:this.findSpawning(e,"remoteWorker")}),t.hasOwnProperty("running")||(t.running={remoteMiner:this.findRunning(e,"remoteMiner"),remoteHauler:this.findRunning(e,"remoteHauler"),remoteWorker:this.findRunning(e,"remoteWorker")}),t.hasOwnProperty("nextSpawnCheck")||(t.nextSpawnCheck={}),t.queued.miner&&(t.queued.remoteMiner=t.queued.miner,delete t.queued.miner),t.queued.hauler&&(t.queued.remoteHauler=t.queued.hauler,delete t.queued.hauler),t.queued.worker&&(t.queued.remoteWorker=t.queued.worker,delete t.queued.worker),t}),this.setupCreep=((e,t)=>{switch(t.behaviour){default:return t;case"remoteMiner":const r=this.memory(e);if(!r.harvestSize)return t;const o=e=>e===WORK,a=_.reject(t.fixedBody,o),n=_.sum(t.fixedBody,o)+r.harvestSize;return _.create(t,{fixedBody:_.times(n,_.constant(WORK)).concat(_.times(Math.ceil(.5*r.harvestSize),_.constant(MOVE))).concat(a),moveBalance:r.harvestSize%2*-.5})}}),this._carryPopulation=((e,t)=>1-this.state.hauler.maxWeight(e,t,void 0,!1,!0)/this.state.hauler.maxWeight(e,t,void 0,!0,!0)),this._haulerCarryToWeight=(e=>{if(!e||e<0)return 0;const t=_.max([0,e-5]);return 500+150*_.ceil(.5*t)}),this.getFlag=(e=>FlagManager.find(FLAG_COLOR.claim.mining,new RoomPosition(25,25,e))),this.carry=((e,t)=>{const r=this.memory(e);r.carryParts=(r.carryParts||0)+(t||0);const o=Math.round(100*this._carryPopulation(e));return t&&(TaskManager.forceCreepCheck(this.getFlag(e),this.name),delete r.capacityLastChecked),`TaskManager.${this.name}: hauler carry capacity for ${e} ${r.carryParts>=0?"increased":"decreased"} by ${Math.abs(r.carryParts)}. Currently at ${o}% of desired capacity`}),this.harvest=((e,t)=>{const r=this.memory(e);return r.harvestSize=(r.harvestSize||0)+(t||0),`TaskManager.${this.name}: harvesting work capacity for ${e} ${r.harvestSize>=0?"increased":"decreased"} by ${Math.abs(r.harvestSize)} per miner.`}),this.storage=((e,t)=>{Game.rooms[e];const r=this.memory(e);if(t){const o=r.storageRoom;return r.storageRoom=t,`TaskManager.${this.name}: room ${e}, now sending haulers to ${t}, (was ${o})`}if(r.storageRoom){if(!1===t){const t=r.storageRoom;return delete r.storageRoom,`TaskManager.${this.name}: room ${e}, cleared custom storage room (was ${t})`}return`TaskManager.${this.name}: room ${e}, sending haulers to ${r.storageRoom}`}return`TaskManager.${this.name}: room ${e}, no custom storage destination`}),this.state={default:this.default,reserve:this.reserve,miner:this.miner,hauler:this.hauler},this.minControllerLevel=2,this.creep={miner:{fixedBody:{[MOVE]:1,[WORK]:5},multiBody:[MOVE,MOVE,WORK,CARRY],maxMulti:1,minEnergyCapacity:550,behaviour:"remoteMiner",queue:"Medium"},hauler:{fixedBody:{[CARRY]:5,[MOVE]:3,[WORK]:1},multiBody:[CARRY,CARRY,MOVE],behaviour:"remoteHauler",queue:"Low"},worker:{fixedBody:{[CARRY]:3,[MOVE]:4,[WORK]:4},multiBody:{[CARRY]:1,[MOVE]:2,[WORK]:2},maxMulti:3,behaviour:"remoteWorker",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("claim"),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.claim)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{let t=this.memory(e);TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0}),t.queued.length+t.spawning.length+t.running.length<1&&TaskManager.spawn(this.creep.claimer,{task:"claim",targetName:e.name,flagName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:650},t=>{this.memory(Game.flags[t.destiny.targetName]).queued.push({room:t.queueRoom,name:t.name,targetName:e.name})})}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"claim"!=e.destiny.task)return;let t=Game.flags[e.destiny.flagName];if(t){let r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"claim"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"claim"!=t.destiny.task)return;let r=Game.flags[t.destiny.flagName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.claim||(e.memory.tasks.claim={queued:[],spawning:[],running:[]}),e.memory.tasks.claim)),this.nextAction=(e=>{let t=[CreepManager.action.claiming,CreepManager.action.recycling];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))return}}),this.minControllerLevel=3,this.creep={claimer:{fixedBody:[CLAIM,MOVE],multiBody:[],name:"claimer",behaviour:"claimer",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("reserve"),this.VALID_RESERVATION=1e3,this.URGENT_RESERVATION=250,this.default={name:`default-${this.name}`,spawnParams:e=>{const t={count:0,queue:"Low"},r=!!e,o=r&&(RoomManager.isControllerRoom(e.pos.roomName)||e.room&&e.room.controller);if(!r||!o)return LOG_TRACE&&Log.trace("TaskManager",{hasFlag:r,hasController:o,checkForRequiredCreeps:"skipping room, missing flag or controller",[this.name]:"checkForRequiredCreeps",TaskManager:this.name}),t;if(e.room){e.memory.lastVisible=Game.time,e.memory.ticksToEnd=e.room.controller.reservation&&e.room.controller.reservation.ticksToEnd;const r=e.room.controller.reservation&&(e.room.controller.reservation.ticksToEnd>1e3||e.room.controller.reservation.username!==ME),o=!!e.room.controller.owner;if(o||r)return LOG_TRACE&&Log.trace("TaskManager",{validReservation:r,isOwned:o,checkForRequiredCreeps:"skipping room, reserved or owned",[this.name]:"checkForRequiredCreeps",TaskManager:this.name}),t;const a=!e.room.controller.reservation||e.room.controller.reservation.ticksToEnd<250;if(t.count=1,a&&(t.queue="Medium"),LOG_TRACE){const e=a?"urgent":" ";Log.trace("TaskManager",{validReservation:r,isOwned:o,urgent:a,checkForRequiredCreeps:`sending${e}reserver`,[this.name]:"checkForRequiredCreeps",TaskManager:this.name})}}else(_.isUndefined(e.memory.lastVisible)||Game.time-e.memory.lastVisible>(e.memory.ticksToEnd-250||250))&&(t.count=1,t.queue="Medium",LOG_TRACE&&Log.trace("TaskManager",{lastVisible:e.memory.lastVisible,tickToEnd:e.memory.ticksToEnd,checkForRequiredCreeps:"sending urgent reserver, no visibility",[this.name]:"checkForRequiredCreeps",TaskManager:this.name}));return t}},this.handleFlagFound=(e=>{if((e.compareTo(FLAG_COLOR.claim.reserve)||e.compareTo(FLAG_COLOR.invade.exploit)||e.compareTo(FLAG_COLOR.claim.mining))&&(RoomManager.isControllerRoom(e.pos.roomName)||e.room&&e.room.controller)){const t=this.memory(e);if(e.room){e.memory.lastVisible=Game.time,e.memory.ticksToEnd=e.room.controller.reservation&&e.room.controller.reservation.ticksToEnd;const r=_.get(e.memory,["nextCheck",this.name],1/0),o=Game.time+e.memory.ticksToEnd-this.VALID_RESERVATION;o<r&&!t.waitForCreeps&&(0===t.queued.length+t.spawning.length+t.running.length?_.set(e.memory,["nextCheck",this.name],o):t.waitForCreeps=!0)}TaskManager.nextCreepCheck(e,this.name)&&(delete t.waitForCreeps,Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}}),this.handleFlagFound=(e=>{if((e.compareTo(FLAG_COLOR.claim.reserve)||e.compareTo(FLAG_COLOR.invade.exploit)||e.compareTo(FLAG_COLOR.claim.mining))&&(RoomManager.isControllerRoom(e.pos.roomName)||e.room&&e.room.controller)){const t=this.memory(e);if(e.room){e.memory.lastVisible=Game.time,e.memory.ticksToEnd=e.room.controller.reservation&&e.room.controller.reservation.ticksToEnd;const r=_.get(e.memory,["nextCheck",this.name],1/0),o=Game.time+e.memory.ticksToEnd-this.VALID_RESERVATION;o<r&&!t.waitForCreeps&&(0===t.queued.length+t.spawning.length+t.running.length?_.set(e.memory,["nextCheck",this.name],o):t.waitForCreeps=!0)}TaskManager.nextCreepCheck(e,this.name)&&(delete t.waitForCreeps,Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}}),this.checkForRequiredCreeps=(e=>{let t;e.compareTo(FLAG_COLOR.claim.mining)?t=TaskManager.mining.state.reserve.spawnParams(e):e.compareTo(FLAG_COLOR.invade.exploit)?(t=this.state.default.spawnParams(e)).queue="Low":t=this.state.default.spawnParams(e);let r=this.memory(e);if(TaskManager.validateAll(r,e,this.name,{roomName:e.pos.roomName,queues:["Low","Medium"],checkValid:!0}),"Low"!==t.queue&&1==r.queued.length){let e=Game.rooms[r.queued[0].room],t=(t,o)=>{if(t.targetName==r.queued[0].targetName){let t=e.spawnQueueLow.splice(o,1);return e.spawnQueueMedium.push(t),!0}return!1};e.spawnQueueLow.find(t)}r.queued.length+r.spawning.length+r.running.length<t.count&&(this.creep.reserver.queue=t.queue,TaskManager.spawn(this.creep.reserver,{task:this.name,targetName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:1300,maxRange:this.spawnRoomMaxRange},t=>{this.memory(Game.flags[t.destiny.targetName]).queued.push({room:t.queueRoom,name:t.name,targetName:e.name})}))}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||e.destiny.task!=this.name)return;let t=Game.flags[e.destiny.targetName];if(t){let r=this.memory(t);TaskManager.validateQueued(r,t,this.name,{queues:["Low","Medium"]}),r.spawning.push(e)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||e.data.destiny.task!=this.name)return;let t=Game.flags[e.data.destiny.targetName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);TaskManager.validateSpawning(r,t,this.name),r.running.push(e.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||t.destiny.task!=this.name)return;let r=Game.flags[t.destiny.targetName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.nextAction=(e=>{if(e.data.destiny&&e.data.destiny.room!==e.room.name)return CreepManager.action.travelling.assignRoom(e,e.data.destiny.room);let t=[CreepManager.action.reserving,CreepManager.action.recycling];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))break}LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,nextAction:e.action.name,[this.name]:"nextAction",TaskManager:this.name})}),this.memory=(e=>{const t=Util.get(e.memory,["tasks","reserve"],{queued:[],spawning:[],running:[]});return delete t.valid,t}),this.state={default:this.default},this.spawnRoomMaxRange=6,this.creep={reserver:{fixedBody:{[CLAIM]:2,[MOVE]:2},multiBody:[CLAIM,MOVE],maxMulti:7,name:"reserver",behaviour:"claimer"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("pioneer"),this.handleRoomDied=(e=>{if(e.population&&e.population.typeCount.collapseWorker)return;let t=!0;if(e.energyAvailable>199){e.spawnQueueHigh.splice(0,e.spawnQueueHigh.length);const r=this.creep.worker;t=!TaskManager.spawn(r,{task:"collapseWorker",targetName:e.name,type:r.behaviour},{explicit:e.name})}t&&(FlagManager.find(FLAG_COLOR.claim.pioneer,e)||e.newFlag(FLAG_COLOR.claim.pioneer))}),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.claim.pioneer)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{if(!e||e.room&&!e.room.my&&!e.room.reserved){if(!PIONEER_UNOWNED)return Log.error("Pioneer room not owned:",e.room,Log.stack());const t=e.room.owner||e.room.reservation;if(t&&!TaskManager.reputation.isAlly(t))return Log.error(`Pioneer target room ${e.room} owned by ${t}`)}let t=this.memory(e);if(TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,subKey:"pioneer",checkValid:!0}),t.queued.length+t.spawning.length+t.running.length<1){const t=this.creep.pioneer;TaskManager.spawn(t,{task:"pioneer",targetName:e.name,flagName:e.name,type:t.behaviour},{targetRoom:e.pos.roomName,minEnergyCapacity:400,rangeRclRatio:2},t=>{this.memory(Game.flags[t.destiny.targetName]).queued.push({room:t.queueRoom,name:t.name,targetName:e.name})})}}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"pioneer"!=e.destiny.task)return;let t=Game.flags[e.destiny.flagName];if(t){let r=this.memory(t);r.spawning.push(e);const o=e.destiny.type,a=o?_.find(this.creep,{behaviour:o}).queue:["Low","High"];TaskManager.validateQueued(r,t,this.name,{queues:[a]})}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"pioneer"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"pioneer"!=t.destiny.task)return;let r=Game.flags[t.destiny.flagName];if(r){let t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.pioneer||(e.memory.tasks.pioneer={queued:[],spawning:[],running:[]}),e.memory.tasks.pioneer)),this.creep={pioneer:{fixedBody:{[CARRY]:2,[MOVE]:2,[WORK]:2},multiBody:[WORK,MOVE,CARRY],name:"pioneer",behaviour:"pioneer",queue:"Low"},worker:{fixedBody:[MOVE,CARRY,WORK],behaviour:"collapseWorker",queue:"High"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("attackController"),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.invade.attackController)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{const t=e.pos.roomName;Game.rooms[t];let r=this.memory(e);TaskManager.validateAll(r,e,this.name,{roomName:t,checkValid:!0}),r.queued.length+r.spawning.length+r.running.length<1&&TaskManager.spawn(this.creep.attackController,{task:"attackController",targetName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:3250,maxRange:5},e=>{r.queued.push({room:e.queueRoom,name:e.name})})}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"attackController"!=e.destiny.task)return;let t=Game.flags[e.destiny.targetName];if(t){let r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"attackController"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.targetName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"attackController"!=t.destiny.task)return;let r=Game.flags[t.destiny.targetName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.attackController||(e.memory.tasks.attackController={queued:[],spawning:[],running:[]}),e.memory.tasks.attackController)),this.nextAction=(e=>{let t=[CreepManager.action.attackController,CreepManager.action.recycling];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))return}}),this.creep={attackController:{fixedBody:[],multiBody:{[CLAIM]:5,[MOVE]:5},minMulti:1,maxMulti:4,name:"Atk-Contr",behaviour:"claimer",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("robbing"),this.default={name:`default-${this.name}`},this.robber={name:`robber-${this.name}`,homeRoom:e=>{const t=this.memory(e);return t.storageRoom?Game.rooms[t.storageRoom]:RoomManager.bestSpawnRoomFor(e.pos.roomName)},spawnRoom:({roomName:e,minWeight:t})=>RoomManager.findSpawnRoom({targetRoom:e,minEnergyCapacity:t||250})},this.checkFlag=(e=>!(e.room&&e.room.my)&&e.compareTo(FLAG_COLOR.invade.robbing)&&TaskManager.nextCreepCheck(e,this.name)),this.handleFlagFound=(e=>{this.checkFlag(e)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{let t=this.memory(e);TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0});const r=t.queued.length+t.spawning.length+t.running.length,o=e.pos.roomName;if(r<(t.numRobbers||2)){const t=this.robber.spawnRoom({roomName:o});if(!t)return;const r=ROBBER_REHOME?this.robber.homeRoom(e):t;TaskManager.spawn(this.creep.robbing,{task:this.name,targetName:e.name,homeRoom:r.name},{targetRoom:o,explicit:t.name},e=>{this.memory(Game.flags[e.destiny.targetName]).queued.push({room:e.queueRoom,name:e.name})})}}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"robbing"!=e.destiny.task)return;let t=Game.flags[e.destiny.targetName||e.destiny.flagName];if(t){let r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"robbing"!=e.data.destiny.task)return;e.data.destiny.homeRoom&&(e.data.homeRoom=e.data.destiny.homeRoom);let t=Game.flags[e.data.destiny.targetName||e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);let r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{let t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"robbing"!=t.destiny.task)return;let r=Game.flags[t.destiny.targetName||t.destiny.flagName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.robbing||(e.memory.tasks.robbing={queued:[],spawning:[],running:[],numRobbers:2}),e.memory.tasks.robbing)),this.nextAction=(e=>{let t=e.sum;if(e.pos.roomName==e.data.homeRoom){if(t>0){LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,pos:e.pos,nextAction:"storing?",robbing:"nextAction",TaskManager:"robbing"});let r=[];if(e.carry.energy==t&&(r=e.room.structures.links.privateers),e.room.storage&&r.push(e.room.storage),e.room.structures.container&&(r=r.concat(e.room.structures.container.privateers)),r.length>0){let t=e.pos.findClosestByRange(r);if(t.structureType==STRUCTURE_STORAGE&&CreepManager.action.storing.assign(e,t))return;if(CreepManager.action.charging.assign(e,t))return}if(CreepManager.action.charging.assign(e))return;if(!e.room.ally&&CreepManager.action.storing.assign(e))return;if(CreepManager.action.dropping.assign(e))return;return void CreepManager.behaviour.worker.nextAction(e)}return TaskManager[e.data.destiny.task].exploitNextRoom(e)?void(LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,pos:e.pos,nextAction:"travelling",robbing:"nextAction",TaskManager:"robbing"})):(LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,pos:e.pos,nextAction:"working",robbing:"nextAction",TaskManager:"robbing"}),void CreepManager.behaviour.worker.nextAction(e))}if(!e.flag||e.flag.pos.roomName!==e.pos.roomName)return LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,pos:e.pos,nextAction:"travelling2",robbing:"nextAction",TaskManager:"robbing"}),void TaskManager[e.data.destiny.task].exploitNextRoom(e);if(LOG_TRACE&&Log.trace("TaskManager",{creepName:e.name,pos:e.pos,nextAction:"robbing",robbing:"nextAction",TaskManager:"robbing"}),e.sum<.4*e.carryCapacity){let t=[CreepManager.action.picking,CreepManager.action.robbing];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))return}return e.flag&&(e.flag.cloaking=50),void TaskManager[e.data.destiny.task].exploitNextRoom(e)}this.goHome(e)}),this.exploitNextRoom=(e=>{if(e.sum<.4*e.carryCapacity){let t;if(e.data.destiny&&(t=Game.flags[e.data.destiny.flagName]),t||(t=this.getFlag(e.data.homeRoom)),t)return this.gotoTargetRoom(e,t)}return this.goHome(e)}),this.goHome=(e=>(PopManager.registerCreepFlag(e,null),CreepManager.action.travelling.assignRoom(e,e.data.homeRoom),!1)),this.getFlag=(e=>FlagManager.find(e=>e.color==FLAG_COLOR.invade.robbing.color&&e.secondaryColor==FLAG_COLOR.invade.robbing.secondaryColor,new RoomPosition(25,25,e),!1)),this.storage=((e,t)=>{const r=this.memory(this.getFlag(e));if(t){const o=r.storageRoom;return r.storageRoom=t,`TaskManager.${this.name}: room ${e}, now sending haulers to ${t}, (was ${o})`}if(r.storageRoom){if(!1===t){const t=r.storageRoom;return delete r.storageRoom,`TaskManager.${this.name}: room ${e}, cleared custom storage room (was ${t})`}return`TaskManager.${this.name}: room ${e}, sending haulers to ${r.storageRoom}`}return`TaskManager.${this.name}: room ${e}, no custom storage destination`}),this.gotoTargetRoom=((e,t)=>{if(CreepManager.action.travelling.assignRoom(e,t.pos.roomName))return PopManager.registerCreepFlag(e,t),!0}),this.creep={robbing:{fixedBody:[WORK,CARRY,MOVE,MOVE],multiBody:[CARRY,MOVE],name:"robber",behaviour:"privateer",queue:"Low"}},this.state={default:this.default,robber:this.robber}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5),a={"Source Keeper":!0,Invader:!0},n={MY_SCORE:1e3,WHITELIST_SCORE:200,ALLY:100,NEUTRAL:1,NPC_SCORE:-200};t.default=new class extends o.TaskComponent{constructor(){super("reputation"),this.myName=(()=>ME),this.isNPC=(e=>!0===a[e]),this.npcOwner=(e=>e.owner&&this.isNPC(e.owner.username)),this.isAlly=(e=>this.score(e)>=n.ALLY),this.notAlly=(e=>!this.isAlly(e)),this.allyOwner=(e=>e.owner&&this.isAlly(e.owner.username)),this.isHostile=(e=>this.score(e)<n.NEUTRAL),this.notHostile=(e=>!this.isHostile(e)),this.hostileOwner=(e=>e.owner&&this.isHostile(e.owner.username)),this.whitelist=(()=>this.cache("whitelist")),this.whitelist=(()=>this.cache("whitelist")),this.score=(e=>{const t=this.cache("score");if(void 0===e)return t;const r=e&&e.toLowerCase();return t[r]?t[r]:t[r]=0}),this.setScore=((e,t)=>{const r=e&&e.toLowerCase();this.score()[r]=t,this.playerMemory(r).score=t}),this.fresh=(()=>{this._loadWhitelist(),this._loadScore()}),this.cache=(e=>TaskManager.cache(this.name,e)),this.killScoreCache=(()=>(TaskManager.clearCache(this.name,"score"),this.score())),this.killWhitelistCache=(()=>(TaskManager.clearCache(this.name,"score"),TaskManager.clearCache(this.name,"whitelist"),this.whitelist())),this.memory=(e=>TaskManager.memory(this.name,e)),this.playerMemory=(e=>{const t=this.memory("players"),r=e&&e.toLowerCase();return t[r]?t[r]:t[r]={}}),this._loadScore=(()=>{const e=this.cache("etc"),t=this.memory("players"),r=this.whitelist();let o=this.score();if(_.keys(t).length+_.keys(r).length!==_.keys(o).length+e.whitelistRepUnion){o=this.killScoreCache();for(const e in a)o[e]=n.NPC_SCORE;_.keys(r).forEach(e=>{o[e]=n.WHITELIST_SCORE}),e.whitelistRepUnion=0,_.reduce(t,(t,o,a)=>("number"==typeof o.score&&(r[a]&&e.whitelistRepUnion++,t[a]=o.score),t),o),this.setScore(this.myName(),n.MY_SCORE)}}),this._loadWhitelist=(()=>{let e=this.whitelist();_.keys(e).length!==PLAYER_WHITELIST.length&&(e=this.killWhitelistCache(),_.forEach(PLAYER_WHITELIST,t=>{e[t.toLowerCase()]=!0}))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("delivery"),this.memory=(e=>{let t=TaskManager.memory(this.name,e);return t.hasOwnProperty("queued")||(t.queued=[]),t.hasOwnProperty("spawning")||(t.spawning=[]),t.hasOwnProperty("running")||(t.running=[]),t}),this.memoryKey=(e=>{const t=Game.flags[e.destiny.targetName];return t&&t.pos.roomName}),this.checkFlag=(e=>e.room&&e.room.my&&e.compareTo(FLAG_COLOR.invade.robbing)&&TaskManager.nextCreepCheck(e,this.name)),this.handleFlagFound=(e=>{this.checkFlag(e)&&this.checkForRequiredCreeps(e)}),this.maxCreeps=(e=>e.room&&e.room.storage?Math.floor(2*e.room.storage.charge):1),this.checkForRequiredCreeps=(e=>{const t=this.memory(e.pos.roomName);if(TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0}),t.queued.length+t.spawning.length>0)return;const r=this.maxCreeps(e);if(t.running.length<r){const t=FlagManager.find(FLAG_COLOR.claim.delivery,e.pos);let r=t&&t.pos.roomName;if(!r){const t=RoomManager.findSpawnRoom({targetRoom:e.pos.roomName});if(!t)return;r=t.name}TaskManager.spawn(this.creep.recycler,{task:this.name,targetName:e.name,targetRoom:r},{explicit:e.pos.roomName,targetRoom:r,minEnergyCapacity:100},e=>{this.memory(Game.flags[e.destiny.targetName].pos.roomName).queued.push({room:e.queueRoom,name:e.name})})}}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||e.destiny.task!=this.name)return;let t=Game.flags[e.destiny.targetName];if(t){let r=this.memory(t.pos.roomName);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||e.data.destiny.task!=this.name)return;e.data.homeRoom=e.data.destiny.homeRoom||e.data.homeRoom,e.data.travelRoom=e.data.destiny.targetRoom||e.data.travelRoom;let t=Game.flags[e.data.destiny.targetName];if(t){let r=this.memory(t.pos.roomName);TaskManager.validateSpawning(r,t,this.name),e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName),r.running.push(e.name)}}),this.handleCreepDied=(e=>{const t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||t.destiny.task!=this.name)return;const r=Game.flags[t.destiny.targetName];if(r){const t=this.memory(r.pos.roomName);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.minControllerLevel=4,this.creep={recycler:{fixedBody:[CARRY,MOVE],multiBody:[CARRY,MOVE],name:"recycler",behaviour:"recycler",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("labTech"),this.register=(()=>{FlagManager.found.on(e=>this.handleFlagFound(e)),CreepManager.spawningStarted.on(e=>this.handleSpawningStarted(e)),CreepManager.spawningCompleted.on(e=>this.handleSpawningCompleted(e)),CreepManager.predictedRenewal.on(e=>this.handleCreepDied(e.name)),CreepManager.died.on(e=>this.handleCreepDied(e))}),this.handleFlagFound=(e=>{e.compareTo(FLAG_COLOR.labs.labTech)&&TaskManager.nextCreepCheck(e,this.name)&&(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e))}),this.checkForRequiredCreeps=(e=>{const t=this.memory(e);TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0}),t.queued.length+t.spawning.length+t.running.length<1&&TaskManager.spawn(this.creep.labTech,{task:"labTech",targetName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:1e3,maxRange:1,allowTargetRoom:!0},e=>{this.memory(Game.flags[e.destiny.targetName]).queued.push({room:e.queueRoom,name:e.name})})}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"labTech"!=e.destiny.task)return;let t=Game.flags[e.destiny.targetName||e.destiny.flagName];if(t){const r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"labTech"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.targetName||e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);const r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{const t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"labTech"!=t.destiny.task)return;const r=Game.flags[t.destiny.targetName||t.destiny.flagName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.labTech||(e.memory.tasks.labTech={queued:[],spawning:[],running:[]}),e.memory.tasks.labTech)),this.creep={labTech:{fixedBody:[WORK,CARRY,MOVE],multiBody:[CARRY,CARRY,MOVE],name:"labTech",behaviour:"labTech",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("safeGen"),this.handleFlagFound=(e=>{if(e.compareTo(FLAG_COLOR.command.safeGen)&&TaskManager.nextCreepCheck(e,this.name)){const t=Game.rooms[e.pos.roomName];t&&(t.storage&&t.storage.store[RESOURCE_GHODIUM]>=1e3||t.terminal&&t.terminal.store[RESOURCE_GHODIUM]>=1e3)?(Util.set(e.memory,"task",this.name),this.checkForRequiredCreeps(e)):e.remove()}}),this.checkForRequiredCreeps=(e=>{const t=this.memory(e);TaskManager.validateAll(t,e,this.name,{roomName:e.pos.roomName,checkValid:!0}),t.queued.length+t.spawning.length+t.running.length<1&&TaskManager.spawn(this.creep.safeGen,{task:"safeGen",targetName:e.name},{targetRoom:e.pos.roomName,minEnergyCapacity:2e3,maxRange:1,allowTargetRoom:!0},e=>{this.memory(Game.flags[e.destiny.targetName]).queued.push({room:e.queueRoom,name:e.name})})}),this.handleSpawningStarted=(e=>{if(!e.destiny||!e.destiny.task||"safeGen"!=e.destiny.task)return;let t=Game.flags[e.destiny.targetName||e.destiny.flagName];if(t){const r=this.memory(t);r.spawning.push(e),TaskManager.validateQueued(r,t,this.name)}}),this.handleSpawningCompleted=(e=>{if(!e.data||!e.data.destiny||!e.data.destiny.task||"safeGen"!=e.data.destiny.task)return;let t=Game.flags[e.data.destiny.targetName||e.data.destiny.flagName];if(t){e.data.predictedRenewal=e.data.spawningTime+50*Util.routeRange(e.data.homeRoom,t.pos.roomName);const r=this.memory(t);r.running.push(e.name),TaskManager.validateSpawning(r,t,this.name)}}),this.handleCreepDied=(e=>{const t=Memory.population[e];if(!t||!t.destiny||!t.destiny.task||"safeGen"!=t.destiny.task)return;const r=Game.flags[t.destiny.targetName||t.destiny.flagName];if(r){const t=this.memory(r);TaskManager.validateRunning(t,r,this.name,{roomName:r.pos.roomName,deadCreep:e})}}),this.memory=(e=>(e.memory.tasks||(e.memory.tasks={}),e.memory.tasks.safeGen||(e.memory.tasks.safeGen={queued:[],spawning:[],running:[]}),e.memory.tasks.safeGen)),this.minControllerLevel=6,this.creep={safeGen:{multiBody:[CARRY,MOVE],maxMulti:20,maxWeight:2e3,name:"safeGen",behaviour:"safeGen",queue:"Low"}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(5);t.default=new class extends o.TaskComponent{constructor(){super("scheduler"),this.processes={example:{conditions:()=>!1,run:()=>{console.log("Hello!")}}},this.run=(()=>{_.forEach(this.processes,(e,t)=>{e.conditions()&&e.run()})}),this.registerProcess=((e,t,r)=>{this.processes[e]?(this.processes[e].conditions=t,this.processes[e].run=r):this.processes[e]={conditions:t,run:r}}),this.unregisterProcess=(e=>{this.processes[e]&&delete this.processes[e]}),this.forceRunProcess=(e=>{let t=this.processes[e];t&&t.conditions()&&t.run()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),a=r(9),n=r(13);t.default=new class extends o.Component{constructor(){super(...arguments),this.extend=(()=>{n.Strategy.decorateAgent(Creep.prototype,{default:e=>e.action&&e.action.name,selector:e=>CreepManager.action[e]},{default:e=>e.data.creepType,selector:e=>CreepManager.behaviour[e]&&CreepManager.behaviour[e]},{default:e=>e.data.destiny&&e.data.destiny.task,selector:e=>TaskManager[e]&&TaskManager[e]})}),this.fresh=(()=>{a.Install(CreepManager,{spawningStarted:new o.EventConstructor,spawningCompleted:new o.EventConstructor,predictedRenewal:new o.EventConstructor,died:new o.EventConstructor,error:new o.EventConstructor})}),this.register=(()=>{for(const e in CreepManager.action)CreepManager.action[e].register&&CreepManager.action[e].register(this);for(const e in CreepManager.behaviour)CreepManager.behaviour[e].register&&CreepManager.behaviour[e].register(this);for(const e in CreepManager.setup)CreepManager.setup[e].register&&CreepManager.setup[e].register(this)}),this.run=(()=>{Memory.CPU_CRITICAL&&Log.module("Creep",`${Game.time}: CPU Bucket level is critical (${Game.cpu.bucket}). Skipping non critical creep roles.`),_.forEach(Game.creeps,e=>{CPU_CHECK_CONFIG.CREEP&&CPU.check("Creep",e.name);try{e.run()}catch(t){Log.error(`[Creep] ${e.name} ${t.stack||t.toString()}`,Log.stack())}CPU_CHECK_CONFIG.CREEP&&CPU.end("Creep",e.name)})}),this.isWorkingAge=(e=>{const t=Game.creeps[e.creepName];return!t||(e.predictedRenewal||e.spawningTime||CREEP_LIFE_TIME)<=(t.ticksToLive||CREEP_LIFE_TIME)}),this.bodyCosts=(e=>{let t=0;return e&&e.forEach(function(e){t+=BODYPART_COST[e]}),t}),this.multi=((e,t={})=>{const r=t.minMulti||0,o=this.bodyCosts(t.fixedBody),a=this.bodyCosts(t.multiBody);if(0===a)return 0;let n=1/0;if(t.minThreat){const e=this.bodyThreat(t.fixedBody),r=this.bodyThreat(t.multiBody);n=0;let o=e;for(;o<t.minThreat;)n+=1,o+=r}let s=0;if(t.minWeight){let e=o;for(;e<t.minWeight;)s+=1,e+=a}const i=Math.floor((50-t.fixedBody.length)/t.multiBody.length),l=t.currentEnergy?e.energyAvailable:e.energyCapacityAvailable,m=Math.floor((l-o)/a),u=t.maxWeight?Math.floor((t.maxWeight-o)/a):1/0,d=t.maxMulti||1/0,c=_.min([m,n,u,d]),h=_.max([r,s,c]);return _.min([i,h])}),this.partsComparator=((e,t)=>{let r=[TOUGH,CLAIM,WORK,CARRY,ATTACK,RANGED_ATTACK,HEAL,MOVE];return r.indexOf(e)-r.indexOf(t)}),this.formatParts=(e=>{if(e&&!Array.isArray(e)&&"object"==typeof e){const t=[];for(const r of BODYPARTS_ALL)r in e&&t.push(..._.times(e[r],e=>r));e=t}return e}),this.formatBody=((e,t)=>({fixedBody:e=this.formatParts(e),multiBody:t=this.formatParts(t)})),this.compileBody=((e,t,r=!0)=>{const{fixedBody:o,multiBody:a}=this.formatBody(t.fixedBody||[],t.multiBody||[]);_.assign(t,{fixedBody:o,multiBody:a}),void 0!==t.sort&&(r=t.sort);let n=[];const s=this.multi(e,t);for(let e=0;e<s;e++)n=n.concat(t.multiBody);if(n=n.concat(t.fixedBody),r){const e="function"==typeof r?r:this.partsComparator;n.sort(e)}if(n.includes(HEAL)){let e=n.indexOf(HEAL);n.splice(e,1),n.push(HEAL)}return n}),this.bodyThreat=(e=>{let t=0;return e&&e.forEach(e=>{t+=CREEP_PART_THREAT[e.type?e.type:e][e.boost?"boosted":"common"]}),t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("attackController"),this.isValidAction=(e=>!0),this.isValidTarget=((e,t)=>e&&(!e.reservation||!TaskManager.reputation.allyOwner(e.reservation))&&t.flag),this.isAddableAction=(()=>!0),this.isAddableTarget=(e=>e&&(e instanceof Flag||"controller"===e.structureType&&(e.reservation||e.owner))),this.newTarget=(e=>{let t;return e.data.destiny&&(t=Game.flags[e.data.destiny.targetName]),t||(t=FlagManager.find(e=>FlagManager.compare(e,FLAG_COLOR.invade.attackController),e.pos,!1,FlagManager.reserveMod,e.name)),t?(PopManager.registerCreepFlag(e,t),e.flag.room&&e.flag.pos.roomName==e.pos.roomName?e.flag.room.controller:e.flag):null}),this.step=(e=>{if(CHATTY&&e.say(this.name,SAY_PUBLIC),e.target.color)return e.flag.pos.roomName==e.pos.roomName&&(e.data.targetId=null),void e.travelTo(e.target);let t=e.pos.getRangeTo(e.target);if(t<=this.targetRange){let r=this.work(e);r!=OK&&e.handleError({errorCode:r,action:this.name,target:e.target,range:t,creep:e})}else e.travelTo(e.target)}),this.work=(e=>{let t;return e.controllerSign(),t=e.target.owner&&!e.target.my||e.target.reservation&&!TaskManager.reputation.allyOwner(e.target.reservation)?e.attackController(e.target):e.claimController(e.target)}),this.setDefault({moveOptions:e=>e})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("avoiding"),this.targetRange=0,this.reachedRange=0,this.lairDangerTime=24,this.lairDangerRange=14,this.isActiveLair=(e=>!_.isUndefined(e.ticksToSpawn)&&e.ticksToSpawn<=this.lairDangerTime),this.isValidAction=(e=>e.data.destiny&&e.data.destiny.room===e.room.name&&(RoomManager.isSKRoom(e.room.name)||e.room.situation.invasion)),this.isAddableAction=(e=>!0),this.isValidTarget=((e,t)=>TaskManager.reputation.npcOwner(e)?_.isUndefined(e.ticksToSpawn)||this.isActiveLair(e):!(!TaskManager.reputation.hostileOwner(e)||!e.hasActiveBodyparts)&&e.hasActiveBodyparts([ATTACK,RANGED_ATTACK])),this.newTarget=(e=>{if(RoomManager.isSKRoom(e.pos.roomName)){const t=_.first(e.room.find(FIND_STRUCTURES,{filter:t=>this.isActiveLair(t)&&e.pos.getRangeTo(t.pos)<=this.lairDangerRange}));if(t)return t}if(e.room.situation.invasion){const t=_.chain(e.room.hostiles).filter(e=>this.isValidTarget(e)).map(t=>{let r=0;const o=e.pos.getRangeTo(t);return{target:t,score:r="Invader"===e.owner.username||"Source Keeper"===e.owner.username?o-51:o<10?o-11:0}}).filter("score").sortBy("score").first().get("target").value();if(t)return t}}),this.work=(e=>{if(!e.data.safeSpot||!e.data.safeSpot.roomName){const t=e.data.destiny&&Game.flags[e.data.destiny.targetName];if(t)e.data.safeSpot=t.pos;else{const t=_.chain(e.room.findRoute(e.data.homeRoom)).first().get("exit").value();t&&(e.data.safeSpot=e.pos.findClosestByRange(t),e.data.safeSpot.roomName=e.pos.roomName)}}e.data.safeSpot&&(e.pos.getRangeTo(e.target)<10?e.travelTo(e.data.safeSpot):e.idleMove())}),this.run=(e=>{if(this.isValidAction(e)&&(e.action===this&&this.isValidTarget(e.target,e)||this.isAddableAction(e)&&this.assign(e)))return!!e.leaveBorder()||(this.work(e),!0)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("boosting"),this.maxPerTarget=1,this.maxPerAction=1,this.isValidMineralType=(e=>{for(const t in BOOSTS)for(const r in BOOSTS[t])if(e===r)return!0;return!1}),this.isValidMineralType=(e=>{for(const t in BOOSTS)for(const r in BOOSTS[t])if(e===r)return!0;return!1}),this.getBoostPartType=(e=>{for(const t in BOOSTS)for(const r in BOOSTS[t])if(e===r)return t}),this.canBoostType=((e,t)=>!_(e.body).filter({type:t}).every(e=>e.boost)),this.isValidAction=(e=>!_.every(e.body,e=>e.boost)),this.isValidTarget=((e,t)=>e instanceof StructureLab&&e.active&&e.energy>=LAB_BOOST_ENERGY&&e.mineralAmount>=LAB_BOOST_MINERAL),this.newTarget=(e=>_(e.room.structures.labs.all).filter(this.isValidTarget).filter(t=>this.isAddableTarget(t,e)).min(t=>e.pos.getRangeTo(t))),this.work=(e=>e.target instanceof StructureLab?e.target.boostCreep(e):ERR_INVALID_TARGET),this.onAssignment=(e=>{SAY_ASSIGNMENT&&e.say(Util.emoji.boosting,SAY_PUBLIC)}),this.setDefault({isValidMineralType:e=>{for(const t in BOOSTS)for(const r in BOOSTS[t])if(e===r)return!0;return!1}}),this._isAddableTarget=this.isAddableTarget,this.isAddableTarget=((e,t)=>{const r=this.getBoostPartType(e.mineralType);return this._isAddableTarget(e,t)&&t.getStrategyHandler([this.name],"isValidMineralType",e.mineralType)&&t.hasActiveBodyparts(r)&&this.canBoostType(t,r)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("building"),this.maxPerTarget=3,this.maxPerAction=3,this.targetRange=3,this.reachedRange=(e=>e.getStrategyHandler([this.name],"reachedRange",e)),this.isValidAction=(e=>e.carry.energy>0),this.isAddableAction=(e=>!e.room.population||!e.room.population.actionCount[this.name]||e.room.population.actionCount[this.name]<this.maxPerAction),this.isValidTarget=(e=>null!=e&&(e.my||TaskManager.reputation.allyOwner(e))&&e.progress&&e.progress<e.progressTotal),this.isAddableTarget=(e=>e&&(e.my||TaskManager.reputation.allyOwner(e))&&(!e.targetOf||e.targetOf.length<this.maxPerTarget)),this.newTarget=(e=>e.room.getBestConstructionSiteFor(e.pos,t=>this.isAddableTarget(t,e))),this.work=(e=>(e.getStrategyHandler([this.name],"getEnergy",e),e.build(e.target))),this.setDefault({reachedRange:1,getEnergy:()=>!1})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("bulldozing"),this.maxPerAction=2,this.maxPerTarget=1,this.isValidTarget=(e=>!(!e.room.my&&e.room.controller&&e.room.controller.safeMode)&&e instanceof ConstructionSite&&TaskManager.reputation.notAlly(e.owner.username)),this.newTarget=(e=>{const t=_(e.room.constructionSites).filter(this.isValidTarget).max(t=>{let r;return r=t.structureType===STRUCTURE_SPAWN?2e4:1e4,r+=t.progress/t.progressTotal*1e4,r-=e.pos.getRangeTo(t)});if(t instanceof ConstructionSite)return t}),this.work=(e=>e.move(e.pos.getDirectionTo(e.target)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("charging"),this.renewTarget=!1,this.maxPerTarget=1,this.isValidAction=(e=>e.carry.energy>0),this.isAddableAction=(e=>!0),this.isValidTarget=(e=>!!e&&(e.structureType==STRUCTURE_LINK?e.energy<.85*e.energyCapacity:e.structureType==STRUCTURE_CONTAINER&&e.sum<(!0===e.source&&1==e.controller?e.storeCapacity*MANAGED_CONTAINER_TRIGGER:e.storeCapacity))),this.newTarget=(e=>{if(e.room.structures.links.storage.length>0){let t=e.room.structures.links.storage.find(e=>e.energy<.85*e.energyCapacity);if(t&&e.room.structures.links.controller.find(e=>e.energy<=.15*e.energyCapacity)&&this.isValidTarget(t,e)&&this.isAddableTarget(t,e))return t}if(e.room.structures.container.out.length>0){let t=null,r=0,o=o=>{if(this.isValidTarget(o,e)&&this.isAddableTarget(o,e)){let e=o.storeCapacity-o.sum;e>r&&(r=e,t=o)}};return _.forEach(e.room.structures.container.out,o),t}return null}),this.work=(e=>{let t;if(!0===e.target.source&&1==e.target.controller){let r=e.target.storeCapacity*MANAGED_CONTAINER_TRIGGER-e.target.sum;if(r<1)t=ERR_FULL;else{let o=_.min([e.carry.energy,r]);t=e.transfer(e.target,RESOURCE_ENERGY,o),e.target._sum+=o}}else t=e.transfer(e.target,RESOURCE_ENERGY);return delete e.data.actionName,delete e.data.targetId,e.action=null,e.target=null,t}),this._isAddableTarget=this.isAddableTarget,this.isAddableTarget=((e,t)=>this._isAddableTarget(e,t)&&(e instanceof OwnedStructure&&e.my||!t.room.controller||(!t.room.controller.owner||t.room.controller.my)&&(!t.room.controller.reservation||t.room.controller.reservation.username==t.owner.username))&&(e.structureType==STRUCTURE_CONTAINER&&e.storeCapacity-e.sum>Math.min(t.carry.energy,500)||e.structureType==STRUCTURE_LINK)&&(e.structureType!=STRUCTURE_CONTAINER||!e.controller||t.carry.energy==t.sum))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("claiming"),this.isValidAction=(e=>!0),this.isValidTarget=(e=>!e.room||!e.owner),this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.newTarget=(e=>{let t;if(e.data.destiny&&(t=Game.flags[e.data.destiny.targetName||e.data.destiny.flagName]),t||(t=FlagManager.find(FLAG_COLOR.claim,e.pos,!1,FlagManager.claimMod,e.name)),!t)return null;if(PopManager.registerCreepFlag(e,t),!e.flag.room||e.flag.pos.roomName!=e.pos.roomName)return e.flag;if(e.flag.room.controller.my){e.flag.setColor(FLAG_COLOR.claim.spawn.color,FLAG_COLOR.claim.spawn.secondaryColor);let t=e=>Game.flags[e.name].remove();return _.forEach(FlagManager.filter(FLAG_COLOR.invade.exploit,e.flag.pos,!0),t),null}return e.flag.room.controller}),this.step=(e=>{if(CHATTY&&e.say(this.name,SAY_PUBLIC),e.target.color)return e.flag.pos.roomName==e.pos.roomName&&(e.data.targetId=null),void e.travelTo(e.target.pos);let t=e.pos.getRangeTo(e.target);if(t<=this.targetRange){let r=this.work(e);r!=OK&&e.handleError({errorCode:r,action:this.name,target:e.target,range:t,creep:e})}e.travelTo(e.target.pos)}),this.work=(e=>(e.controllerSign(),e.claimController(e.target)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("defending"),this.isValidAction=(e=>e.room.hostiles.length>0),this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.isValidTarget=(e=>e&&null!=e.hits&&e.hits>0&&0==e.my),this.newTarget=(e=>{let t=e.pos.findClosestByRange(e.room.hostiles,{filter:e.getStrategyHandler([this.name],"priorityTargetFilter",e)});return t||(t=e.pos.findClosestByRange(e.room.hostiles,{filter:e.getStrategyHandler([this.name],"targetFilter",e)})),t}),this.step=(e=>{if(CHATTY&&e.say(this.name,SAY_PUBLIC),e.target.pos.roomName!==e.room.name)return CreepManager.action.travelling.assignRoom(e,e.target.pos.roomName);this.run[e.data.creepType](e)}),this.run={ranger(e){let t=e.pos.getRangeTo(e.target);if(!e.flee&&(t>3&&e.travelTo(e.target,{respectRamparts:COMBAT_CREEPS_RESPECT_RAMPARTS}),t<3)){let r=e.target.pos.getDirectionTo(e);r&&(COMBAT_CREEPS_RESPECT_RAMPARTS&&!_.filter(e.pos.lookFor(LOOK_STRUCTURES),{my:!0,structureType:STRUCTURE_RAMPART})&&e.move(r),1===t&&(e.attacking=e.attack(e.target)==OK))}let r=e.pos.findInRange(e.room.hostiles,3);if(r.length>2)return CHATTY&&e.say("MassAttack"),void(e.attackingRanged=e.rangedMassAttack()==OK);t<4?e.attackingRanged=e.rangedAttack(e.target)==OK:r.length>0&&(e.attackingRanged=e.rangedAttack(r[0])==OK)},melee(e){e.flee||e.travelTo(e.target,{respectRamparts:COMBAT_CREEPS_RESPECT_RAMPARTS});let t=e.attack(e.target);if(t==ERR_NOT_IN_RANGE){let t=e.pos.findInRange(e.room.hostiles,1);t.length>0&&(e.attacking=e.attack(t[0])==OK)}else e.attacking=t==OK}},this.setDefault({priorityTargetFilter:e=>e=>e.hasBodyparts(HEAL),targetFilter:e=>e=>!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("dismantling"),this.maxPerAction=3,this.maxPerTarget=3,this.renewTarget=!1,this.isValidAction=(e=>0===e.carryCapacity||e.sum<e.carryCapacity),this.isValidTarget=(e=>null!=e),this.newTarget=(e=>{let t,r=FlagManager.find(FLAG_COLOR.destroy.dismantle,e.pos,!0);if(r)if(void 0!==r.room){let o=r.room.lookForAt(LOOK_STRUCTURES,r.pos.x,r.pos.y);if(o&&o.length>0)return o[0];{let o=r.name;RoomManager.costMatrixInvalid.trigger(r.room),FlagManager.removeFromDir(r.name),r.remove();let a=(e,t,r)=>t.name==r?1/0:e;if(o==(r=FlagManager.find(FLAG_COLOR.destroy.dismantle,e.pos,!0,a,o)).name&&Log.error("Removed flag found again in dismantling.newTarget!"),r)if(void 0!==r.room){let e=r.room.lookForAt(LOOK_STRUCTURES,r.pos.x,r.pos.y);if(e&&e.length>0)return e[0];RoomManager.costMatrixInvalid.trigger(r.room),FlagManager.removeFromDir(r.name),r.remove()}else t=r}}else t=r;return t}),this.work=(e=>e.dismantle(e.target))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("dropping"),this.targetRange=1,this.reachedRange=0,this.isValidAction=(e=>e.sum>0),this.isValidTarget=((e,t)=>!!e&&(!(e instanceof Flag)||e.compareTo(FLAG_COLOR.claim.spawn)||e.compareTo(FLAG_COLOR.command.drop))),this.newTarget=(e=>{let t=e.pos.findClosestByRange(e.room.structures.piles);return t||(t=e.pos.findClosestByRange(e.room.structures.spawns)),t||(t=e.pos.findClosestByRange(e.room.find(FIND_FLAGS,FlagManager.flagFilter(FLAG_COLOR.claim.spawn)))),t||(t=e.pos.findClosestByRange(_.filter(e.room.constructionSites,{structureType:STRUCTURE_SPAWN}))),t||(t=e.room.controller),t}),this.work=(e=>{let t=OK;if(!(e.target instanceof StructureSpawn||e.target instanceof ConstructionSite||e.target instanceof StructureController||(e=>e&&FlagManager.compare(e,FLAG_COLOR.claim.spawn))(e.target))&&e.pos.getRangeTo(e.target)>0&&e.data.lastPos&&e.data.path&&!_.eq(e.pos,e.data.lastPos)){let r=e=>e.type==LOOK_TERRAIN&&"wall"==e.terrain||e.type==LOOK_CREEPS||e.type==LOOK_STRUCTURES&&OBSTACLE_OBJECT_TYPES.includes(e.structure.structureType),o=e.room.lookAt(e.target);if(!_.some(o,r))return t}for(let r in e.carry)t=e.drop(r);return t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("feeding"),this.maxPerTarget=1,this.isValidAction=(e=>e.carry.energy>0&&e.room.energyAvailable<e.room.energyCapacityAvailable),this.isValidTarget=(e=>e&&!_.isUndefined(e.energy)&&e.energy<e.energyCapacity),this.isAddableTarget=(e=>e.my&&(!e.targetOf||_.filter(e.targetOf,{actionName:"feeding"}).length<this.maxPerTarget)),this.newTarget=(e=>e.room.energyAvailable===e.room.energyCapacityAvailable?null:e.pos.findClosestByRange(e.room.structures.feedable,{filter:t=>this.isValidTarget(t)&&this.isAddableTarget(t,e)})),this.work=(e=>{let t=e.transfer(e.target,RESOURCE_ENERGY);return t==OK&&e.carry.energy>e.target.energyCapacity-e.target.energy&&(e.target=null,this.assign(e)),t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("fortifying"),this.maxPerTarget=2,this.maxPerAction=3,this.targetRange=3,this.isValidAction=(e=>e.carry.energy>0&&(!e.room.storage||!e.room.storage.active||e.room.storage.charge>.6)),this.isValidTarget=(e=>e&&e.active&&e.hits&&e.hits<e.hitsMax),this.newTarget=(e=>_.find(e.room.structures.fortifyable,t=>this.isAddableTarget(t,e))),this.work=(e=>e.repair(e.target))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("fueling"),this.maxPerTarget=1,this.maxPerAction=1,this.isValidAction=(e=>e.carry.energy>0&&e.room.towerFreeCapacity>0),this.isValidTarget=(e=>e&&(e.energy||0==e.energy)&&e.active&&e.energy<e.energyCapacity),this.isAddableTarget=(e=>e.my&&(!e.targetOf||e.targetOf.length<this.maxPerTarget)),this.newTarget=(e=>e.room.structures.fuelable.length>0?e.pos.findClosestByRange(e.room.structures.fuelable):null),this.work=(e=>{let t=e.transfer(e.target,RESOURCE_ENERGY);return e.target.energyCapacity-e.target.energy<20&&(e.data.targetId=null),t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("guarding"),this.reachedRange=0,this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.newTarget=(e=>{let t;return e.data.destiny&&(t=Game.flags[e.data.destiny.flagName]),t||(t=FlagManager.find(FLAG_COLOR.defense,e.pos,!1,FlagManager.rangeMod,{rangeModPerCrowd:400})),e.action===this&&e.flag?e.flag:(t&&PopManager.registerCreepFlag(e,t),t)}),this.work=(e=>e.room.hostiles.length>0?ERR_INVALID_ARGS:e.data.flagName?OK:ERR_INVALID_ARGS)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("harvesting"),this.renewTarget=!1,this.isValidAction=(e=>e.sum<e.carryCapacity&&e.room.sourceEnergyAvailable>0),this.isValidTarget=((e,t)=>null!==e&&null!==e.energy&&e.energy>0&&(void 0===e.targetOf||e.targetOf.length<=e.accessibleFields&&!_.some(e.targetOf,e=>("miner"===e.creepType||"remoteMiner"===e.creepType)&&e.body.work>=5&&(e.ticksToLive||CREEP_LIFE_TIME)>=(e.data&&e.data.predictedRenewal||0)))),this.isAddableTarget=((e,t)=>(!t.room.controller||(!t.room.controller.owner||t.room.controller.my)&&(!t.room.controller.reservation||t.room.controller.reservation.username==t.owner.username))&&(void 0===e.targetOf||e.targetOf.length<e.accessibleFields)),this.newTarget=(e=>{const t=_.sortBy(e.room.sources,t=>e.pos.getRangeTo(t));for(const r of t)if(this.isValidTarget(r,e)&&this.isAddableTarget(r,e))return r;return null}),this.work=(e=>e.harvest(e.target))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("healing"),this.targetRange=3,this.isAddableAction=(()=>!0),this.isAddableTarget=((e,t)=>{const r=t.getStrategyHandler([this.name],"targetFilter",t);return r&&r(e)}),this.isValidTarget=((e,t)=>{if(null!=e&&null!=e.hits&&e.hits<e.hitsMax&&e.pos.roomName===t.data.healRoom){const r=t.getStrategyHandler([this.name],"targetFilter",t);return r&&r(e)}return!1}),this.newTarget=(e=>{if(e.room.hurtCreeps.length>0)for(const t of e.room.hurtCreeps)if(t.name!==e.name)return e.data.healRoom=t.pos.roomName,t;return delete e.data.healRoom,null}),this.work=(e=>{if(e.target.hits<e.target.hitsMax)return e.pos.isNearTo(e.target)?e.heal(e.target):e.pos.inRangeTo(e.target,3)?e.rangedHeal(e.target):OK}),this.setDefault({targetFilter:e=>e=>e.my,moveOptions:e=>e})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("idle"),this.targetRange=3,this.isValidAction=(e=>!0),this.isAddableAction=(e=>!0),this.isAddableTarget=(e=>!0),this.newTarget=(e=>FlagManager.specialFlag()),this.step=(e=>{CHATTY&&e.say(this.name,SAY_PUBLIC),e.getStrategyHandler([this.name],"idleMove",e)&&e.idleMove(),delete e.data.actionName,delete e.data.targetId}),this.setDefault({idleMove:e=>!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("invading"),this.isValidAction=(e=>FlagManager.hasInvasionFlag()),this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.getFlaggedStructure=((e,t)=>{let r=[];return FlagManager.filter(e,t,!0).forEach(e=>{let o=Game.flags[e.name];if(o&&o.pos.roomName==t.roomName&&void 0!==o.room){let e=o.room.lookForAt(LOOK_STRUCTURES,o.pos.x,o.pos.y);if(e&&e.length>0){const t=e=>{e.destroyFlag=o,r.push(e)};e.forEach(t)}else o.remove()}}),r&&r.length>0?t.findClosestByRange(r):null}),this.newTarget=(e=>{let t=this.getFlaggedStructure(FLAG_COLOR.destroy,e.pos);if(t)return t.destroyFlag&&PopManager.registerCreepFlag(e,t.destroyFlag),t;let r=FlagManager.find(FLAG_COLOR.invade,e.pos,!1);if(r&&(!r.room||r.pos.roomName!=e.pos.roomName))return PopManager.registerCreepFlag(e,r),r;if(!r)return e.action=null,delete e.data.actionName,void delete e.data.targetId;if(!r.room.controller||!r.room.controller.my){let t=e.pos.findClosestByRange(e.room.hostiles,{filter:e=>_.some(e.body,{type:HEAL})});if(t)return t;if(t=e.pos.findClosestByRange(e.room.hostiles,{filter:e=>_.some(e.body,e=>e.type==ATTACK||e.type==RANGED_ATTACK)}))return t;if(t=e.pos.findClosestByPath(FIND_HOSTILE_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_TOWER}))return t;if(t=e.pos.findClosestByRange(e.room.hostiles))return t;if(t=e.pos.findClosestByPath(FIND_HOSTILE_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_SPAWN}))return t;if(t=e.pos.findClosestByPath(FIND_HOSTILE_STRUCTURES,{filter:e=>e.structureType!=STRUCTURE_CONTROLLER}))return t;if(t=e.pos.findClosestByPath(FIND_HOSTILE_CONSTRUCTION_SITES))return t}return r.remove(),null}),this.step=(e=>{CHATTY&&e.say(this.name),e.target instanceof Flag&&e.target.pos.roomName==e.pos.roomName&&this.assign(e),this.run[e.data.creepType](e)}),this.run={melee:e=>{if(!e.flee){if(e.target instanceof Flag)return void e.travelTo(e.target);if(e.target instanceof ConstructionSite)return void e.travelTo(e.target,{range:0});e.travelTo(e.target)}e.target.my||(e.attacking=e.attack(e.target)==OK)},ranger:e=>{let t=e.pos.getRangeTo(e.target);if(!e.flee){if(e.target instanceof Flag)return void e.travelTo(e.target);if(e.target instanceof ConstructionSite)return void e.travelTo(e.target,{range:0});t>3&&e.travelTo(e.target),t<3&&e.move(e.target.pos.getDirectionTo(e))}let r=e.pos.findInRange(e.room.hostiles,3);if(r.length>2)return CHATTY&&e.say("MassAttack"),void(e.attackingRanged=e.rangedMassAttack()==OK);t<4?e.attackingRanged=e.rangedAttack(e.target)==OK:r.length>0&&(e.attackingRanged=e.rangedAttack(r[0])==OK)}},this.setDefault({moveOptions:e=>(_.isUndefined(e.allowHostile)&&(e.allowHostile=!0),e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("mining"),this.renewTarget=!0,this.isValidTarget=((e,t)=>e&&(e instanceof Source||e instanceof Mineral&&!e.ticksToRegeneration)),this.isAddableAction=(e=>{const t=e.room;return t.my||t.myReservation||!t.owner&&!t.reservation}),this.isAddableTarget=((e,t)=>!e.targetOf||!_.some(e.targetOf,e=>{const r=e.predictedRenewal?e.predictedRenewal:e.spawningTime;return e.creepType===t.data.creepType&&e.ttl>r})),this.newTarget=(e=>{const t=e.getStrategyHandler([this.name],"newTarget",e);return t&&this.determineSpot(e,t),t}),this.determineSpot=((e,t)=>{const r=[];_.forEach(Memory.population,t=>{if(t.name===e.name)return;const o=t.predictedRenewal?t.predictedRenewal:t.spawningTime;t.roomName===e.pos.roomName&&["miner","upgrader"].includes(t.creepType)&&t.determinatedSpot&&t.ttl>o&&r.push(t.determinatedSpot)});const o=t.container&&t.container.structureType===STRUCTURE_CONTAINER&&t.container.pos.isNearTo(t)&&!_.some(r,{x:t.container.pos.x,y:t.container.pos.y})?t.container.pos:null;let a,n=[];if(o||(a={spots:[{pos:t.pos,range:1}],checkWalkable:!0,where:e=>!_.some(r,{x:e.x,y:e.y}),roomName:e.pos.roomName},t.container&&a.spots.push({pos:t.container.pos,range:1}),!e.remote&&t.link&&a.spots.push({pos:t.link.pos,range:1}),n=RoomManager.fieldsInRange(a)),o||n.length>0){let r=o;if(r||(r=e.pos.findClosestByPath(n,{filter:t=>!_.some(e.room.lookForAt(LOOK_STRUCTURES,t),{structureType:STRUCTURE_ROAD})})),r||(r=e.pos.findClosestByPath(n)||n[0]),r){if(e.data.determinatedSpot={x:r.x,y:r.y},!e.remote){const t=Game.spawns[e.data.motherSpawn];if(t){const o=r.findPathTo(t,{ignoreCreeps:!0});o&&(e.data.predictedRenewal=e.data.spawningTime+o.length)}}MINERS_AUTO_BUILD&&!t.container&&!_.filter(t.pos.findInRange(FIND_CONSTRUCTION_SITES,2),e=>e.structureType===STRUCTURE_CONTAINER).length&&t.room&&t.room.createConstructionSite(r,STRUCTURE_CONTAINER)}}e.data.determinatedSpot||Log.error("Unable to determine working location for miner in room "+e.pos.roomName)}),this.work=(e=>{if(0===e.target.energy||e.target.cooldown>0)this.maintain(e);else{if(!(e.target instanceof Mineral&&e.target.ticksToRegeneration>0)){this.resetChecks(e);const t=e.carryCapacity-(e.data.body&&e.data.body.work?2*e.data.body.work:e.carryCapacity/2);if(e.sum>t)if(e.target.link&&e.target.link.energy<e.target.link.energyCapacity)e.transfer(e.target.link,RESOURCE_ENERGY);else if(e.target.container&&e.target.container.sum<e.target.container.storeCapacity){const t=t=>{e.carry[t]>0&&e.transfer(e.target.container,t)};_.forEach(Object.keys(e.carry),t)}else{CHATTY&&e.say("dropmining",SAY_PUBLIC),OOPS&&e.say(String.fromCharCode(8681),SAY_PUBLIC);const t=t=>{e.carry[t]>0&&e.drop(t)};_.forEach(Object.keys(e.carry),t)}return e.harvest(e.target)}this.resetChecks(e),this.unassign(e)}}),this.resetChecks=(e=>{delete e.data.repairChecked,delete e.data.repairTarget,delete e.data.buildChecked,delete e.data.buildTarget,delete e.data.energyChecked}),this.step=(e=>{if(_.isUndefined(e.data.determinatedSpot))this.determineSpot(e,e.target);else{const t=e.data.destiny?e.data.destiny.room:e.data.homeRoom,r=new RoomPosition(e.data.determinatedSpot.x,e.data.determinatedSpot.y,t),o=e.pos.getRangeTo(r);o>1?e.travelTo(r,{range:1}):1===o?r.lookFor(LOOK_CREEPS).length>0||e.move(e.pos.getDirectionTo(r)):this.work(e)}}),this.getEnergy=(e=>{const t=e.pos.findInRange(FIND_DROPPED_RESOURCES,1,{filter:e=>e.resourceType===RESOURCE_ENERGY})[0];if(t)return LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"getEnergy",creepName:e.name,pos:e.pos,pickup:t.id}),e.pickup(t),!0;const r=e.pos.findInRange(FIND_STRUCTURES,1,{filter:e=>e.structureType===STRUCTURE_CONTAINER})[0];if(r&&r.sum>0)return LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"getEnergy",creepName:e.name,pos:e.pos,withdrawCon:r.id}),e.withdraw(r,RESOURCE_ENERGY),!0;const o=e.pos.findInRange(FIND_STRUCTURES,1,{filter:e=>e.my&&e.structureType===STRUCTURE_LINK})[0];return o&&o.energy>0?(LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"getEnergy",creepName:e.name,pos:e.pos,withdrawLink:o.id}),e.withdraw(o,RESOURCE_ENERGY),!0):(LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"getEnergy",creepName:e.name,pos:e.pos,result:"no energy"}),e.data.energyChecked=Game.time,!1)}),this.maintain=(e=>{const t=e.data.body&&e.data.body.work?5*e.data.body.work:e.carryCapacity/2;if(LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"maintain",creepName:e.name,pos:e.pos,energy:e.carryenergy,minCarry:t}),e.carry.energy<=t&&(!e.data.energyChecked||Game.time-e.data.energyChecked>MINER_WORK_THRESHOLD)&&this.getEnergy(e),e.carry.energy>0){if(!e.data.repairChecked||Game.time-e.data.repairChecked>MINER_WORK_THRESHOLD){let t=Game.getObjectById(e.data.repairTarget);if(t&&t.hits!==t.hitsMax||(t=e.pos.findInRange(FIND_STRUCTURES,3,{filter:e=>(e.structureType===STRUCTURE_CONTAINER||e.structureType===STRUCTURE_ROAD)&&e.hits<e.hitsMax})[0]),t)return e.data.repairTarget=t.id,LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"maintain",creepName:e.name,pos:e.pos,repairTarget:t.id,progress:t.hits/t.hitsMax}),e.repair(t);delete e.data.repairTarget,e.data.repairChecked=Game.time}if(!e.data.buildChecked||Game.time-e.data.buildChecked>MINER_WORK_THRESHOLD){let t=Game.getObjectById(e.data.buildTarget);if(t&&t.progress!==t.progressTotal||(t=e.pos.findInRange(e.room.myConstructionSites,3,{filter:e=>(e.structureType===STRUCTURE_CONTAINER||e.structureType===STRUCTURE_ROAD)&&e.progress<e.progressTotal})[0]),t)return e.data.buildTarget=t.id,LOG_TRACE&&Log.trace("Action",{actionName:this.name,method:"maintain",creepName:e.name,pos:e.pos,buildTarget:t.id,progress:t.progress/t.progressTotal}),e.build(t);delete e.data.buildTarget,e.data.buildChecked=Game.time}}return!1}),this.setDefault({newTarget:e=>_(e.room.sources).sortBy(t=>e.pos.getRangeTo(t)).find(t=>this.isValidTarget(t,e)&&this.isAddableTarget(t,e))||null})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("picking"),this.maxPerAction=4,this.maxPerTarget=2,this.isValidAction=(e=>e.sum<e.carryCapacity),this.isValidTarget=(e=>null!=e&&null!=e.amount&&e.amount>0),this.isAddableAction=(e=>e.data.creepType.indexOf("remote")>0||this.maxPerAction===1/0||!e.room.population||!e.room.population.actionCount[this.name]||e.room.population.actionCount[this.name]<this.maxPerAction),this.isAddableTarget=((e,t)=>{let r;r=t.data.creepType.indexOf("remote")>0?1/0:this.maxPerTarget;let o=e.targetOf?_.filter(e.targetOf,{actionName:"picking"}):[];return!e.targetOf||!o.length||o.length<r&&e.amount>_.sum(o.map(e=>e.carryCapacityLeft))}),this.newTarget=(e=>{const t=this.getStrategy("energyOnly",e)?_.filter(e.room.droppedResources,{resourceType:RESOURCE_ENERGY}):e.room.droppedResources;let r;return r=e.room.my&&e.room.situation.invasion?t=>this.isAddableTarget(t,e)&&t.pos.findInRange(e.room.sources,1).length>0:t=>this.isAddableTarget(t,e),e.pos.findClosestByPath(t,{filter:r})}),this.work=(e=>{let t=e.pickup(e.target);if(t==OK){if(e.sum<.8*e.carryCapacity){let r=e.pos.findInRange(e.room.droppedResources,1,{filter:t=>t.resourceType!=RESOURCE_ENERGY&&this.isAddableTarget(t,e)});if((!r||r.length<1)&&(r=e.pos.findInRange(e.room.droppedResources,1,{filter:t=>this.isAddableTarget(t,e)})),r&&r.length>0)return this.assign(e,r[0]),t}if(e.sum<e.carryCapacity){let r=e.pos.findInRange(e.room.structures.container.in,2,{filter:t=>CreepManager.action.uncharging.isValidTarget(t,e)});if(r&&r.length>0)return CreepManager.action.uncharging.assign(e,r[0]),t}delete e.data.actionName,delete e.data.targetId}return t}),this.setDefault({energyOnly:!0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("reallocating"),this.getLabOrder=(e=>{if(!e)return null;let t=null,r=e.room;if(!r.memory||!r.memory.resources)return null;let o=r.memory.resources.lab.find(t=>t.id==e.id);if(o){let e=o.orders;for(let r=0;r<e.length;r++)if(e[r].type!=RESOURCE_ENERGY&&(e[r].orderRemaining>0||e[r].storeAmount>0)){t=e[r];break}}return t}),this.findNeeding=((e,t,r,o)=>{r||(r=1);const a=e.structures.labs.all;if(a.length>0)for(let e=0;e<a.length;e++){const n=Game.getObjectById(a[e].id);let s=0;if(n&&(s=n.getNeeds(t)),s>=r&&(0===n.mineralAmount||n.mineralType==t||t==RESOURCE_ENERGY)&&n.id!=o)return{structure:n,amount:s}}const n=e.structures.powerSpawns.all;if(n.length>0)for(let e=0;e<n.length;e++){const a=Game.getObjectById(n[e].id);let s=0;if(a&&(s=a.getNeeds(t)),s>=r&&(t==RESOURCE_POWER||t==RESOURCE_ENERGY)&&a.id!=o)return{structure:a,amount:s}}const s=e.structures.nukers.all;if(s.length>0)for(let e=0;e<s.length;e++){const a=Game.getObjectById(s[e].id);let n=0;if(a&&(n=a.getNeeds(t)),n>=r&&(t==RESOURCE_GHODIUM||t==RESOURCE_ENERGY)&&a.id!=o)return{structure:a,amount:n}}const i=e.structures.container.all;if(i.length>0)for(let e=0;e<i.length;e++){const a=Game.getObjectById(i[e].id);let n=0;if(a&&(n=a.getNeeds(t)),n>=r&&a.id!=o)return{structure:a,amount:n}}const l=e.terminal;if(l&&l.active){let e=l.getNeeds(t);if(e>=r&&l.id!=o)return{structure:l,amount:e}}let m=e.storage;if(m&&m.active){let e=m.getNeeds(t);if(e>=r&&m.id!=o)return{structure:m,amount:e}}return m&&m.active&&(t==RESOURCE_ENERGY||t==RESOURCE_POWER)&&m.storeCapacity-m.sum>r?{structure:m,amount:0}:l&&l.active&&t!=RESOURCE_ENERGY&&t!=RESOURCE_POWER&&l.storeCapacity-l.sum>r?{structure:l,amount:0}:null}),this.newTargetLab=(e=>{let t=e.room,r=t.memory;if(r&&r.labs&&r.labs.length>0)for(let o=0;o<r.labs.length;o++){let a=r.labs[o],n=Game.getObjectById(a.id);if(!n)continue;let s=0;if(n.mineralAmount>0){if((s=n.getNeeds(n.mineralType))<0){let r;if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:n.mineralType,needs:s}),r=this.findNeeding(t,n.mineralType))return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:n.mineralType,targetNeeds:r.amount}),n}if(s>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:n.mineralType,needs:s}),t.storage&&t.storage.active&&t.storage.store[n.mineralType])return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:n.mineralType,targetNeeds:t.storage.store[n.mineralType]}),e.data.reallocating=n.mineralType,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(n.mineralType)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:n.mineralType,targetNeeds:t.terminal.store[n.mineralType]}),e.data.reallocating=n.mineralType,t.terminal;let r=t.findContainerWith(n.mineralType);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:n.mineralType,targetNeeds:r.amount}),e.data.reallocating=n.mineralType,r.structure;!ROOM_TRADING||MAKE_COMPOUNDS||ALLOCATE_COMPOUNDS||n.mineralType==RESOURCE_ENERGY||n.mineralType==t.mineralType||_.some(t.memory.resources.orders,{type:n.mineralType})||t.placeRoomOrder(n.id,n.mineralType,s)}}else{let r=this.getLabOrder(n),o=null;if(r){o=r.type;let a=r.orderRemaining+r.storeAmount;if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:o,needs:a}),t.storage&&t.storage.active&&t.storage.store[o])return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:o,targetNeeds:t.storage.store[o]}),e.data.reallocating=o,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(o)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:o,targetNeeds:t.terminal.store[o]}),e.data.reallocating=o,t.terminal;let s=t.findContainerWith(o);if(s)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:s.structure.id,resourceType:o,targetNeeds:s.amount}),e.data.reallocating=o,s.structure;!ROOM_TRADING||MAKE_COMPOUNDS||ALLOCATE_COMPOUNDS||o==RESOURCE_ENERGY||o==t.mineralType||_.some(t.memory.resources.orders,{type:n.mineralType})||t.placeRoomOrder(n.id,o,r.orderRemaining)}}if((s=n.getNeeds(RESOURCE_ENERGY))<0){LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:RESOURCE_ENERGY,needs:s});let r=this.findNeeding(t,RESOURCE_ENERGY);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_ENERGY,targetNeeds:r.amount}),n}if(s>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:RESOURCE_ENERGY,needs:s}),t.storage&&t.storage.active&&t.storage.charge>.5)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.storage.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(RESOURCE_ENERGY)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.terminal.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.terminal;let r=t.findContainerWith(RESOURCE_ENERGY);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_ENERGY,targetNeeds:r.amount}),e.data.reallocating=RESOURCE_ENERGY,r.structure}}return null}),this.newTargetPowerSpawn=(e=>{const t=e.room,r=t.structures.powerSpawns.all;if(r.length>0)for(let o=0;o<r.length;o++){const a=Game.getObjectById(r[o].id);if(!a)continue;let n=0;if((n=a.getNeeds(RESOURCE_ENERGY))>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:a.id,resourceType:RESOURCE_ENERGY,needs:n}),t.storage&&t.storage.active&&t.storage.charge>.5)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.storage.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(RESOURCE_ENERGY)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.terminal.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.terminal;let r=t.findContainerWith(RESOURCE_ENERGY);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_ENERGY,targetNeeds:r.amount}),e.data.reallocating=RESOURCE_ENERGY,r.structure}if((n=a.getNeeds(RESOURCE_POWER))>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:a.id,resourceType:RESOURCE_POWER,needs:n}),t.storage&&t.storage.active&&t.storage.store[RESOURCE_POWER])return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:RESOURCE_POWER,targetNeeds:t.storage.store[RESOURCE_POWER]}),e.data.reallocating=RESOURCE_POWER,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(RESOURCE_POWER)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:RESOURCE_POWER,targetNeeds:t.terminal.store[RESOURCE_POWER]}),e.data.reallocating=RESOURCE_POWER,t.terminal;let r=t.findContainerWith(RESOURCE_POWER);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_POWER,targetNeeds:r.amount}),e.data.reallocating=RESOURCE_POWER,r.structure}}return null}),this.newTargetNuker=(e=>{const t=e.room,r=t.structures.nukers.all;if(r.length>0)for(var o=0;o<r.length;o++){const n=Game.getObjectById(r[o].id);if(n){var a=0;if((a=n.getNeeds(RESOURCE_ENERGY))>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:RESOURCE_ENERGY,needs:a}),t.storage&&t.storage.active&&t.storage.charge>.5)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.storage.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(RESOURCE_ENERGY)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:RESOURCE_ENERGY,targetNeeds:t.terminal.store[RESOURCE_ENERGY]}),e.data.reallocating=RESOURCE_ENERGY,t.terminal;let r=t.findContainerWith(RESOURCE_ENERGY);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_ENERGY,targetNeeds:r.amount}),e.data.reallocating=RESOURCE_ENERGY,r.structure}if((a=n.getNeeds(RESOURCE_GHODIUM))>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:n.id,resourceType:RESOURCE_GHODIUM,needs:a}),t.storage&&t.storage.active&&t.storage.store[RESOURCE_GHODIUM])return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:RESOURCE_GHODIUM,targetNeeds:t.storage.store[RESOURCE_GHODIUM]}),e.data.reallocating=RESOURCE_GHODIUM,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(RESOURCE_GHODIUM)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:RESOURCE_GHODIUM,targetNeeds:t.terminal.store[RESOURCE_GHODIUM]}),e.data.reallocating=RESOURCE_GHODIUM,t.terminal;let r=t.findContainerWith(RESOURCE_GHODIUM);if(r)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:r.structure.id,resourceType:RESOURCE_GHODIUM,targetNeeds:r.amount}),e.data.reallocating=RESOURCE_GHODIUM,r.structure}}}return null}),this.newTargetContainer=(e=>{const t=e.room,r=t.structures.container.all;if(r.length>0)for(let o=0;o<r.length;o++){const a=Game.getObjectById(r[o].id);if(a){for(let r in a.store){let o=a.getNeeds(r);if(r&&o<0){LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:a.id,resourceType:r,needs:o});let n=this.findNeeding(t,r);if(n)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:n.structure.id,resourceType:r,targetNeeds:n.amount}),e.data.reallocating=r,a}}if(t.memory.resources){let r=t.memory.resources.container.find(e=>e.id==a.id);if(r){let o=r.orders;for(let r=0;r<o.length;r++){let n=o[r].type,s=a.getNeeds(n);if(s>0){if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:a.id,resourceType:resource,needs:s}),t.storage&&t.storage.active&&t.storage.store[n]&&!(n==RESOURCE_ENERGY&&t.storage.charge<.5))return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:resource,targetNeeds:t.storage.store[resource]}),e.data.reallocating=resource,t.storage;if(t.terminal&&t.terminal.active&&t.terminal.getNeeds(n)<0)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.terminal.id,resourceType:resource,targetNeeds:t.terminal.store[resource]}),e.data.reallocating=resource,t.terminal}}}}}}return null}),this.newTargetTerminal=(e=>{let t=e.room,r=e.room.terminal;if(r&&r.active){for(let o in r.store){let a=-r.getNeeds(o);if(a>0){LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:r.id,resourceType:o,needs:-a});let n=this.findNeeding(t,o,1,r.id);if(n&&n.structure.id!=r.id)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:n.structure.id,resourceType:o,targetNeeds:n.amount}),e.data.reallocating=o,r}}if(t.memory.resources&&t.memory.resources.terminal[0]){let o=t.memory.resources.terminal[0].orders.slice();o.push(RESOURCE_ENERGY);let a=null,n=0;for(let s=0;s<o.length;s++)if(a=o[s].type,(n=r.getNeeds(a))>0&&(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:r.id,resourceType:a,needs:n}),t.storage&&t.storage.active&&t.storage.store[a]&&!(a==RESOURCE_ENERGY&&t.storage.charge<.5)))return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:t.storage.id,resourceType:a,targetNeeds:t.storage.store[a]}),e.data.reallocating=a,t.storage}}return null}),this.newTargetStorage=(e=>{let t=e.room,r=e.room.storage;if(r&&r.active)for(let o in r.store){let a=-r.getNeeds(o);if(o&&a>0){LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,structureId:r.id,resourceType:o,needs:-a});let n=this.findNeeding(t,o,1,r.id);if(n)return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,targetStructureId:n.structure.id,resourceType:o,targetNeeds:n.amount}),e.data.reallocating=o,r}}return null}),this.isValidAction=(e=>!0),this.isValidTarget=(e=>!0),this.isAddableAction=(e=>{let t=e.room.population;return 0==e.sum&&(!t||!t.actionCount[this.name]||t.actionCount[this.name]<this.maxPerAction)}),this.isAddableTarget=(e=>!0),this.newTarget=(e=>{let t=e.room;LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,subAction:"newTarget"});let r=null;if(0==e.sum)return t.memory&&(null===(r=this.newTargetLab(e))&&(r=this.newTargetPowerSpawn(e)),null===r&&(r=this.newTargetNuker(e)),null===r&&(r=this.newTargetContainer(e)),null===r&&(r=this.newTargetTerminal(e)),null===r&&(r=this.newTargetStorage(e))),r;{let r=Object.keys(e.carry)[0],o=this.findNeeding(t,r);return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:t.name,creepName:e.name,subAction:"assignDropOff",targetStructureId:o.structure.id,resourceType:r,targetNeeds:o.amount}),o?o.structure:null}}),this.cancelAction=(e=>{delete e.data.actionName,delete e.data.targetId,e.action=null,e.target=null,delete e.data.path}),this.unloadStructure=((e,t,r,o)=>{let a=Math.min(o,e.carryCapacity-e.sum),n=e.withdraw(t,r,a);return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:e.room.name,creepName:e.name,subAction:"unloadStructure",structureId:t.id,resourceType:r,amount:a,result:n}),n}),this.loadStructure=((e,t,r,o)=>{let a=null,n=e.room,s=Math.min(o,e.carry[r]||0);if(s>0&&(a=e.transfer(t,r,s)),a==OK){let e=null;if(n.memory.resources&&(e=n.memory.resources[t.structureType].find(e=>e.id==t.id)),e&&e.orders){let t=e.orders.find(e=>e.type==r);t&&t.orderRemaining>0&&(t.orderRemaining-=s)}}return LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:e.room.name,creepName:e.name,subAction:"loadStructure",structureId:t.id,resourceType:r,amount:s,result:a}),a}),this.assignDropOff=((e,t)=>{let r=this.findNeeding(e.room,t,1,e.target.id);r&&(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",roomName:e.room.name,creepName:e.name,subAction:"assignDropOff",targetStructureId:r.structure.id,resourceType:t,amount:r.amount}),this.assign(e,r.structure))}),this.unloadLab=(e=>{let t=e.target,r=null,o=null,a=0;return(a=-t.getNeeds(RESOURCE_ENERGY))>0&&(o=RESOURCE_ENERGY),o||(a=-t.getNeeds(t.mineralType))>0&&(o=t.mineralType),o&&(r=this.unloadStructure(e,t,o,a)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-unloadLab",roomName:room.name,creepName:e.name,structureId:t.id,resourceType:o,needs:a,workResult:r}),r==OK?this.assignDropOff(e,o):this.cancelAction(e),r}),this.unloadContainer=(e=>{let t=e.target,r=null,o=null,a=0,n=Object.keys(t.store);e.data.reallocating&&(n.unshift(e.data.reallocating),delete e.data.reallocating);for(let e=0;e<n.length;e++){let r=n[e];if(r&&t.store[r]>0&&(t.structureType==STRUCTURE_LAB||t.getNeeds(r)<0)){let e=this.findNeeding(room,r,1,t.id);if(e&&(a=e.amount),a>0){o=r;break}if(storage&&storage.active&&e&&e.structure.structureType==STRUCTURE_STORAGE&&r==RESOURCE_ENERGY){a=storage.storeCapacity-storage.sum,o=r;break}}}return o&&(r=this.unloadStructure(e,t,o,a)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-unloadContainer",roomName:room.name,creepName:e.name,structureId:t.id,resourceType:o,needs:a,workResult:r}),r==OK?this.assignDropOff(e,o):this.cancelAction(e),r}),this.unloadTerminal=(e=>{let t=e.target,r=e.room,o=r.storage,a=null,n=null,s=0,i=Object.keys(t.store);e.data.reallocating&&(i.unshift(e.data.reallocating),delete e.data.reallocating);for(let e=0;e<i.length;e++){let a=i[e];if(a&&t.store[a]>0&&(t.structureType==STRUCTURE_LAB||t.getNeeds(a)<0)){let e=this.findNeeding(r,a,1,t.id);if(e&&(s=e.amount),s>0){n=a;break}if(o&&o.active&&e&&e.structure.structureType==STRUCTURE_STORAGE&&a==RESOURCE_ENERGY){s=o.storeCapacity-o.sum,n=a;break}}}return n&&(s=Math.min(s,t.store[n]||0,e.carryCapacity-e.sum),a=this.unloadStructure(e,t,n,s)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-unloadTerminal",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:n,needs:s,workResult:a}),a==OK?this.assignDropOff(e,n):this.cancelAction(e),a}),this.unloadStorage=(e=>{let t=e.target,r=e.room,o=r.terminal,a=null,n=null,s=0,i=Object.keys(t.store);e.data.reallocating&&(i.unshift(e.data.reallocating),delete e.data.reallocating);for(let a=0;a<i.length;a++){let l=i[a];if(l&&t.store[l]>0){if(l==RESOURCE_ENERGY&&t.charge<.5)continue;let a=this.findNeeding(r,l,1,t.id);if(LOG_TRACE&&Log.trace("Action",{actionName:"reallocating",subAction:"findNeeding",roomName:r.name,creepName:e.name,structureId:a&&a.structure.id,resourceType:l,amount:a&&a.amount}),a&&a.structure.id==t.id&&(a=null),a&&(s=a.amount),s>0){n=l;break}if(o&&o.active&&a&&a.structure.structureType==STRUCTURE_TERMINAL&&l!=RESOURCE_ENERGY&&l!=RESOURCE_POWER){s=o.storeCapacity-o.sum,n=l;break}}}return n&&(s=Math.min(s,t.store[n]||0,e.carryCapacity-e.sum),a=this.unloadStructure(e,t,n,s)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-unloadStorage",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:n,needs:s,workResult:a}),a==OK?this.assignDropOff(e,n):this.cancelAction(e),a}),this.loadLab=(e=>{let t=e.target,r=e.room,o=null,a=null,n=0;if((n=t.getNeeds(RESOURCE_ENERGY))>0&&(e.carry.energy||0)>0)a=RESOURCE_ENERGY;else{let r=this.getLabOrder(t);r&&(a=r.type),(n=t.getNeeds(a))>0&&(e.carry[a]||0)>0||(a=null)}return a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadLab",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>1?this.assignDropOff(e,a):this.cancelAction(e),o}),this.loadPowerSpawn=(e=>{let t=e.target,r=e.room,o=null,a=null,n=0;return r.memory.resources&&void 0===r.memory.resources.powerSpawn&&(r.memory.resources.powerSpawn=[]),(n=t.getNeeds(RESOURCE_ENERGY))>0&&(e.carry.energy||0)>0?a=RESOURCE_ENERGY:(n=t.getNeeds(RESOURCE_POWER))>0&&(e.carry[RESOURCE_POWER]||0)>0&&(a=RESOURCE_POWER),a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadPowerSpawn",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>n?this.assignDropOff(e,a):this.cancelAction(e),o}),this.loadNuker=(e=>{let t=e.target,r=e.room;var o=null,a=null,n=0;return r.memory.resources&&void 0===r.memory.resources.nuker&&(r.memory.resources.nuker=[]),(n=t.getNeeds(RESOURCE_ENERGY))>0&&(e.carry.energy||0)>0?a=RESOURCE_ENERGY:(n=t.getNeeds(RESOURCE_GHODIUM))>0&&(e.carry[RESOURCE_GHODIUM]||0)>0&&(a=RESOURCE_GHODIUM),a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadNuker",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>n?this.assignDropOff(e,a):this.cancelAction(e),o}),this.loadContainer=(e=>{let t=e.target,r=e.room,o=null,a=null,n=0;for(let r in e.carry)if((!r||0!=e.carry[r])&&(n=t.getNeeds(r))>0){a=r;break}return a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadContainer",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>n?this.assignDropOff(e,a):this.cancelAction(e),o}),this.loadTerminal=(e=>{let t=e.target,r=e.room,o=null,a=null,n=0;for(let r in e.carry)if(!r||0!=e.carry[r]){if((n=t.getNeeds(r))>0){a=r;break}if(r!=RESOURCE_ENERGY&&r!=RESOURCE_POWER){a=r,n=t.storeCapacity-t.sum;break}}return a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadTerminal",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>n?this.assignDropOff(e,a):this.cancelAction(e),o}),this.loadStorage=(e=>{let t=e.target,r=e.room,o=null,a=null,n=0;for(let r in e.carry)if((!r||0!=e.carry[r])&&(n=t.getNeeds(r))>0){a=r;break}return a&&(o=this.loadStructure(e,t,a,n)),LOG_TRACE&&Log.trace("Action",{actionName:"reallocating-loadStorage",roomName:r.name,creepName:e.name,structureId:t.id,resourceType:a,needs:n,workResult:o}),(e.carry[a]||0)>n?this.assignDropOff(e,a):this.cancelAction(e),o}),this.work=(e=>{let t=null,r=e.room,o=e.target;if(r.storage,r.terminal,0==e.sum)switch(o.structureType){case STRUCTURE_LAB:t=this.unloadLab(e);break;case STRUCTURE_POWER_SPAWN:this.cancelAction(e);break;case STRUCTURE_CONTAINER:t=this.unloadContainer(e);break;case STRUCTURE_TERMINAL:t=this.unloadTerminal(e);break;case STRUCTURE_STORAGE:t=this.unloadStorage(e);break;default:this.cancelAction(e)}else switch(o.structureType){case STRUCTURE_LAB:t=this.loadLab(e);break;case STRUCTURE_POWER_SPAWN:t=this.loadPowerSpawn(e);break;case STRUCTURE_NUKER:t=this.loadNuker(e);break;case STRUCTURE_CONTAINER:t=this.loadContainer(e);break;case STRUCTURE_TERMINAL:t=this.loadTerminal(e);break;case STRUCTURE_STORAGE:t=this.loadStorage(e);break;default:this.cancelAction(e)}return t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("recycling"),this.isValidAction=(()=>!0),this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.newTarget=(e=>{let t=null;return e.room.my&&e.room.structures.spawns.length>0&&(t=e.pos.findClosestByRange(e.room.structures.spawns)),null==t&&(t=Game.spawns[e.data.motherSpawn]),null==t&&(t=e.pos.findClosestSpawn()),t}),this.work=(e=>{e.target.recycleCreep(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("repairing"),this.targetRange=3,this.maxPerTarget=1,this.reachedRange=(e=>e.getStrategyHandler([this.name],"reachedRange",e)),this.isValidAction=(e=>e.carry.energy>0),this.isValidTarget=(e=>null!=e&&e.hits&&e.hits<e.hitsMax),this.isAddableTarget=((e,t)=>(e instanceof OwnedStructure&&e.my||!t.room.controller||(!t.room.controller.owner||t.room.controller.my)&&(!t.room.controller.reservation||t.room.controller.reservation.username==t.owner.username))&&(!e.targetOf||e.targetOf.length<this.maxPerTarget)),this.newTarget=(e=>_.find(e.room.structures.urgentRepairable,t=>this.isAddableTarget(t,e))),this.work=(e=>(e.getStrategyHandler([this.name],"getEnergy",e),e.repair(e.target))),this.setDefault({eachedRange:1,getEnergy:e=>!1})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("reserving"),this.isValidAction=(e=>!0),this.isValidTarget=(e=>e&&(!e.reservation||e.reservation.ticksToEnd<4999)),this.isAddableAction=(()=>!0),this.isAddableTarget=((e,t)=>e&&(e instanceof Flag||"controller"===e.structureType&&!e.owner)),this.newTarget=(e=>{let t;return e.data.destiny&&(t=Game.flags[e.data.destiny.targetName||e.data.destiny.flagName]),t||(t=FlagManager.find(e=>FlagManager.compare(e,FLAG_COLOR.claim.reserve)||FlagManager.compare(e,FLAG_COLOR.invade.exploit),e.pos,!1,FlagManager.reserveMod,e.name)),t?(PopManager.registerCreepFlag(e,t),e.flag.room&&e.flag.pos.roomName==e.pos.roomName?e.flag.room.controller:e.flag):null}),this.step=(e=>{if(CHATTY&&e.say(this.name,SAY_PUBLIC),e.target.color)return e.flag.pos.roomName==e.pos.roomName&&(e.data.targetId=null),e.travelTo(e.target.pos);let t=e.pos.getRangeTo(e.target);if(t<=this.targetRange){let r=this.work(e);return r!=OK&&e.handleError({errorCode:r,action:this.name,target:e.target,range:t,creep:e}),r}return e.travelTo(e.target.pos)}),this.work=(e=>{let t;return e.controllerSign(),t=e.target.owner&&!e.target.my?e.attackController(e.target):e.reserveController(e.target)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("robbing"),this.maxPerTarget=2,this.maxPerAction=10,this.scoreMultiplier=1/Math.log(1.2),this.minimumTTL=500,this.isValidAction=(e=>e.sum<.95*e.carryCapacity&&!e.room.my),this.isValidTarget=(e=>!_.some(e.pos.lookFor(LOOK_STRUCTURES),{structureType:STRUCTURE_RAMPART,isPublic:!1,my:!1})&&e.structureType!==STRUCTURE_NUKER&&e.structureType!==STRUCTURE_POWER_SPAWN&&(e.store||e.energy||e.mineralAmount)),this.newTarget=(e=>{const t=e.room.structures.all;if(t.length){const r=_.chain(t).filter(e=>this.isValidTarget(e)).map(this.targetScore(e)).filter("score").sortBy("score").reverse().value();return _.get(r,[0,"target"],null)}return!1}),this.work=(e=>{const t=e.getStrategyHandler([this.name],"resourceValue",e),r=_.chain(Util.resources()).filter(t).sortBy(t).values().value();return this.targetCall(e,r,t=>(r,o,a)=>{const n=o?e.withdraw(t,r,o):0;return n?{amount:a,score:n}:{amount:o,score:n}})(e.target)}),this.targetScore=(e=>{const t=e.getStrategyHandler([this.name],"resourceValue",e),r=_.chain(Util.resources()).filter(t).sortBy(t).values().value();return this.targetCall(e,r,r=>e.getStrategyHandler([this.name],"resourceScore",e,r,t))}),this.targetCall=((e,t,r)=>o=>{const a=r(o);let n=0;return{target:o,score:n=o.store?this.storeCall(e,o,o.store,Util.valueOrZero,a,t):o.structureType===STRUCTURE_LAB?this.storeCall(e,o,{[RESOURCE_ENERGY]:o.energy,[o.mineralType]:o.mineralAmount},Util.valueOrZero,a):this.storeCall(e,o,{[RESOURCE_ENERGY]:o.energy},Util.valueOrZero,a)}}),this.storeCall=((e,t,r,o,a,n)=>{let s=e.carryCapacity-e.sum,i=0;n||(n=_.keys(r));for(let e=n.length-1;e>=0&&0!==s;e--){const t=n[e],l=Math.min(o(r[t]),s),{amount:m,score:u}=a(t,l<1?0:l,s);s-=m,i+=u}return i}),this.setDefault({moveOptions:e=>e,resourceValue:e=>{let t=e.ticksToLive<this.minimumTTL;if(!t&&e.data.homeRoom){const r=Game.rooms[e.data.homeRoom];t=r&&!r.storage}return t?e=>e===RESOURCE_ENERGY?1:0:e=>e===RESOURCE_ENERGY?.2:e===RESOURCE_POWER?500:e.length},resourceScore:(e,t,r)=>{const o=e.pos.getRangeTo(t),a=this.scoreMultiplier;return(e,t,n)=>0===t?{amount:0,score:0}:{amount:t,score:r(e)*t*(50-Math.log1p(o)*a)}}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("safeGen"),this.maxPerAction=1,this.isValidAction=(e=>e.carryCapacity-_.sum(e.carry)>=1e3||e.carry[RESOURCE_GHODIUM]&&e.carry[RESOURCE_GHODIUM]>=1e3),this.newTarget=(e=>{let t=null;return!e.carry[RESOURCE_GHODIUM]||e.carry[RESOURCE_GHODIUM]<1e3?e.room.storage&&e.room.storage.store[RESOURCE_GHODIUM]&&e.room.storage.store[RESOURCE_GHODIUM]>=1e3?t=e.room.storage:e.room.terminal&&e.room.terminal.store[RESOURCE_GHODIUM]&&e.room.terminal.store[RESOURCE_GHODIUM]>=1e3&&(t=e.room.terminal):t=e.room.controller,t}),this.unloadStructure=(e=>{let t=0;return t=e.carry[RESOURCE_GHODIUM]?1e3-e.carry[RESOURCE_GHODIUM]:1e3,e.withdraw(e.target,RESOURCE_GHODIUM,t)}),this.generateSafeMode=(e=>e.generateSafeMode(e.target)),this.work=(e=>{let t=null;switch(e.target.structureType){case STRUCTURE_STORAGE:case STRUCTURE_TERMINAL:t=this.unloadStructure(e);break;case STRUCTURE_CONTROLLER:t=this.generateSafeMode(e);break;default:"safeGen"==e.data.creepType&&Game.flags[e.data.destiny.targetName]&&Game.flags[e.data.destiny.targetName].remove(),this.cancelAction(e)}return t}),this.cancelAction=(e=>{delete e.data.actionName,delete e.data.targetId,e.action=null,e.target=null,delete e.data.path})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("storing"),this.isValidAction=(e=>e.room.storage&&e.room.storage.isActive()&&e.sum>0),this.isValidTarget=(e=>e&&e.store&&e.active&&e.sum<e.storeCapacity),this.isAddableTarget=((e,t)=>e.my&&(!e.targetOf||e.targetOf.length<this.maxPerTarget)&&e.sum+t.carry[RESOURCE_ENERGY]<e.storeCapacity),this.isValidMineralToTerminal=(e=>e.storage.store[e.mineralType]&&e.storage.store[e.mineralType]>1.05*MAX_STORAGE_MINERAL&&e.terminal.sum-e.terminal.store.energy+Math.max(e.terminal.store.energy,TERMINAL_ENERGY)<e.terminal.storeCapacity),this.newTarget=(e=>{let t=e.room.mineralType;return e.room.terminal&&e.room.terminal.active&&((e=>e.carry[t]&&e.carry[t]>0&&this.isValidMineralToTerminal(e.room))(e)||(e=>e.carry.energy>0&&e.room.storage.charge>.5&&e.room.terminal.store.energy<.95*TERMINAL_ENERGY&&e.room.terminal.sum<e.room.terminal.storeCapacity)(e))&&this.isAddableTarget(e.room.terminal,e)?e.room.terminal:this.isValidTarget(e.room.storage)&&this.isAddableTarget(e.room.storage,e)?e.room.storage:null}),this.work=(e=>{let t;for(let r in e.carry)if(e.carry[r]>0&&(t=e.transfer(e.target,r))!=OK)break;return delete e.data.actionName,delete e.data.targetId,t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("travelling"),this.isValidTarget=(e=>null!==e),this.isAddableAction=(()=>!0),this.isAddableTarget=(()=>!0),this.newTarget=(e=>e.getStrategyHandler([this.name],"newTarget",e)),this.step=(e=>{CHATTY&&e.say(this.name,SAY_PUBLIC);let t=_.get(e,["data","travelRange"],this.targetRange),r=e.target;if(FlagManager.isSpecialFlag(e.target))if(e.data.travelRoom){const o=Game.rooms[e.data.travelRoom];o&&o.name===e.pos.roomName?(e.leaveBorder(),r=null):(t=_.get(e,["data","travelRange"],TRAVELLING_BORDER_RANGE||22),r=new RoomPosition(25,25,e.data.travelRoom))}else Log.error(e.name+"CreepManager.action.travelling called with specialFlag target and travelRoom undefined."),r=null;if(r){if(e.pos.getRangeTo(r)<=t)return this.unregister(e);if(0===t&&e.pos.isNearTo(r)&&r.pos.lookFor(LOOK_CREEPS).length>0)return Log.module(e.name,"travelling.step: destination blocked, stopping."),this.unregister(e);e.travelTo(r,{range:t,ignoreCreeps:e.data.ignoreCreeps||!0})}else this.unregister(e)}),this.assignRoom=((e,t)=>{if(t)return _.isUndefined(e.data.travelRange)&&(e.data.travelRange=TRAVELLING_BORDER_RANGE||22),e.data.travelRoom=t,LOG_TRACE&&Log.trace("Action",{creepName:e.name,assign:this.name,roomName:t,Action:"assign"}),this.assign(e,FlagManager.specialFlag());Log.error(e.name+"CreepManager.action.travelling.assignRoom called with no room.")}),this.unregister=(e=>{delete e.action,delete e.target,delete e.data.actionName,delete e.data.ignoreCreeps,delete e.data.targetId,delete e.data.travelRoom,delete e.data.travelRange}),this.setDefault({newTarget:e=>e.data.travelPos||e.data.travelRoom?FlagManager.specialFlag():null})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("uncharging"),this.renewTarget=!1,this.maxPerTarget=1,this.isAddableAction=(e=>!0),this.isValidAction=(e=>e.getStrategyHandler([this.name],"isValidAction",e)),this.isValidTarget=((e,t)=>{if(!e)return!1;if("link"==e.structureType)return e.energy>0;if("container"==e.structureType){let r=0;return r=!0===e.source&&1==e.controller?e.storeCapacity*MANAGED_CONTAINER_TRIGGER:t.data.creepType.indexOf("remote")>=0?250:500,e.sum>r}return!1}),this.newTarget=(e=>{if(e.room.structures.links.storage.length>0){let t=e.room.structures.links.storage.find(e=>e.energy>0);if(t&&(!e.room.structures.links.controller.find(e=>e.energy<.15*e.energyCapacity)||t.energy<=.85*t.energyCapacity))return t}if(e.room.structures.container.in.length>0){let t;t=e.data.creepType.indexOf("remote")>=0?250:500;let r=null,o=0,a=a=>{if(this.isValidTarget(a,e)){let n=a.sum;if(a.targetOf&&(n-=_.sum(a.targetOf.map(e=>"uncharging"==e.actionName?e.carryCapacityLeft:0))),n<Math.min(e.carryCapacity-e.sum,t))return;n>o&&(o=n,r=a)}};return _.forEach(e.room.structures.container.in,a),r}}),this.work=(e=>{let t=OK;if(!0===e.target.source&&1==e.target.controller){let r=e.target.sum-e.target.storeCapacity*(1-MANAGED_CONTAINER_TRIGGER);if(r<1)t=ERR_NOT_ENOUGH_RESOURCES;else{let o=e.carryCapacity-e.sum,a=_.min([e.target.store.energy,r,o]);e.target._sum-=a,t=e.withdraw(e.target,RESOURCE_ENERGY,a)}}else if(null!=e.target.store){let r=r=>{e.target.store[r]>0&&(t=e.withdraw(e.target,r))};_.forEach(Object.keys(e.target.store),r)}else t=e.withdraw(e.target,RESOURCE_ENERGY);return delete e.data.actionName,delete e.data.targetId,e.action=null,e.target=null,t}),this.setDefault({isValidAction:e=>e.sum<e.carryCapacity||!1})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("upgrading"),this.targetRange=3,this.reachedRange=3,this.isAddableAction=(e=>!e.room.storage||e.room.storage.charge>1||!e.room.storage.my&&e.room.storage.store.energy>0),this.isAddableTarget=((e,t)=>!!(8!==e.level||t.data&&"upgrader"===t.data.creepType)),this.isValidAction=(e=>e.carry.energy>0),this.isValidTarget=(e=>e&&"controller"===e.structureType&&e.my),this.newTarget=(e=>{const t=e.room.controller&&e.room.controller.my?e.room.controller:null;return this.isValidTarget(t)&&this.isAddableTarget(t,e)&&t}),this.work=((e,t)=>(t&&t<2&&e.controllerSign(),e.upgradeController(e.target)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(1);t.default=new class extends o.CreepAction{constructor(){super("withdrawing"),this.isValidAction=(e=>e.getStrategyHandler([this.name],"isValidAction",e)),this.isValidTarget=(e=>!(e instanceof StructureTerminal&&e.charge<=0)&&e&&!!e.store&&e.store[RESOURCE_ENERGY]),this.newTarget=(e=>{const t=e.room.terminal,r=e.room.storage,o=[];return t&&this.isValidTarget(t)?o.push(t):r&&this.isValidTarget(r)&&o.push(r),!!o.length&&_.max(o,"charge")}),this.work=(e=>e.withdraw(e.target,RESOURCE_ENERGY)),this.assignDebounce=((e,t,r)=>{const o=r||this.newTarget(e);if(o){if(!(o instanceof StructureStorage&&"storing"===e.data.lastAction&&e.data.lastTarget===e.room.storage.id))return this.assign(e,o);{const r={carry:{},owner:e.owner,pos:e.pos,room:e.room,sum:e.carryCapacity},a=e.room.storage.store[RESOURCE_ENERGY],n=a>e.carryCapacity?e.carryCapacity:a;r.carry[RESOURCE_ENERGY]=n;let s=null;const i=_.find(t,e=>!("storing"===e.name||!e.isValidAction(r)||!e.isAddableAction(r)||!(s=e.newTarget(r))));if(i&&this.assign(e,o))return e.data.nextAction=i.name,e.data.nextTarget=s.id,!0}}return!1}),this.setDefault({isValidAction:e=>!!((e.room.storage&&e.room.storage.store[RESOURCE_ENERGY]||e.room.terminal&&e.room.terminal.store[RESOURCE_ENERGY])&&"privateer"!==e.data.creepType&&e.sum<e.carryCapacity&&(!e.room.lowDefenseEnergy||e.room.relativeEnergyAvailable<.8))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("claimer"),this.actions=(e=>[CreepManager.action.claiming,CreepManager.action.reserving,CreepManager.action.bulldozing]),this._run=this.run,this.run=(e=>{if(this._run(e),e.hits<e.hitsMax&&(!e.action||"travelling"!==e.action.name)&&e.data){if(!e.data.nearestHome||!Game.rooms[e.data.nearestHome]){const t=RoomManager.bestSpawnRoomFor(e.pos.roomName);t&&(e.data.nearestHome=t.name)}e.data.nearestHome&&CreepManager.action.travelling.assignRoom(e,e.data.nearestHome)}LOG_TRACE&&Log.trace("Behaviour",{creepName:e.name,run:e.action&&e.action.name||"none",[this.name]:"run",Behaviour:this.name})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("collapseWorker"),this.inflowActions=(e=>{let t=[CreepManager.action.picking,CreepManager.action.withdrawing,CreepManager.action.uncharging,CreepManager.action.harvesting,CreepManager.action.dismantling,CreepManager.action.reallocating];return e.sum>e.carry.energy&&t.unshift(CreepManager.action.storing),t}),this.outflowActions=(e=>{const t=e.room.situation.invasion&&e.room.controller&&e.room.RCL>2;if(t)return[CreepManager.action.feeding,CreepManager.action.fueling,CreepManager.action.repairing];{let r=[CreepManager.action.feeding,CreepManager.action.fueling,CreepManager.action.charging,CreepManager.action.repairing,CreepManager.action.building,CreepManager.action.fortifying,CreepManager.action.upgrading];return t||(r.push(CreepManager.action.storing),r.push(CreepManager.action.dropping)),e.room.controller&&e.room.controller.ticksToDowngrade<500&&r.unshift(CreepManager.action.upgrading),r}}),this.needEnergy=(e=>CreepManager.behaviour.worker.needEnergy(e)),this.nextAction=(e=>e.pos.roomName!==e.data.homeRoom?(LOG_TRACE&&Log.trace("Behaviour",{actionName:"travelling",behaviourName:this.name,creepName:e.name,assigned:!0,Behaviour:"nextAction",Action:"assign"}),CreepManager.action.travelling.assignRoom(e,e.data.homeRoom),!0):!e.room.collapsed&&(Util.set(e,["data","recycleTick"],Game.time+50),Game.time>=e.data.recycleTick)?(LOG_TRACE&&Log.trace("Behaviour",{actionName:"recycling",behaviourName:this.name,creepName:e.name,assigned:!0,Behaviour:"nextAction",Action:"assign"}),this.assignAction(e,"recycling")):CreepManager.behaviour.worker.nextAction(e)),this.mergeState({default:{canWithdrawEnergy:(e,t)=>e=>e>0}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("hauler"),this.inflowActions=(e=>[CreepManager.action.uncharging,CreepManager.action.picking,CreepManager.action.withdrawing,CreepManager.action.reallocating]),this.outflowActions=(e=>{let t=[CreepManager.action.feeding,CreepManager.action.charging,CreepManager.action.fueling,CreepManager.action.storing];return(e.sum>e.carry.energy||!e.room.situation.invasion&&SPAWN_DEFENSE_ON_ATTACK&&e.room.lowDefenseEnergy&&e.room.relativeEnergyAvailable>.8)&&t.unshift(CreepManager.action.storing),e.room.structures.urgentRepairable.length>0&&t.unshift(CreepManager.action.fueling),t}),this.nextAction=(e=>e.pos.roomName!=e.data.homeRoom&&Game.rooms[e.data.homeRoom]&&Game.rooms[e.data.homeRoom].controller?CreepManager.action.travelling.assignRoom(e,e.data.homeRoom):this.nextEnergyAction(e)),this.setState({picking:{name:`picking-${this.name}`,energyOnly:!1}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("healer"),this.actions=(e=>[CreepManager.action.healing,CreepManager.action.guarding]),this._invalidAction=this.invalidAction,this.invalidAction=(e=>this._invalidAction(e)||"guarding"===e.action.name)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("labTech"),this.inflowActions=(e=>[CreepManager.action.reallocating,CreepManager.action.withdrawing,CreepManager.action.uncharging,CreepManager.action.picking]),this.outflowActions=(e=>{let t=[CreepManager.action.storing,CreepManager.action.charging,CreepManager.action.fueling,CreepManager.action.feeding];return(e.sum>e.carry.energy||!e.room.situation.invasion&&SPAWN_DEFENSE_ON_ATTACK&&e.room.lowDefenseEnergy&&e.room.relativeEnergyAvailable>.8)&&t.unshift(CreepManager.action.storing),e.room.structures.urgentRepairable.length>0&&t.unshift(CreepManager.action.fueling),t}),this.nextAction=(e=>CreepManager.behaviour.hauler.nextAction(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("melee"),this.heal=(e=>{!e.attacking&&void 0!==e.data.body.heal&&e.hits<e.hitsMax&&e.heal(e)}),this.actions=(e=>[CreepManager.action.defending,CreepManager.action.invading,CreepManager.action.guarding]),this._invalidAction=this.invalidAction,this._run=this.run,this.setState({healing:{moveOptions:e=>(e.respectRamparts=!0,e)}}),this.invalidAction=(e=>this._invalidAction(e)||"guarding"===e.action.name&&(!e.flag||e.flag.pos.roomName===e.pos.roomName||e.leaveBorder())),this.run=(e=>{e.flee=e.flee||!e.hasActiveBodyparts([ATTACK,RANGED_ATTACK]),e.attacking=!1,e.attackingRanged=!1,this._run(e),this.heal(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("miner"),this.actions=(e=>[CreepManager.action.mining,CreepManager.action.recycling])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("mineralMiner"),this.actions=(e=>CreepManager.behaviour.miner.actions(e)),this.getEnergy=(e=>CreepManager.behaviour.miner.getEnergy(e)),this.maintain=(e=>CreepManager.behaviour.miner.maintain(e)),this.setState({mining:{newTarget:e=>_.find(e.room.minerals,t=>!_.find(Memory.population,r=>r.creepName!==e.name&&r.determinatedTarget===t.id))}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("remoteMiner"),this.actions=(e=>CreepManager.behaviour.miner.actions(e)),this.getEnergy=(e=>CreepManager.behaviour.miner.getEnergy(e)),this.maintain=(e=>CreepManager.behaviour.miner.maintain(e)),this._run=this.run,this.run=(e=>{if(!CreepManager.action.avoiding.run(e)){const t=e.data.destiny&&Game.flags[e.data.destiny.targetName];t?e.room.name!==e.data.destiny.room&&CreepManager.action.travelling.assignRoom(e,t.pos.roomName):e.action&&"recycling"===e.action.name||this.assignAction(e,"recycling"),this._run(e)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("remoteHauler"),this.nextAction=(e=>{if(!e.data.destiny||!Game.flags[e.data.destiny.targetName])return CreepManager.action.recycling.assign(e);if(e.pos.roomName==e.data.homeRoom){if(e.sum>0){let t=[];if(e.carry.energy==e.sum&&(t=e.room.structures.links.privateers),e.room.storage&&t.push(e.room.storage),e.room.structures.container&&(t=t.concat(e.room.structures.container.privateers)),t.length>0){let r=e.pos.findClosestByRange(t);if(r.structureType==STRUCTURE_STORAGE&&this.assignAction(e,"storing",r))return;if(this.assignAction(e,"charging",r))return;if(this.assignAction(e,"storing"))return}if(this.assignAction(e,"charging"))return;if(this.assignAction(e,"feeding"))return;if(this.assignAction(e,"dropping"))return;{const t=t=>{e.carry[t]>0&&e.drop(t)};return _.forEach(Object.keys(e.carry),t),this.assignAction(e,"idle")}}if(this.gotoTargetRoom(e))return}else{if(e.data.destiny.room==e.pos.roomName){if(e.sum/e.carryCapacity>REMOTE_HAULER.MIN_LOAD)return void this.goHome(e);if(this.assignAction(e,"uncharging"))return;if(this.assignAction(e,"picking"))return;if(0===e.sum){let t=e.pos.findClosestByRange(e.room.sources);if(e.room&&t&&e.pos.getRangeTo(t)>3)return e.data.travelRange=3,this.assignAction(e,"travelling",t)}return this.assignAction(e,"idle")}{let t=!1;if(t=e.sum/e.carryCapacity>REMOTE_HAULER.MIN_LOAD?this.goHome(e):this.gotoTargetRoom(e))return}}let t=Game.spawns[e.data.motherSpawn];t&&this.assignAction(e,CreepManager.action.recycling,t)}),this.gotoTargetRoom=(e=>{const t=e.data.destiny?Game.flags[e.data.destiny.targetName]:null;if(t)return CreepManager.action.travelling.assignRoom(e,t.pos.roomName)}),this.goHome=(e=>CreepManager.action.travelling.assignRoom(e,e.data.homeRoom)),this.setState({picking:{name:`picking-${this.name}`,energyOnly:!1}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("remoteWorker"),this.inflowActions=(e=>[CreepManager.action.picking,CreepManager.action.uncharging,CreepManager.action.withdrawing,CreepManager.action.harvesting]),this.outflowActions=(e=>[CreepManager.action.repairing,CreepManager.action.building,CreepManager.action.recycling]),this.needEnergy=(e=>e.sum<.8*e.carryCapacity),this.nextAction=(e=>e.data.destiny&&Game.flags[e.data.destiny.targetName]||e.action&&"recycling"===e.action.name?e.data.destiny.room===e.pos.roomName?this.nextEnergyAction(e):this.gotoTargetRoom(e):this.assignAction(e,"recycling")),this.gotoTargetRoom=(e=>{const t=e.data.destiny?Game.flags[e.data.destiny.targetName]:null;if(t)return CreepManager.action.travelling.assignRoom(e,t.pos.roomName)}),this._run=this.run,this.run=(e=>{CreepManager.action.avoiding.run(e)||this._run(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("pioneer"),this.inflowActions=(e=>CreepManager.behaviour.worker.inflowActions(e)),this.outflowActions=(e=>{let t;return t=e.room.controller&&e.room.RCL<2?[CreepManager.action.feeding,CreepManager.action.upgrading,CreepManager.action.building,CreepManager.action.repairing,CreepManager.action.fueling,CreepManager.action.fortifying,CreepManager.action.charging,CreepManager.action.storing,CreepManager.action.picking]:[CreepManager.action.feeding,CreepManager.action.building,CreepManager.action.repairing,CreepManager.action.fueling,CreepManager.action.fortifying,CreepManager.action.charging,CreepManager.action.upgrading,CreepManager.action.storing,CreepManager.action.picking],e.room.controller&&e.room.controller.ticksToDowngrade<2e3&&t.unshift(CreepManager.action.upgrading),e.sum>e.carry.energy&&t.unshift(CreepManager.action.storing),t}),this.nextAction=(e=>{let t;if(e.data.destiny&&(t=Game.flags[e.data.destiny.flagName]),t){if((!t.room||t.pos.roomName!=e.pos.roomName)&&CreepManager.action.travelling.assignRoom(e,t.pos.roomName))return PopManager.registerCreepFlag(e,t),!0;if(t.room&&t.room.my){let r=FlagManager.find(FLAG_COLOR.claim.spawn,e.pos,!0);if(r)if(r.room.structures.spawns&&r.room.structures.spawns.length>0){r.remove();let e=e=>Game.flags[e.name].remove();_.forEach(FlagManager.filter(FLAG_COLOR.invade.exploit,r.pos,!0),e)}else t.room.myConstructionSites.some(e=>e.structureType===STRUCTURE_SPAWN)||t.room.createConstructionSite(r,STRUCTURE_SPAWN)}}return this.nextEnergyAction(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("privateer"),this.nextAction=(e=>{let t=e.sum;if(e.pos.roomName==e.data.homeRoom){if(t>0){let r=[];if(e.carry.energy==t&&(r=e.room.structures.links.privateers),e.room.storage&&r.push(e.room.storage),e.room.structures.container&&(r=r.concat(e.room.structures.container.privateers)),r.length>0){let t=e.pos.findClosestByRange(r);if(t.structureType===STRUCTURE_STORAGE&&this.assignAction(e,"storing",t))return;if(this.assignAction(e,"charging",t))return}if(this.assignAction(e,"charging"))return;if(!e.room.ally&&this.assignAction(e,"storing"))return;return void CreepManager.behaviour.worker.nextAction(e)}this.exploitNextRoom(e)||CreepManager.behaviour.worker.nextAction(e)}else if(e.flag&&e.flag.pos.roomName==e.pos.roomName){if(e.room.situation.invasion&&!e.flag.compareTo(FLAG_COLOR.invade.robbing))return e.flag.cloaking=50,void this.exploitNextRoom(e);if(e.sum<.4*e.carryCapacity)if(0===e.room.sourceEnergyAvailable)e.flag.cloaking=_.max([e.room.ticksToNextRegeneration-20,0]),this.exploitNextRoom(e);else{let t=[CreepManager.action.dismantling,CreepManager.action.picking,CreepManager.action.robbing,CreepManager.action.harvesting];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))return}e.flag.cloaking=50,this.exploitNextRoom(e)}else{const t=[CreepManager.action.building];for(let r=0;r<t.length;r++){let o=t[r];if(o.isValidAction(e)&&o.isAddableAction(e)&&o.assign(e))return}PopManager.registerCreepFlag(e,null),CreepManager.action.travelling.assignRoom(e,e.data.homeRoom)}}else this.exploitNextRoom(e)}),this.exploitNextRoom=(e=>{if(e.sum<.4*e.carryCapacity){const t=e=>FlagManager.compare(e,FLAG_COLOR.invade.exploit)||FlagManager.compare(e,FLAG_COLOR.invade.robbing),r=FlagManager.find(t,new RoomPosition(25,25,e.data.homeRoom),!1,FlagManager.exploitMod,e.name);if(r&&CreepManager.action.travelling.assignRoom(e,r.pos.roomName))return PopManager.registerCreepFlag(e,r),!0}return PopManager.registerCreepFlag(e,null),e.room.name!==e.data.homeRoom&&CreepManager.action.travelling.assignRoom(e,e.data.homeRoom),!1}),this._invalidAction=this.invalidAction,this._run=this.run,this.setState({withdrawing:{name:`withdrawing-${this.name}`,isValidAction:e=>!1}}),this.invalidAction=(e=>this._invalidAction(e)||!e.flag),this.run=(e=>{if(this._run(e),e.hits<e.hitsMax&&(!e.action||"travelling"!==e.action.name)&&e.data){if(!e.data.nearestHome||!Game.rooms[e.data.nearestHome]){const t=RoomManager.bestSpawnRoomFor(e.pos.roomName);t&&(e.data.nearestHome=t.name)}e.data.nearestHome&&CreepManager.action.travelling.assignRoom(e,e.data.nearestHome)}LOG_TRACE&&Log.trace("Behaviour",{creepName:e.name,run:e.action&&e.action.name||"none",[this.name]:"run",Behaviour:this.name})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("recycler"),this.actions=(e=>[CreepManager.action.picking,CreepManager.action.withdrawing,CreepManager.action.uncharging,CreepManager.action.travelling,CreepManager.action.storing,CreepManager.action.feeding,CreepManager.action.dropping,CreepManager.action.recycling,CreepManager.action.idle]),this._invalidAction=this.invalidAction,this.setState({recycling:{name:`recycling-${this.name}`,isValidAction:e=>!e.sum},uncharging:{name:`uncharging-${this.name}`,isValidAction:e=>e.data.travelRoom&&e.sum<e.carryCapacity||!1},withdrawing:{name:`withdrawing-${this.name}`,isValidAction:e=>e.data.travelRoom&&e.room.storage&&e.room.storage.store.energy>0&&e.sum<e.carryCapacity||!1},travelling:{name:`travelling-${this.name}`,newTarget:e=>{if(!e.data.travelRoom)if(e.data.travelPos)e.data.travelRoom=e.data.travelPos.roomName;else{if(e.room.structures.spawns.length)return null;e.data.travelRoom=e.data.homeRoom}const t=Game.rooms[e.data.travelRoom];let r=t&&(t.storage||t.structures.spawns[0]);return r||e}}}),this.invalidAction=(e=>!(!this._invalidAction(e)&&e.action.isMember(this.actions())||(delete e.data.targetId,delete e.data.path,0)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("ranger"),this.heal=(e=>{!e.attacking&&void 0!==e.data.body.heal&&e.hits<e.hitsMax&&e.heal(e)}),this.actions=(e=>[CreepManager.action.defending,CreepManager.action.healing,CreepManager.action.invading,CreepManager.action.guarding]),this._run=this.run,this.setState({healing:{moveOptions:e=>(e.respectRamparts=!0,e)}}),this.run=(e=>{e.flee=e.flee||!e.hasActiveBodyparts([ATTACK,RANGED_ATTACK]),e.attacking=!1,e.attackingRanged=!1,this._run(e),this.heal(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("upgrader"),this.invalidCreep=(e=>["miner","upgrader"].includes(e.data.creepType)&&e.data.determinatedSpot&&(e.data.ttl>e.data.spawningTime||e.data.ttl>e.data.predictedRenewal)),this.approach=(e=>{let t=new RoomPosition(e.data.determinatedSpot.x,e.data.determinatedSpot.y,e.pos.roomName),r=e.pos.getRangeTo(t);if(r>0){e.data.movingToTarget=!0;const o=t.lookFor(LOOK_CREEPS),a=o.length?1:0;1===r&&o.length&&_.some(o,this.invalidCreep)&&delete e.data.determinatedSpot,e.travelTo(t,{range:a})}else e.data.movingToTarget&&(e.room.invalidateCostMatrix(),delete e.data.movingToTarget);return r}),this.run=(e=>{if(e.room.controller.upgradeBlocked)return void(e.data.creepType="recycler");if(e.room.RCL<6)return this.upgrading(e);const t=e.room.memory.boostCreep;return e.ticksToLive>1200&&t&&t.creepType===e.data.creepType&&t.ready?e.data.boost&&e.data.boost.done?this.upgrading(e):this.boosting(e,t.id):this.upgrading(e)}),this.boosting=((e,t)=>{if(!e.action||"boosting"!==e.action.name||!e.data.boost){const r=Game.getObjectById(t);PopManager.registerAction(e,CreepManager.action.boosting,r),e.data.boost={done:!1}}const r=e.target;_.isUndefined(e.data.boost.x)&&(e.data.boost.x=r.pos.x,e.data.boost.y=r.pos.y);const o=new RoomPosition(e.data.boost.x,e.data.boost.y,e.pos.roomName);e.travelTo(o);const a=_.filter(e.body,e=>!_.isUndefined(e.boost)).length;0===a?CreepManager.action.boosting.work(e):(Log.room(e.room,Util.emoji.boosting,Dye(COLOR_GREEN,this.name,`boost ${r.mineralType} to ${a} parts!`)),e.data.boost.done=!0)}),this.upgrading=(e=>{if(e.action&&"upgrading"===e.action.name||PopManager.registerAction(e,CreepManager.action.upgrading,e.room.controller),e.data.determinatedSpot){if(CHATTY&&e.say("upgrading",SAY_PUBLIC),this.approach(e),e.room.controller&&e.pos.getRangeTo(e.room.controller)<=3){let t=e.data.body&&e.data.body.work?e.data.body.work:e.carryCapacity/2;if(e.carry.energy<=t){let t=_.find(e.room.structures.links.controller,t=>t.energy>0&&e.pos.isNearTo(t));t||(t=_.find(e.room.structures.container.controller,t=>t.store[RESOURCE_ENERGY]>0&&e.pos.isNearTo(t))),t||(t=e.room.storage&&e.room.storage.charge>0&&e.pos.isNearTo(e.room.storage)),t||(t=e.room.terminal&&e.room.terminal.store[RESOURCE_ENERGY]>.5*TERMINAL_ENERGY&&e.pos.isNearTo(e.room.terminal)),t&&e.withdraw(t,RESOURCE_ENERGY)}e.controllerSign(),e.upgradeController(e.room.controller)}}else{let t=(t=!1)=>{let r=r=>{let o={spots:[{pos:e.room.controller.pos,range:3},{pos:r.pos,range:1}],checkWalkable:!0,where:r=>!_.some(r.lookFor(LOOK_CREEPS),this.invalidCreep)&&(t||0===r.findInRange(e.room.sources,1).length),roomName:e.pos.roomName};return RoomManager.fieldsInRange(o)},o=e.room.structures.links.controller?_.flatten(_.map(e.room.structures.links.controller,r)):[],a=e.room.structures.container.controller?_.flatten(_.map(e.room.structures.container.controller,r)):[],n=e.room.storage?r(e.room.storage):[],s=e.room.terminal?r(e.room.terminal):[];if(o.length){let e=[];return 0===e.length&&a.length&&(e=_.filter(o,e=>_.some(a,t=>t.isEqualTo(e)))),0===e.length&&n.length&&(e=_.filter(o,e=>_.some(n,t=>t.isEqualTo(e)))),0===e.length&&s.length&&(e=_.filter(o,e=>_.some(s,t=>t.isEqualTo(e)))),e.length?e:o}return a.length?a:n.length?n:s},r=t();if(r.length>0&&(r=t(!0)),r.length>0){let t=e.pos.findClosestByPath(r,{filter:t=>!_.some(e.room.lookForAt(LOOK_STRUCTURES,t),{structureType:STRUCTURE_ROAD})});if(t||(t=e.pos.findClosestByPath(r)||r[0]),t){e.data.determinatedSpot={x:t.x,y:t.y};let r=Game.spawns[e.data.motherSpawn];if(r){let o=t.findPathTo(r,{ignoreCreeps:!0});const a=e.data.body?Math.ceil(e.data.body.work/(2*e.data.body.move)):1;o&&(e.data.predictedRenewal=e.data.spawningTime+o.length*a)}}}e.data.determinatedSpot?SAY_ASSIGNMENT&&e.say(Util.emoji.reload,SAY_PUBLIC):Log.error("Unable to determine working location for upgrader in room "+e.pos.roomName)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("worker"),this.inflowActions=(e=>{let t=[CreepManager.action.bulldozing,CreepManager.action.picking,CreepManager.action.dismantling,CreepManager.action.withdrawing,CreepManager.action.uncharging,CreepManager.action.harvesting,CreepManager.action.reallocating];return e.sum>e.carry.energy&&t.unshift(CreepManager.action.storing),t}),this.outflowActions=(e=>{if(e.room.situation.invasion&&e.room.controller&&e.room.RCL>2)return[CreepManager.action.fueling,CreepManager.action.feeding,CreepManager.action.repairing];{let t=[CreepManager.action.repairing,CreepManager.action.feeding,CreepManager.action.building,CreepManager.action.fueling,CreepManager.action.fortifying,CreepManager.action.charging,CreepManager.action.upgrading,CreepManager.action.storing];const r=e=>{const t=e.population&&e.population.typeCount;return!t.hauler||t.hauler<1||!t.miner||t.miner<1};return e.room.relativeEnergyAvailable<1&&r(e.room)&&t.unshift(CreepManager.action.feeding),e.room.controller&&e.room.controller.ticksToDowngrade<2e3&&t.unshift(CreepManager.action.upgrading),e.sum>e.carry.energy&&t.unshift(CreepManager.action.storing),t.unshift(CreepManager.action.bulldozing),t}}),this.nextAction=(e=>"worker"==e.data.creepType&&e.pos.roomName!=e.data.homeRoom&&Game.rooms[e.data.homeRoom]&&Game.rooms[e.data.homeRoom].controller?(LOG_TRACE&&Log.trace("Behaviour",{actionName:"travelling",behaviourName:this.name,creepName:e.name,assigned:!0,Behaviour:"nextAction",Action:"assign"}),CreepManager.action.travelling.assignRoom(e,e.data.homeRoom),!0):this.nextEnergyAction(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2);t.default=new class extends o.CreepBehaviour{constructor(){super("safeGen"),this.actions=(e=>[CreepManager.action.safeGen,CreepManager.action.recycling])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("hauler"),this.maxMulti=(e=>{let t=7;e.minerals.length>0&&(t+=2);let r=_.sum(e.structures.container.in,"sum");return r+=_.sum(e.droppedResources,"amount"),t+=Math.floor(r/1e3),t+=CreepManager.setup.upgrader._maxMulti(e),Math.min(t,16)}),this.maxCount=(e=>{if(!e.population)return 0;let t=0,r=e.population.typeCount.miner||0,o=e.population.typeCount.worker||0,a=e.population.typeCount.mineralMiner||0,n=e.structures.container.in.length+e.structures.links.storage.length;if(r>0||n>0&&o>CreepManager.setup.worker._maxCount(e)){e.storage&&e.storage.id===e.controller.memory.storage||(t+=Math.round(CreepManager.setup.upgrader._maxCount(e)/2)),(e.structures.links.all.length<3||e.storage&&e.storage.active&&e.storage.charge>1&&e.structures.container.controller&&0==_.sum(e.structures.container.controller,"store.energy"))&&t++,a>0&&t++;let r=0,o=t=>e.sources.some(e=>e.pos.x===t.x&&e.pos.y===t.y),n=e=>{e.resourceType===RESOURCE_ENERGY&&e.pos.adjacent.some(o)&&(r+=e.amount)};e.droppedResources.forEach(n),0===t&&(t=1)}return t}),this.maxWeight=(e=>2e3*this._maxCount(e)),this.minControllerLevel=2}get default(){return{fixedBody:[WORK,CARRY,MOVE],multiBody:[CARRY,CARRY,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:.4,maxMulti:e=>this.maxMulti(e),maxCount:e=>this.maxCount(e),maxWeight:e=>this.maxWeight(e)}}get high(){return{fixedBody:[WORK,CARRY,MOVE],multiBody:[CARRY,CARRY,MOVE],minAbsEnergyAvailable:200,minEnergyAvailable:.1,maxMulti:e=>this.maxMulti(e),maxCount:e=>this.maxCount(e),maxWeight:e=>this.maxWeight(e)}}get RCL(){return{1:this.none,2:this.none,3:this.default,4:this.default,5:this.default,6:this.default,7:this.default,8:this.high}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("healer"),this.minControllerLevel=7,this.globalMeasurement=!0}get RCL(){return{1:this.none,2:this.none,3:this.none,4:this.none,5:this.none,6:this.none,7:{fixedBody:[],multiBody:[MOVE,HEAL],minAbsEnergyAvailable:300,minEnergyAvailable:.8,maxMulti:4,maxCount:0,maxWeight:0},8:{fixedBody:[],multiBody:[MOVE,HEAL],minAbsEnergyAvailable:300,minEnergyAvailable:.8,maxMulti:4,maxCount:0,maxWeight:0}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("miner"),this.minControllerLevel=1}get default(){return{fixedBody:{[CARRY]:1,[MOVE]:1,[WORK]:4},multiBody:[WORK,MOVE],minAbsEnergyAvailable:500,minEnergyAvailable:.3,maxMulti:2,maxCount:e=>e.sources.length}}get low(){return{fixedBody:[WORK,WORK,MOVE],multiBody:[WORK],minAbsEnergyAvailable:250,minEnergyAvailable:.9,maxMulti:3,maxCount:e=>e.sources.length}}get high(){return{fixedBody:{[CARRY]:1,[MOVE]:1,[WORK]:4},multiBody:[WORK,MOVE],minAbsEnergyAvailable:500,minEnergyAvailable:.1,maxMulti:2,maxCount:e=>e.sources.length}}get RCL(){return{1:this.low,2:this.low,3:this.default,4:this.default,5:this.default,6:this.default,7:this.default,8:this.high}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("mineralMiner"),this.maxCount=(e=>{if(e.memory.noMineralMiners)return 0;let t=0;if(0===(e.population.typeCount.hauler||0))return 0;if(e.storage&&e.storage.sum<.9*e.storage.storeCapacity){let r=e=>{e.mineralAmount>0&&t++};e.minerals.forEach(r)}return t}),this.minControllerLevel=6}get default(){return{fixedBody:{[CARRY]:1,[MOVE]:1,[WORK]:3},multiBody:{[MOVE]:1,[WORK]:3},minAbsEnergyAvailable:750,minEnergyAvailable:.3,maxMulti:11,minMulti:1,maxCount:e=>this.maxCount(e)}}get RCL(){return{1:this.none,2:this.none,3:this.none,4:this.none,5:this.none,6:this.default,7:this.default,8:this.default}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("privateer"),this.minControllerLevel=3,this.globalMeasurement=!0,this.measureByHome=!0}get default(){return{fixedBody:[WORK,CARRY,MOVE],multiBody:[WORK,CARRY,MOVE],minAbsEnergyAvailable:400,minEnergyAvailable:.8,maxMulti:15,minMulti:e=>e.RCL,maxWeight:e=>e.privateerMaxWeight}}get RCL(){return{1:this.none,2:this.none,3:this.default,4:this.default,5:this.default,6:this.default,7:this.default,8:this.default}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("upgrader"),this.maxMulti=(e=>{let t=0;const r=e.storage&&e.storage.active?e.storage.charge:0;if((!e.storage||e.storage.active&&r>0)&&t++,(!e.storage||e.storage.active&&r>.5)&&t++,e.storage&&e.storage.active&&r>=1){let r=e.storage.store.energy-MAX_STORAGE_ENERGY[e.RCL];t+=Math.ceil(r/2e4)}return Math.min(11,t)}),this.maxCount=(e=>{const t=_.get(e,["memory","addUpgrader"],0);if(e.situation.invasion||e.lowDefenseEnergy||e.structures.container.controller.length+e.structures.links.controller.length===0||e.controller.upgradeBlocked||e.myConstructionSites.length>0&&!e.storage)return 0;if(8==e.RCL)return 1;let r=0;if(e.structures.container.controller.forEach(e=>r+=e.store.energy),e.structures.links.controller.forEach(e=>r+=e.energy),0===r)return 0;if(e.storage&&e.storage.active)return t+Math.max(1,Math.floor((e.storage.store.energy-MAX_STORAGE_ENERGY[e.RCL])/35e4));if(e.droppedResources){let t=0,r=t=>e.sources.some(e=>e.pos.x===t.x&&e.pos.y===t.y),o=e=>{e.resourceType===RESOURCE_ENERGY&&e.pos.adjacent.some(r)&&(t+=e.amount)};e.droppedResources.forEach(o)}return t+2}),this.minControllerLevel=2}get default(){return{fixedBody:{[CARRY]:1,[MOVE]:1,[WORK]:2},multiBody:{[MOVE]:1,[WORK]:3},minAbsEnergyAvailable:400,minEnergyAvailable:.5,maxMulti:e=>this.maxMulti(e),maxCount:e=>this.maxCount(e)}}get low(){return{fixedBody:{[CARRY]:1,[MOVE]:1,[WORK]:2},multiBody:{[MOVE]:1,[WORK]:2},minAbsEnergyAvailable:300,minEnergyAvailable:1,maxMulti:e=>this.maxMulti(e),maxCount:e=>this.maxCount(e)}}get level8(){return{fixedBody:{[CARRY]:1,[MOVE]:3},multiBody:[WORK],minAbsEnergyAvailable:1700,minEnergyAvailable:.5,maxMulti:CONTROLLER_MAX_UPGRADE_PER_TICK/UPGRADE_CONTROLLER_POWER,maxCount:e=>this.maxCount(e)}}get RCL(){return{1:this.none,2:this.low,3:this.default,4:this.default,5:this.default,6:this.default,7:this.default,8:this.level8}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(6);t.default=new class extends o.CreepSetup{constructor(){super("worker"),this.maxWorker=(e=>{let t=0;return(e.structures.fortifyable.length>0||e.isCriticallyFortifyable)&&(t++,e.storage&&e.storage.store.energy>4e5&&(t+=2)),e.RCL<4?e.situation.invasion?1:(2===e.RCL?3*e.sources.length:2*e.sources.length)-(e.population&&e.population.typeCount.pioneer||0):(this.hasMinerOrHauler(e)||t++,e.myConstructionSites.length>0&&(!e.storage||!e.storage.active||e.storage.store&&e.storage.charge>0)&&t<=1&&t++,t)}),this.hasMinerOrHauler=(e=>!!e.population&&(e.population.typeCount.hauler>0||e.population.typeCount.miner>0)),this.byPopulation=((e,t,r,o)=>{let a=t;return e.population&&(a+=e.population.typeCount[this.type]*r),!o||a<=o?a:o}),this.minEnergyAvailable=(e=>{switch(e.RCL){case 1:return this.byPopulation(e,0,1,1);case 2:return this.byPopulation(e,0,.8,1);case 3:return this.byPopulation(e,0,.6,1);case 4:return this.hasMinerOrHauler(e)?.5:0;case 7:return this.hasMinerOrHauler(e)?.2:1;default:return this.hasMinerOrHauler(e)?.1:1}}),this.maxMulti=((e,t,r,o)=>_.min([Math.floor((e.energyCapacityAvailable-t)/r),Math.floor(50/o)]))}get default(){return{fixedBody:[],multiBody:{[CARRY]:1,[WORK]:1,[MOVE]:1},minMulti:1,maxMulti:e=>this.maxMulti(e,0,200,_.size(this.default.multiBody)),maxWeight:9600,maxCount:e=>this.maxWorker(e),minEnergyAvailable:e=>this.minEnergyAvailable(e)}}get low(){return{fixedBody:[],multiBody:{[CARRY]:1,[WORK]:1,[MOVE]:2},minMulti:1,maxMulti:8,maxWeight:e=>2===e.RCL?14400:4e3,maxCount:e=>this.maxWorker(e),minEnergyAvailable:e=>this.minEnergyAvailable(e)}}get RCL(){return{1:this.low,2:this.low,3:this.default,4:this.default,5:this.default,6:this.default,7:this.default,8:this.default}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4),a=r(9);t.default=new class extends o.Component{constructor(){super(...arguments),this.pathfinderCache={},this.pathfinderCacheDirty=!1,this.pathfinderCacheLoaded=!1,this.COSTMATRIX_CACHE_VERSION=COMPRESS_COST_MATRICES?4:5,this.extend=(()=>{for(const e of Object.keys(RoomManager.extra))RoomManager.extra[e].extend&&RoomManager.extra[e].extend()}),this.fresh=(()=>{a.Install(RoomManager,{newInvader:new o.EventConstructor,knownInvader:new o.EventConstructor,goneInvader:new o.EventConstructor,collapsed:new o.EventConstructor,costMatrixInvalid:new o.EventConstructor,RCLChange:new o.EventConstructor});for(const e of Object.keys(RoomManager.extra))RoomManager.extra[e].fresh&&RoomManager.extra[e].fresh();_.forEach(Game.rooms,e=>{_.forEach(RoomManager.extra,t=>{t.freshRoom&&t.freshRoom(e)})})}),this.register=(()=>{_.forEach(RoomManager.extra,e=>{e.register&&e.register()}),RoomManager.costMatrixInvalid.on(e=>this.rebuildCostMatrix(e.name||e)),RoomManager.RCLChange.on(e=>e.structures.all.filter(e=>![STRUCTURE_ROAD,STRUCTURE_WALL,STRUCTURE_RAMPART].includes(e.structureType)).forEach(t=>{t.isActive()||_.set(e.memory,["structures",t.id,"active"],!1)}))}),this.analyze=(()=>{_.forEach(RoomManager.extra,e=>{e.analyze&&e.analyze()});const e=e=>{try{const t=e.name,r=_.includes(CPU_CHECK_CONFIG.ROOM,t);for(const o of Object.keys(RoomManager.extra))r&&CPU.check("analyze",t,o),RoomManager.extra[o].analyzeRoom&&RoomManager.extra[o].analyzeRoom(e,this.needMemoryResync(e)),r&&CPU.end("analyze",t,o);r&&CPU.check("analyze",t,"countMySites"),this.totalSitesChanged()&&e.countMySites(),r&&CPU.end("analyze",t,"countMySites"),r&&CPU.check("analyze",t,"countMyStructures"),this.totalStructuresChanged()&&e.countMyStructures(),r&&CPU.end("analyze",t,"countMyStructures"),e.checkRCL()}catch(t){Game.notify(t+"<br/>"+t.stack),Log.error(`Error in room.js (RoomManager.prototype.loop) for "${e.name}":`,"<br/>",t.stack||t.toString(),"<br/>",t.stack)}};_.forEach(Game.rooms,t=>{t.skip||e(t)})}),this.run=(()=>{_.forEach(RoomManager.extra,e=>{e.run&&e.run()}),_.forEach(Memory.rooms,(e,t)=>{((e,t)=>{try{const r=_.includes(CPU_CHECK_CONFIG.ROOM,t);for(const o of Object.keys(RoomManager.extra))r&&CPU.check("run",t,o),RoomManager.extra[o].runRoom&&RoomManager.extra[o].runRoom(e,t),r&&CPU.end("run",t,o);r&&CPU.check("run",t,"collapsed");const o=Game.rooms[t];o&&o.collapsed&&RoomManager.collapsed.trigger(o),r&&CPU.end("run",t,"collapsed")}catch(e){Log.error(e.stack||e.message)}})(e,t),Game.time%MEMORY_RESYNC_INTERVAL!=0||Game.rooms[t]||_.isBoolean(Memory.rooms[t].hostile)||delete Memory.rooms[t]})}),this.cleanup=(()=>{if(_.forEach(RoomManager.extra,e=>{e.cleanup&&e.cleanup()}),_.isUndefined(Memory.pathfinder)||(MemoryManager.saveSegment(MEM_SEGMENTS.COSTMATRIX_CACHE,Memory.pathfinder),delete Memory.pathfinder),this.pathfinderCacheDirty&&this.pathfinderCacheLoaded){let e={};for(const t in this.pathfinderCache){const r=this.pathfinderCache[t];r.version===this.COSTMATRIX_CACHE_VERSION&&(e[t]={serializedMatrix:r.serializedMatrix||(COMPRESS_COST_MATRICES?CompressedMatrix.serialize(r.costMatrix):r.costMatrix.serialize()),updated:r.updated,version:r.version},r.stale&&(e[t].stale=!0))}MemoryManager.saveSegment(MEM_SEGMENTS.COSTMATRIX_CACHE,e),this.pathfinderCacheDirty=!1}}),this.totalSitesChanged=(()=>{let e;if(Game.time!==Memory.rooms.myTotalSitesChangeTime){const t=_.size(Game.constructionSites),r=Memory.rooms.myTotalSites||0;e=r&&r!==t,Memory.rooms.myTotalSitesChange=e,Memory.rooms.myTotalSitesChangeTime=Game.time,t>0?Memory.rooms.myTotalSites=t:delete Memory.rooms.myTotalSites}else e=Memory.rooms.myTotalSitesChange;return e}),this.totalStructuresChanged=(()=>{let e;if(Game.time!==Memory.rooms.myTotalStructuresChangeTime){const t=Object.keys(Game.structures).length,r=Memory.rooms.myTotalStructures||0;e=r&&r!==t,Memory.rooms.myTotalStructuresChange=e,Memory.rooms.myTotalStructuresChangeTime=Game.time,t>0?Memory.rooms.myTotalStructures=t:delete Memory.rooms.myTotalStructures}else e=Memory.rooms.myTotalStructuresChange;return e}),this.needMemoryResync=(e=>_.isUndefined(e.memory.initialized)?(e.memory.initialized=Game.time,!0):Game.time%MEMORY_RESYNC_INTERVAL==0||"sim"==e.name),this.routeCallback=((e,t,r)=>((_.isUndefined(e)||_.isUndefined(t))&&Log.error("RoomManager.routeCallback","both origin and destination must be defined - origin:"+e+" destination:"+t),o=>{if(Game.map.getRoomLinearDistance(e,o)>r.restrictDistance)return!1;if(o!==t&&ROUTE_ROOM_COST[Game.shard.name]&&ROUTE_ROOM_COST[Game.shard.name][o])return ROUTE_ROOM_COST[Game.shard.name][o];let a=!1;if(r.preferHighway){const e=/^[WE]([0-9]+)[NS]([0-9]+)$/.exec(o);a=e[1]%10==0||e[2]%10==0}let n=!1;const s=_.get(Memory.rooms[o],"hostile",!1);if(r.checkOwner){const e=Game.rooms[o];n=!s||e&&e.controller&&(e.controller.my||void 0===e.controller.owner)}return!r.allowSK&&this.isSKRoom(o)?10:!r.allowHostile&&s&&o!==t&&o!==e?Number.POSITIVE_INFINITY:n||o==e||o==t?1:a?3:Game.map.isRoomAvailable(o)?r.checkOwner||r.preferHighway?11:1:Number.POSITIVE_INFINITY})),this.getCostMatrix=(e=>{let t=Game.rooms[e];if(t)return t.costMatrix}),this.isMine=(e=>{let t=Game.rooms[e];return t&&t.my}),this.calcCardinalDirection=(e=>{const t=/^([WE])[0-9]+([NS])[0-9]+$/.exec(e);return[t[1],t[2]]}),this.calcGlobalCoordinates=((e,t)=>{if(!t)return null;const r=/^[WE]([0-9]+)[NS]([0-9]+)$/.exec(e);return t(+r[1],+r[2])}),this.calcCoordinates=((e,t)=>t?this.calcGlobalCoordinates(e,(e,r)=>t(e%10,r%10)):null),this.isCenterRoom=(e=>RoomManager.calcCoordinates(e,(e,t)=>5===e&&5===t)),this.isCenterNineRoom=(e=>RoomManager.calcCoordinates(e,(e,t)=>e>3&&e<7&&t>3&&t<7)),this.isControllerRoom=(e=>RoomManager.calcCoordinates(e,(e,t)=>0!==e&&0!==t&&(e<4||e>6||t<4||t>6))),this.isSKRoom=(e=>RoomManager.calcCoordinates(e,(e,t)=>e>3&&e<7&&t>3&&t<7&&(5!==e||5!==t))),this.isHighwayRoom=(e=>RoomManager.calcCoordinates(e,(e,t)=>0===e||0===t)),this.adjacentRooms=(e=>{let t=e.split(/([NESW])/),r=["N","E","S","W"],o=e=>r[(r.indexOf(e)+2)%4],a=[];for(let e=parseInt(t[2])-1;e<parseInt(t[2])+2;e++)for(let r=parseInt(t[4])-1;r<parseInt(t[4])+2;r++)a.push((e<0?o(t[1])+"0":t[1]+e)+(r<0?o(t[3])+"0":t[3]+r));return a}),this.adjacentAccessibleRooms=((e,t=!0)=>{let r=[],o=Game.map.describeExits(e);return _.forEach(o,(e,o)=>{if(t){let t=Game.map.describeExits(e),a=(o+1)%8+1,n=(o+5)%8+1;t&&t[a]&&!r.includes(t[a])&&r.push(t[a]),t&&t[n]&&!r.includes(t[n])&&r.push(t[n])}r.push(e)}),r}),this.roomDistance=((e,t,r,o)=>{if(r)return Game.map.getRoomLinearDistance(e,t,o);if(e==t)return 0;let a=e.split(/([NESW])/),n=t.split(/([NESW])/);return(a[1]==n[1]?Math.abs(a[2]-n[2]):a[2]+n[2]+1)+(a[3]==n[3]?Math.abs(a[4]-n[4]):a[4]+n[4]+1)}),this.rebuildCostMatrix=(e=>{Log.room(e,Dye(COLOR_ORANGE,"Invalidating costmatrix to force a rebuild when we have vision.")),_.set(Room,["pathfinderCache",e,"stale"],!0),_.set(Room,["pathfinderCache",e,"updated"],Game.time),this.pathfinderCacheDirty=!0}),this.loadCostMatrixCache=(e=>{let t=0;for(const r in e)(!this.pathfinderCache[r]||this.pathfinderCache[r].updated<e[r].updated)&&(t++,this.pathfinderCache[r]=e[r]);t>0&&Log.module("Memory","Loading pathfinder cache...updated ",Dye(COLOR_BLUE,`${t} stale`)," entries."),this.pathfinderCacheLoaded=!0}),this.getCachedStructureMatrix=(e=>{if((e=>{if(_.isUndefined(this.pathfinderCache))return this.pathfinderCache={},this.pathfinderCache[e]={},!1;if(_.isUndefined(this.pathfinderCache[e]))return this.pathfinderCache[e]={},!1;const t=this.pathfinderCache[e],r=Game.time-t.updated;return!(t.version!==this.COSTMATRIX_CACHE_VERSION||!t.serializedMatrix&&!t.costMatrix||t.stale||!(r<COST_MATRIX_VALIDITY)||(LOG_TRACE&&Log.trace("PathFinder",{roomName:e,ttl:r,PathFinder:"CostMatrix"},"cached costmatrix"),0))})(e)){const t=this.pathfinderCache[e];if(t.costMatrix)return t.costMatrix;if(t.serializedMatrix){const e=COMPRESS_COST_MATRICES?CompressedMatrix.deserialize(t.serializedMatrix):PathFinder.CostMatrix.deserialize(t.serializedMatrix);return t.costMatrix=e,e}Log.error("RoomManager.getCachedStructureMatrix",`Cached costmatrix for ${e} is invalid ${t}`),delete this.pathfinderCache[e]}}),this.getStructureMatrix=((e,t)=>{const r=Game.rooms[e];let o;return(o=this.isSKRoom(e)&&t.avoidSKCreeps?_.get(r,"avoidSKMatrix"):_.get(r,"structureMatrix"))||(o=_.get(this.getCachedStructureMatrix(e),"costMatrix")),o}),this.validFields=((e,t,r,o,a,n=!1,s=null)=>{const i=Game.rooms[e],l=n?i.lookAtArea(o,t,a,r):null;let m=[];for(let u=t;u<=r;u++)for(let t=o;t<=a;t++)if(u>1&&u<48&&t>1&&t<48&&(!n||i.isWalkable(u,t,l))){let r=new RoomPosition(u,t,e);s&&!s(r)||m.push(r)}return m}),this.fieldsInRange=(e=>{let t=e.spots.map(e=>e.pos.x+e.range),r=e.spots.map(e=>e.pos.y+e.range),o=e.spots.map(e=>e.pos.x-e.range),a=e.spots.map(e=>e.pos.y-e.range),n=Math.max(...o),s=Math.min(...t),i=Math.max(...a),l=Math.min(...r);return this.validFields(e.roomName,n,s,i,l,e.checkWalkable,e.where)}),this.shouldRepair=((e,t)=>t.hits<t.hitsMax&&(!e.my||t.hits<MAX_REPAIR_LIMIT[e.RCL]||t.hits<LIMIT_URGENT_REPAIRING+(2*DECAY_AMOUNT[t.structureType]||0))&&(!DECAYABLES.includes(t.structureType)||t.hitsMax-t.hits>GAP_REPAIR_DECAYABLE)&&(void 0===Memory.pavementArt[e.name]||Memory.pavementArt[e.name].indexOf("x"+t.pos.x+"y"+t.pos.y+"x")<0)&&!FlagManager.list.some(e=>e.roomName==t.pos.roomName&&e.color==COLOR_ORANGE&&e.x==t.pos.x&&e.y==t.pos.y))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("construction"),this.register=(()=>{FlagManager.found.on(e=>RoomManager.roomLayout(e))}),this.analyzeRoom=((e,t)=>{t&&e.processConstructionFlags(),e.roadConstruction()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({constructionSites:{get(){return _.isUndefined(this._constructionSites)&&(this._constructionSites=this.find(FIND_CONSTRUCTION_SITES)),this._constructionSites}},myConstructionSites:{get(){return _.isUndefined(this._myConstructionSites)&&(this._myConstructionSites=this.find(FIND_MY_CONSTRUCTION_SITES)),this._myConstructionSites}},roadConstructionTrace:{get(){return _.isUndefined(this.memory.roadConstructionTrace)&&(this.memory.roadConstructionTrace={}),this.memory.roadConstructionTrace},set(e){this.memory.roadConstructionTrace=e}},getBestConstructionSiteFor:{value(e,t=null){let r;if(0==(r=t?this.constructionSites.filter(t):this.constructionSites).length)return null;let o=Util.fieldOrFunction(CONSTRUCTION_PRIORITY,this);return _.min(r,t=>{let r=o.indexOf(t.structureType);return e.getRangeTo(t)+(r<0?1e5:100*r)})}},roadConstruction:{value(e=ROAD_CONSTRUCTION_MIN_DEVIATION){const t=ROAD_CONSTRUCTION_FORCED_ROOMS[Game.shard.name]&&-1!=ROAD_CONSTRUCTION_FORCED_ROOMS[Game.shard.name].indexOf(this.name);if(!ROAD_CONSTRUCTION_ENABLE&&!t||Game.time%ROAD_CONSTRUCTION_INTERVAL!=0)return;if(!t&&_.isNumber(ROAD_CONSTRUCTION_ENABLE)&&(!this.my||ROAD_CONSTRUCTION_ENABLE>this.controller.level))return;let r=Object.keys(this.roadConstructionTrace).map(e=>({n:this.roadConstructionTrace[e],x:e.charCodeAt(0)-32,y:e.charCodeAt(1)-32})),o=Math.max(ROAD_CONSTRUCTION_ABS_MIN,r.reduce((e,t)=>e+t.n,0)/r.length*e);r=r.filter(e=>{if(e.n>=o){let t=this.lookForAt(LOOK_STRUCTURES,e.x,e.y);return(0===t.length||t[0].structureType===STRUCTURE_RAMPART)&&0===this.lookForAt(LOOK_CONSTRUCTION_SITES,e.x,e.y).length}return!1}),_.forEach(r,e=>{Log.module(this.name,`Constructing new road at ${e.x}'${e.y} (${e.n} Log.traces)`),this.createConstructionSite(e.x,e.y,STRUCTURE_ROAD)}),this.roadConstructionTrace={}}},processConstructionFlags:{value(){if(!this.my||!Util.fieldOrFunction(SEMI_AUTOMATIC_CONSTRUCTION,this))return;let e=_.size(Game.constructionSites);if(e>=100)return;const t=this.controller.level,r=[new RoomPosition(25,25,this.name),!0],o=(t,r)=>{if(e>=100)return;if(!t)return;const o=new RoomPosition(t.x,t.y,t.roomName);if(!o)return;const a=o.lookFor(LOOK_CONSTRUCTION_SITES);if(a&&a.length)return;const n=o.lookFor(LOOK_STRUCTURES).filter(e=>!(e instanceof StructureRoad||e instanceof StructureRampart));if(n&&n.length)return;const s=o.createConstructionSite(r);Util.fieldOrFunction(REMOVE_CONSTRUCTION_FLAG,this,r)&&s===OK&&(t.name&&(t=Game.flags[t.name])instanceof Flag&&t.remove(),e++)};let a=CONTROLLER_STRUCTURES[STRUCTURE_EXTENSION][t]-(this.structures.extensions.length+_.filter(this.constructionSites,e=>e.structureType===STRUCTURE_EXTENSION).length);if(a>0&&FlagManager.filter(FLAG_COLOR.construct,...r).splice(0,a).forEach(e=>{o(e,STRUCTURE_EXTENSION)}),(a=CONTROLLER_STRUCTURES[STRUCTURE_SPAWN][t]-(this.structures.spawns.length+_.filter(this.constructionSites,e=>e.structureType===STRUCTURE_SPAWN).length))>0&&FlagManager.filter(FLAG_COLOR.construct.spawn,...r).splice(0,a).forEach(e=>{o(e,STRUCTURE_SPAWN)}),(a=CONTROLLER_STRUCTURES[STRUCTURE_TOWER][t]-(this.structures.towers.length+_.filter(this.constructionSites,e=>e.structureType===STRUCTURE_TOWER).length))>0&&FlagManager.filter(FLAG_COLOR.construct.tower,...r).splice(0,a).forEach(e=>{o(e,STRUCTURE_TOWER)}),(a=CONTROLLER_STRUCTURES[STRUCTURE_LINK][t]-(this.structures.links.all.length+_.filter(this.constructionSites,e=>e.structureType===STRUCTURE_LINK).length))>0&&FlagManager.filter(FLAG_COLOR.construct.link,...r).splice(0,a).forEach(e=>{o(e,STRUCTURE_LINK)}),(a=CONTROLLER_STRUCTURES[STRUCTURE_LAB][t]-(this.structures.labs.all.length+_.filter(this.constructionSites,e=>e.structureType===STRUCTURE_LAB).length))>0&&FlagManager.filter(FLAG_COLOR.construct.lab,...r).splice(0,a).forEach(e=>{o(e,STRUCTURE_LAB)}),!this.storage&&CONTROLLER_STRUCTURES[STRUCTURE_STORAGE][t]>0&&FlagManager.filter(FLAG_COLOR.construct.storage,...r).splice(0,1).forEach(e=>{o(e,STRUCTURE_STORAGE)}),!this.terminal&&CONTROLLER_STRUCTURES[STRUCTURE_TERMINAL][t]>0&&FlagManager.filter(FLAG_COLOR.construct.terminal,...r).splice(0,1).forEach(e=>{o(e,STRUCTURE_TERMINAL)}),!this.structures.observer&&CONTROLLER_STRUCTURES[STRUCTURE_OBSERVER][t]>0&&FlagManager.filter(FLAG_COLOR.construct.observer,...r).splice(0,1).forEach(e=>{o(e,STRUCTURE_OBSERVER)}),!this.structures.nuker&&CONTROLLER_STRUCTURES[STRUCTURE_NUKER][t]>0&&FlagManager.filter(FLAG_COLOR.construct.nuker,...r).splice(0,1).forEach(e=>{o(e,STRUCTURE_NUKER)}),!this.structures.powerSpawn&&CONTROLLER_STRUCTURES[STRUCTURE_POWER_SPAWN][t]>0&&FlagManager.filter(FLAG_COLOR.construct.powerSpawn,...r).splice(0,1).forEach(e=>{o(e,STRUCTURE_POWER_SPAWN)}),CONTROLLER_STRUCTURES[STRUCTURE_EXTRACTOR][t]>0){const[e]=this.find(FIND_MINERALS),t=e.pos.lookFor(LOOK_STRUCTURES);if(t.length&&t[0]instanceof StructureExtractor)return;o(e.pos,STRUCTURE_EXTRACTOR)}}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({roomLayoutArray:[[null,null,null,null,null,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION],[null,null,null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_TOWER,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_SPAWN,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_TOWER,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION],[STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_NUKER,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION],[STRUCTURE_ROAD,STRUCTURE_TOWER,STRUCTURE_EXTENSION,STRUCTURE_SPAWN,STRUCTURE_ROAD,STRUCTURE_POWER_SPAWN,STRUCTURE_LINK,STRUCTURE_TERMINAL,STRUCTURE_ROAD,STRUCTURE_OBSERVER,STRUCTURE_EXTENSION,STRUCTURE_TOWER,STRUCTURE_ROAD],[STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_STORAGE,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION],[null,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION],[null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_TOWER,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_SPAWN,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,null,null,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_TOWER,STRUCTURE_ROAD,STRUCTURE_EXTENSION,STRUCTURE_ROAD],[null,null,null,null,null,STRUCTURE_EXTENSION,STRUCTURE_ROAD,STRUCTURE_EXTENSION]],roomLayout:e=>{if(!FlagManager.compare(e,FLAG_COLOR.command.roomLayout))return;const t=(e=Game.flags[e.name]).room;if(!t)return;const r=RoomManager.roomLayoutArray,o={[STRUCTURE_SPAWN]:FLAG_COLOR.construct.spawn,[STRUCTURE_TOWER]:FLAG_COLOR.construct.tower,[STRUCTURE_EXTENSION]:FLAG_COLOR.construct,[STRUCTURE_LINK]:FLAG_COLOR.construct.link,[STRUCTURE_STORAGE]:FLAG_COLOR.construct.storage,[STRUCTURE_TERMINAL]:FLAG_COLOR.construct.terminal,[STRUCTURE_NUKER]:FLAG_COLOR.construct.nuker,[STRUCTURE_POWER_SPAWN]:FLAG_COLOR.construct.powerSpawn,[STRUCTURE_OBSERVER]:FLAG_COLOR.construct.observer},[a,n]=[e.pos.x,e.pos.y],s=[],i=[],l=()=>(e.pos.newFlag(FLAG_COLOR.command.invalidPosition,"NO_ROOM"),e.remove(),!1);for(let e=0;e<r.length;e++)for(let m=0;m<r[e].length;m++){const u=Math.floor(a+(e-r.length/2)+1),d=Math.floor(n+(m-r.length/2)+1);if(u>=50||u<0||d>=50||d<0)return l();const c=t.getPositionAt(u,d),_=r[e]&&r[e][m];if(_){if("wall"===Game.map.getTerrainAt(c))return l();if(_===STRUCTURE_ROAD)i.push(c);else{const e=o[_];s.push({flagColour:e,pos:c})}}}s.forEach(e=>{e.pos.newFlag(e.flagColour)}),_.forEach(i,e=>{if(_.size(Game.constructionSites)>=100)return!1;e.createConstructionSite(STRUCTURE_ROAD)}),e.remove()}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("container"),this.analyzeRoom=((e,t)=>{t&&e.saveContainers()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({saveContainers:{value(){let e=this.structures.all.filter(e=>e.structureType==STRUCTURE_CONTAINER);if(e.length>0){this.memory.container=[];let t=e=>{let t=this.find(FIND_MINERALS),r=e.pos.findInRange(this.sources,2),o=e.pos.findInRange(t,2),a=!!(this.my&&e.pos.getRangeTo(this.controller)<=3);this.memory.container.push({id:e.id,source:r.length>0,controller:a,mineral:o.length>0});let n=t=>t.memory.container=e.id;r.forEach(n),o.forEach(n)};e.forEach(t)}else delete this.memory.container;if(this.terminal){let e=[],t=t=>{e=_(e).concat(RoomManager.validFields(this.name,t.pos.x-1,t.pos.x+1,t.pos.y-1,t.pos.y+1,!0))};_.forEach(this.sources,t);let r=this.terminal.pos.findClosestByRange(e,1),o=[];r&&(1==this.sources.length?o=this.sources:o.push(r.isNearTo(this.sources[0])?this.sources[0]:this.sources[1]));let a=this.terminal.pos.findInRange(this.minerals,2),n=e=>e.memory.terminal=this.terminal.id;o.forEach(n),a.forEach(n),this.terminal.pos.getRangeTo(this.controller)<4&&(this.controller.memory.storage=this.terminal.id)}if(this.storage){let e=this.storage.pos.findInRange(this.sources,2),t=this.storage.pos.findInRange(this.minerals,2),r=e=>e.memory.storage=this.storage.id;e.forEach(r),t.forEach(r),this.storage.pos.getRangeTo(this.controller)<4&&(this.controller.memory.storage=this.storage.id)}}},findContainerWith:{value(e,t){t||(t=1);let r=this.memory;if(r&&r.container&&r.container.length>0)for(let o=0;o<r.container.length;o++){let a=r.container[o],n=Game.getObjectById(a.id);if(n){let r=-n.getNeeds(e);if((!this.structures.container.out.includes(n)||e!==RESOURCE_ENERGY)&&r>0&&r>=t)return{structure:n,amount:r}}}return null}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({Containers:function(e){this.room=e,Object.defineProperties(this,{all:{get(){if(_.isUndefined(this._container)){this._container=[];let e=e=>{let t=Game.getObjectById(e.id);t&&(_.assign(t,e),this._container.push(t))};_.forEach(this.room.memory.container,e)}return this._container}},controller:{get(){if(_.isUndefined(this._controller))if(this.room.my&&this.room.controller.memory.storage)this._controller=[Game.getObjectById(this.room.controller.memory.storage)],this._controller[0]||delete this.room.controller.memory.storage;else{let e=e=>1==e.controller;this._controller=_.filter(this.all,e)}return this._controller}},in:{get(){if(_.isUndefined(this._in)){let e=e=>0==e.controller;this._in=_.filter(this.all,e);let t=e=>e.sum>=e.storeCapacity*(1-MANAGED_CONTAINER_TRIGGER);this._in=this._in.concat(this.managed.filter(t))}return this._in}},out:{get(){if(_.isUndefined(this._out)){let e=e=>1==e.controller;this._out=_.filter(this.all,e);let t=e=>e.sum<=e.storeCapacity*MANAGED_CONTAINER_TRIGGER;this._out=this._out.concat(this.managed.filter(t))}return this._out}},privateers:{get(){if(_.isUndefined(this._privateers)){let e=e=>!1===e.source&&!e.mineral&&e.sum<e.storeCapacity;this._privateers=_.filter(this.all,e)}return this._privateers}},managed:{get(){if(_.isUndefined(this._managed)){let e=e=>!0===e.source&&1==e.controller;this._managed=_.filter(this.all,e)}return this._managed}}})}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("defense"),this.analyzeRoom=(e=>{(e.hostiles.length||e.memory.hostileIds&&e.memory.hostileIds.length)&&e.processInvaders()}),this.runRoom=((e,t)=>{const r=Game.rooms[t];r?(r.goneInvader.forEach(this._triggerGoneInvaders),r.hostileIds.forEach(this._triggerKnownInvaders),r.newInvader.forEach(this._triggerNewInvaders)):e.hostileIds&&_.forEach(e.hostileIds,this._triggerKnownInvaders)}),this.freshRoom=(e=>{e.newInvader=[],e.goneInvader=[]}),this._triggerNewInvaders=(e=>{const t=_.countBy(e.body,"type");(NOTIFICATE_INVADER||NOTIFICATE_INTRUDER&&e.room.my||NOTIFICATE_HOSTILES)&&(Log.room(e.pos.roomName,Dye(COLOR_RED,`Hostile intruder from "${e.owner.username}".`)),Log.table(t)),(NOTIFICATE_INVADER||NOTIFICATE_INTRUDER&&"Invader"!==e.owner.username&&"Source Keeper"!==e.owner.username&&e.room.my||NOTIFICATE_HOSTILES&&"Invader"!==e.owner.username&&"Source Keeper"!==e.owner.username)&&Game.notify(`Hostile intruder ${e.id} (${JSON.stringify(t)}) from "${e.owner.username}" in room ${e.pos.roomName} at ${Util.toDateTimeString(Util.toLocalDate(new Date))}`),RoomManager.newInvader.trigger(e)}),this._triggerKnownInvaders=(e=>RoomManager.knownInvader.trigger(e)),this._triggerGoneInvaders=(e=>RoomManager.goneInvader.trigger(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("extension"),this.analyzeRoom=((e,t)=>{t&&e.saveExtensions()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({saveExtensions:{value(){const e=this.find(FIND_MY_STRUCTURES,{filter:e=>e instanceof StructureExtension}).map(e=>e.id);e.length>0?this.memory.extensions=e:delete this.memory.extensions}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("lab"),this.analyzeRoom=((e,t)=>{t&&e.saveLabs(),e.structures.labs.all.length>0&&e.processLabs()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({saveLabs:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_LAB});if(e.length>0){this.memory.labs=[];let t=this.storage?this.storage.pos.findInRange(e,2).map(e=>e.id):[];this.memory.labs=[];let r=e=>{this.memory.labs.find(t=>t.id==e.id)||this.memory.labs.push({id:e.id,storage:t.includes(e.id)})};e.forEach(r)}else delete this.memory.labs}},processLabs:{value(){if(Game.time%LAB_COOLDOWN!=5)return;let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_LAB});if(!this.memory.resources)return;let t=e.filter(e=>{let t=this.memory.resources.lab.find(t=>t.id==e.id);return!!t&&t.slave_a&&t.slave_b});for(let e=0;e<t.length;e++){let r=t[e];if(r.cooldown>0)continue;let o=this.memory.resources.lab.find(e=>e.id==r.id);if(!o)continue;let a=o.reactionType;if(r.mineralAmount>0&&r.mineralType!=a)continue;let n=Game.getObjectById(o.slave_a),s=Game.getObjectById(o.slave_b);n&&n.mineralType==LAB_REACTIONS[a][0]&&s&&s.mineralType==LAB_REACTIONS[a][1]&&r.runReaction(n,s)==OK&&(o.reactionAmount-=LAB_REACTION_AMOUNT,LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"processLabs",labId:r.id,resourceType:a,amountRemaining:o.reactionAmount}),o.reactionAmount<=0&&this.cancelReactionOrder(r.id))}let r=this.memory.resources.reactions;if(r)switch(r.reactorType){case REACTOR_TYPE_FLOWER:this.processReactorFlower()}}},processReactorFlower:{value(){let e=this.memory.resources.reactions;if(!e||e.reactorType!==REACTOR_TYPE_FLOWER)return;for(let t=0;t<e.orders.length&&e.orders[t].amount<LAB_REACTION_AMOUNT;t++)e.orders.splice(t--,1);if(0===e.orders.length){let t=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_LAB});for(let e=0;e<t.length;e++){let r=t[e],o=this.memory.resources.lab.find(e=>e.id===r.id);!o||o.reactionState!==LAB_IDLE&&o.reactionState!==LAB_SEED||this.cancelReactionOrder(r.id)}return void(e.reactorMode=REACTOR_MODE_IDLE)}let t=e.orders[0];switch(e.reactorMode=t.mode,e.reactorMode){case REACTOR_MODE_BURST:this.processReactorFlowerBurst()}}},processReactorFlowerBurst:{value(){let e=this.memory.resources.reactions;if(!e||e.reactorType!==REACTOR_TYPE_FLOWER||e.reactorMode!==REACTOR_MODE_BURST)return;let t=e.orders[0];if(t.mode!==REACTOR_MODE_BURST)return;let r=LAB_REACTIONS[t.type][0],o=LAB_REACTIONS[t.type][1],a=Game.getObjectById(e.seed_a),n=Game.getObjectById(e.seed_b),s=_.filter(Game.rooms,{my:!0}),i=!1,l=!1,m=e=>{let t=0;for(let r of s){if(r.name===this.name)continue;let o=r.resourcesAll[e]||0;o>=MIN_OFFER_AMOUNT&&(t+=o)}return t},u=m(r),d=m(o);if(!a||!n)return;let c=this.memory.resources.lab.find(t=>t.id===e.seed_a),h=this.memory.resources.lab.find(t=>t.id===e.seed_b);if(!c||!_.some(c.orders,"type",r)){this.placeOrder(e.seed_a,r,t.amount),l=!0;const o=(this.resourcesStorage[r]||0)+(this.resourcesTerminal[r]||0)+(this.resourcesLabs[r]||0);let a=(this.resourcesOffers[r]||0)+t.amount-o,n=Util.roundUpTo(a,MIN_OFFER_AMOUNT);a<TRADE_THRESHOLD&&a>0?u>=TRADE_THRESHOLD?a=TRADE_THRESHOLD:u>=n&&(a=n):a>0&&n<=u&&(a=n),a>0&&a<=u&&(this.placeRoomOrder(e.seed_a,r,a),i=!0),(c=this.memory.resources.lab.find(t=>t.id===e.seed_a)).reactionType=r}if(!h||!_.some(h.orders,"type",o)){this.placeOrder(e.seed_b,o,t.amount),l=!0;const r=(this.resourcesStorage[o]||0)+(this.resourcesTerminal[o]||0)+(this.resourcesLabs[o]||0);let a=(this.resourcesOffers[o]||0)+t.amount-r,n=Util.roundUpTo(a,MIN_OFFER_AMOUNT);a<TRADE_THRESHOLD&&a>0?d>=TRADE_THRESHOLD?a=TRADE_THRESHOLD:d>=n&&(a=n):a>0&&n<=d&&(a=n),a>0&&a<=d&&(this.placeRoomOrder(e.seed_b,o,a),i=!0),(h=this.memory.resources.lab.find(t=>t.id===e.seed_b)).reactionType=o}if(!c||!h)return;let p=c.orders.find(e=>e.type===r),y=h.orders.find(e=>e.type===o);if(!p||p.amount<t.amount){let o=t.amount-(p?p.orderAmount:0);this.placeOrder(e.seed_a,r,o),l=!0;const a=(this.resourcesStorage[r]||0)+(this.resourcesTerminal[r]||0)+(this.resourcesLabs[r]||0);let n=(this.resourcesOffers[r]||0)+t.amount-a,s=Util.roundUpTo(n,MIN_OFFER_AMOUNT);n<TRADE_THRESHOLD&&n>0?u>=TRADE_THRESHOLD?n=TRADE_THRESHOLD:u>=s&&(n=s):n>0&&s<=u&&(n=s),n>0&&n<=u&&(this.placeRoomOrder(e.seed_a,r,n),i=!0),n>0&&(this.placeRoomOrder(e.seed_a,r,n),i=!0)}if(!y||y.amount<t.amount){let r=t.amount-(y?y.orderAmount:0);this.placeOrder(e.seed_b,o,r),l=!0;const a=(this.resourcesStorage[o]||0)+(this.resourcesTerminal[o]||0)+(this.resourcesLabs[o]||0);let n=(this.resourcesOffers[o]||0)+t.amount-a,s=Util.roundUpTo(n,MIN_OFFER_AMOUNT);n<TRADE_THRESHOLD&&n>0?d>=TRADE_THRESHOLD?n=TRADE_THRESHOLD:d>=s&&(n=s):n>0&&s<=d&&(n=s),n>0&&n<=d&&(this.placeRoomOrder(e.seed_b,o,n),i=!0),n>0&&(this.placeRoomOrder(e.seed_b,o,n),i=!0)}let f=this.memory.resources.boostTiming;i?(f.roomState="ordersPlaced",this.GCOrders()):l&&(f.roomState="ordersPlaced");let g=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_LAB}).filter(e=>{let t=this.memory.resources.lab.find(t=>t.id===e.id),r=this.memory.resources.reactions;return!t||t.reactionState===LAB_IDLE&&(t.id!==r.seed_a||t.id!==r.seed_b)});for(let e=0;e<g.length;e++){let r=g[e],o=this.memory.resources.lab.find(e=>e.id===r.id);o||(this.prepareReactionOrder(r.id,t.type,t.amount),o=this.memory.resources.lab.find(e=>e.id===r.id)),o&&(o.reactionType=t.type)}if(a.mineralType!==r||n.mineralType!==o)return;let M=Math.floor(Math.min(a.mineralAmount,n.mineralAmount,t.amount)/LAB_REACTION_AMOUNT);if(0===M)return;let T=0;for(let e=0;e<g.length;e++){let r=g[e];if(!(r.cooldown>0)&&(0===r.mineralAmount||r.mineralType===t.type&&r.mineralAmount<=r.mineralCapacity-LAB_REACTION_AMOUNT&&T<M)){T++;let e=r.runReaction(a,n);e===OK?(t.amount-=LAB_REACTION_AMOUNT,LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"processLabs",reactorType:REACTOR_TYPE_FLOWER,labId:r.id,resourceType:t.type,amountRemaining:t.amount})):Log.module(this.name,`${this.name} runReactions not OK. returnValue: ${Util.translateErrorCode(e)}`)}}}},cancelReactionOrder:{value(e,t){let r=this.memory.resources.lab.find(t=>t.id==e);if(!t||_.matches(t)(e)){if(r){r.slave_a&&this.cancelReactionOrder(r.slave_a,{master:e}),r.slave_b&&this.cancelReactionOrder(r.slave_b,{master:e}),[LAB_MASTER,LAB_SLAVE_1,LAB_SLAVE_2,LAB_SLAVE_3].includes(r.reactionState)&&(r.reactionState=LAB_IDLE),delete r.reactionType,delete r.reactionAmount,delete r.master,delete r.slave_a,delete r.slave_b,void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.orders&&(this.memory.resources.orders=[]),this.memory.resources.orders;for(let e=0;e<r.orders.length;e++){let t=r.orders[e];t.type!=RESOURCE_ENERGY&&(t.orderAmount=0,t.orderRemaining=0,t.storeAmount=0)}}return OK}}},prepareReactionOrder:{value(e,t,r){if(r<=0)return OK;let o=Game.getObjectById(e);if(!this.my||!o||!o.structureType==STRUCTURE_LAB)return ERR_INVALID_TARGET;if(!LAB_REACTIONS.hasOwnProperty(t))return ERR_INVALID_ARGS;void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]});let a=this.memory.resources.lab.find(t=>t.id==e);return a||(this.memory.resources.lab.push({id:e,orders:[],reactionState:LAB_IDLE}),a=this.memory.resources.lab.find(t=>t.id==e)),this.cancelReactionOrder(e),OK}},placeBasicReactionOrder:{value(e,t,r,o=1){if(r<=0)return OK;if(!LAB_REACTIONS.hasOwnProperty(t))return ERR_INVALID_ARGS;void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]);let a=Game.getObjectById(e),n=LAB_REACTIONS[t][0],s=LAB_REACTIONS[t][1],i=null,l=null,m=a.pos.findInRange(FIND_MY_STRUCTURES,2,{filter:e=>e.structureType==STRUCTURE_LAB&&e.id!=a.id});for(let e=0;e<m.length;e++){let t=m[e],r=this.memory.resources.lab.find(e=>e.id==t.id);if(null==i&&r&&r.reactionType==n?i=t:null==l&&r&&r.reactionType==s&&(l=t),i&&l)break}if(!i||!l){m.sort((e,t)=>a.pos.getRangeTo(e)-a.pos.getRangeTo(t));for(let e=0;e<m.length;e++){let t=m[e],r=this.memory.resources.lab.find(e=>e.id==t.id);r&&r.reactionState&&r.reactionState!=LAB_IDLE||(null==i?i=t:null==l&&(l=t))}}if(null==i||null==l)return ERR_NOT_FOUND;let u=this.prepareReactionOrder(e,t,r);if(u!=OK)return u;if((u=this.prepareReactionOrder(i.id,t,r))!=OK)return u;if((u=this.prepareReactionOrder(l.id,t,r))!=OK)return u;let d=this.memory.resources.lab.find(t=>t.id==e),c=LAB_MASTER;d&&(d.reactionState==LAB_SLAVE_1&&(c=LAB_SLAVE_1),d.reactionState==LAB_SLAVE_2&&(c=LAB_SLAVE_2),d.reactionState=c,d.reactionType=t,d.reactionAmount=r,d.slave_a=i.id,d.slave_b=l.id),d=this.memory.resources.lab.find(e=>e.id==i.id);let _=LAB_SLAVE_1,h=1;if(c==LAB_SLAVE_1?(_=LAB_SLAVE_2,h=2):c==LAB_SLAVE_2&&(_=LAB_SLAVE_3,h=3),d){d.reactionState=_,d.reactionType=n,d.master=a.id,this.placeOrder(i.id,n,r);let e=0;if(this.memory.container)for(let t=0;t<this.memory.container.length;t++){let r=this.memory.container[t],o=Game.getObjectById(r.id);o&&o.store[n]&&(e+=o.store[n])}if(this.storage&&(e+=this.storage.store[n]||0),this.terminal&&(e+=this.terminal.store[n]||0),o>h&&h<3&&e<r&&this.placeReactionOrder(i.id,n,r-e)==OK){let t=d.orders.find(e=>e.type==n);t&&(t.orderRemaining=e)}}if(d=this.memory.resources.lab.find(e=>e.id==l.id)){d.reactionState=_,d.reactionType=s,d.master=a.id,this.placeOrder(l.id,s,r);let e=0;if(this.memory.container)for(let t=0;t<this.memory.container.length;t++){let r=this.memory.container[t],o=Game.getObjectById(r.id);o&&(e+=o.store[s]||0)}if(this.storage&&(e+=this.storage.store[s]||0),this.terminal&&(e+=this.terminal.store[s]||0),o>h&&h<3&&e<r&&this.placeReactionOrder(i.id,n,r-e)==OK){let t=d.orders.find(e=>e.type==s);t&&(t.orderRemaining=e)}}return OK}},placeFlowerReactionOrder:{value(e,t,r,o=REACTOR_MODE_BURST){if(r<=0)return OK;if(!LAB_REACTIONS.hasOwnProperty(t))return ERR_INVALID_ARGS;void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]);let a=this.memory.resources;if(a.reactions){let n=a.reactions.orders.find(r=>r.id==e&&r.type==t);n?(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"placeReactionOrder",subAction:"update",orderId:e,resourceType:t,amount:r}),n.mode=o,n.amount=r):(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"placeReactionOrder",subAction:"new",orderId:e,resourceType:t,amount:r}),a.reactions.orders.push({id:e,type:t,mode:o,amount:r})),a.reactions.reactorMode=o}return OK}},placeReactionOrder:{value(e,t,r,o=REACTOR_MODE_BURST){if(r<=0)return OK;if(!LAB_REACTIONS.hasOwnProperty(t))return ERR_INVALID_ARGS;void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]);let a=Game.getObjectById(e);if(a&&a.structureType===STRUCTURE_LAB)return this.placeBasicReactionOrder(e,t,r,1);let n=this.memory.resources;if(!n.reactions)return LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"placeRoomOrder",subAction:"no_reactor"}),ERR_INVALID_TARGET;switch(n.reactions.reactorType,n.reactions.reactorType){case REACTOR_TYPE_FLOWER:this.placeFlowerReactionOrder(e,t,r,o)}return OK}},registerReactorFlower:{value(e,t){void 0===this.memory.resources&&(this.memory.resources={lab:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]);let r=Game.getObjectById(e),o=Game.getObjectById(t);if(!r||!o||r.structureType!==STRUCTURE_LAB||o.structureType!==STRUCTURE_LAB)return ERR_INVALID_TARGET;let a=this.memory.resources;void 0===a.reactions&&(a.reactions={orders:[]}),a.reactions.reactorType=REACTOR_TYPE_FLOWER,a.reactions.reactorMode=REACTOR_MODE_IDLE,a.reactions.seed_a=e,a.reactions.seed_b=t;const n=a.lab.find(t=>t.id===e);n&&(n.reactionState=LAB_SEED);const s=a.lab.find(e=>e.id===t);return s&&(s.reactionState=LAB_SEED),OK}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({Labs:function(e){this.room=e,Object.defineProperties(this,{all:{get(){if(_.isUndefined(this._all)){this._all=[];let e=e=>{let t=Game.getObjectById(e.id);t&&(_.assign(t,e),this._all.push(t))};_.forEach(this.room.memory.labs,e)}return this._all}},storage:{get(){if(_.isUndefined(this._storage)){let e=e=>!0===e.storage;this._storage=this.all.filter(e)}return this._storage}}})}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("link"),this.analyzeRoom=((e,t)=>{t&&e.saveLinks(),e.structures.links.all.length>0&&e.linkDispatcher()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({saveLinks:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_LINK});if(e.length>0){this.memory.links=[];let t=this.storage?this.storage.pos.findInRange(e,2).map(e=>e.id):[];this.memory.links=[];let r=e=>{if(!this.memory.links.find(t=>t.id==e.id)){let r=e.pos.getRangeTo(this.controller)<=4,o=!1;if(!r){let t=e.pos.findInRange(this.sources,2),r=t=>t.memory.link=e.id;t.forEach(r),o=t.length>0}this.memory.links.push({id:e.id,storage:t.includes(e.id),controller:r,source:o})}};e.forEach(r)}else delete this.memory.links}},linkDispatcher:{value(){let e=e=>0==e.cooldown&&e.energy>=e.energyCapacity*(e.source?.85:.5),t=e=>e.energy<.15*e.energyCapacity,r=this.structures.links.in.filter(e),o=this.structures.links.controller.filter(t);if(r.length>0){let e=this.structures.links.storage.filter(t),a=t=>{o.length>0?(t.transferEnergy(o[0]),o.shift()):e.length>0&&(t.transferEnergy(e[0]),e.shift())};r.forEach(a)}if(o.length>0){let t=e=>{o.length>0&&(e.transferEnergy(o[0]),o.shift())};this.structures.links.storage.filter(e).forEach(t)}}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({Links:function(e){this.room=e,Object.defineProperties(this,{all:{get(){if(_.isUndefined(this._all)){this._all=[];let e=e=>{let t=Game.getObjectById(e.id);t&&(_.assign(t,e),this._all.push(t))};_.forEach(this.room.memory.links,e)}return this._all}},controller:{get(){if(_.isUndefined(this._controller)){let e=e=>!0===e.controller;this._controller=this.all.filter(e)}return this._controller}},storage:{get(){if(_.isUndefined(this._storage)){let e=e=>1==e.storage;this._storage=this.all.filter(e)}return this._storage}},in:{get(){if(_.isUndefined(this._in)){let e=e=>0==e.storage&&0==e.controller;this._in=_.filter(this.all,e)}return this._in}},privateers:{get(){if(_.isUndefined(this._privateers)){let e=e=>0==e.storage&&0==e.controller&&0==e.source&&e.energy<.85*e.energyCapacity;this._privateers=_.filter(this.all,e)}return this._privateers}}})}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("nuker"),this.analyzeRoom=((e,t)=>{t&&e.saveNuker()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({saveNuker:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_NUKER});if(e.length>0){this.memory.nukers=[];let t=e=>{this.memory.nukers.find(t=>t.id==e.id)||this.memory.nukers.push({id:e.id})};e.forEach(t)}else delete this.memory.nukers}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({Nuker:function(e){this.room=e,Object.defineProperties(this,{all:{get(){if(_.isUndefined(this._all)){this._all=[];let e=e=>{let t=Game.getObjectById(e.id);t&&(_.assign(t,e),this._all.push(t))};_.forEach(this.room.memory.nukers,e)}return this._all}}})}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("observer"),this.analyzeRoom=((e,t)=>{t&&(e.saveObserver(),e.structures.observer&&e.initObserverRooms())}),this.runRoom=((e,t)=>{const r=Game.rooms[t];r&&r.structures.observer&&r.controlObserver()}),this.fresh=(()=>{Memory.observerSchedule=[]}),this.prototypeExtend=(()=>{this.assignRoomPrototype({controlObserver:{value(){const e=this.structures.observer;if(!e)return;let t;if(this.memory.observer.rooms||this.initObserverRooms(),observerRequests.length>0)for(const e of observerRequests)if(Game.map.getRoomLinearDistance(this.name,e.roomName)<=10&&!Memory.observerSchedule.includes(e.roomName)){const r=e.room||Game.rooms[e.roomName];if(r&&r.creeps&&r.creeps.length&&r.creeps.length>0)continue;Memory.observerSchedule.push(e.roomName),t=e.roomName;break}let r=0;const o=this.memory.observer.rooms;if(!t){let e=Number.isInteger(this.memory.observer.lastLookedIndex)?this.memory.observer.lastLookedIndex:o.length;do{if(t=e>=o.length?o[0]:o[e+1],e=o.indexOf(t),++r>=o.length)break}while(Memory.observerSchedule.includes(t)||t in Game.rooms);this.memory.observer.lastLookedIndex=e,Memory.observerSchedule.push(t)}e.observeRoom(t)===ERR_INVALID_ARGS&&r<o.length&&(Memory.observerSchedule.splice(Memory.observerSchedule.indexOf(t),1),this.controlObserver())}},initObserverRooms:{value(){const e=OBSERVER_OBSERVE_RANGE>10?10:OBSERVER_OBSERVE_RANGE,[t,r]=RoomManager.calcGlobalCoordinates(this.name,(e,t)=>[e,t]),[o,a]=RoomManager.calcCardinalDirection(this.name);this.memory.observer.rooms=[];for(let n=t-e;n<t+e;n++)for(let t=r-e;t<r+e;t++){let e=o,r=a,s=n;n<0&&(e="W"===e?"E":"W",s=Math.abs(n)-1),e+=s,s=t,t<0&&(r="N"===r?"S":"N",s=Math.abs(t)-1);const i=e+(r+=s);OBSERVER_OBSERVE_HIGHWAYS_ONLY&&!RoomManager.isHighwayRoom(i)||i in Game.rooms&&Game.rooms[i].my||Game.map.isRoomAvailable(i)&&this.memory.observer.rooms.push(i)}}},saveObserver:{value(){this.memory.observer={},[this.memory.observer.id]=this.find(FIND_MY_STRUCTURES,{filter:e=>e instanceof StructureObserver}).map(e=>e.id),_.isUndefined(this.memory.observer.id)&&delete this.memory.observer}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);class a extends Room{constructor(){}GCOrders(){const e=this.memory.resources,t=_.filter(Game.rooms,{my:!0});if(_.isUndefined(e))return void Log.room(this.name,Util.emoji.order,`There is no ${this.name}.memory.resources.`);if(0===e.orders.length)return;Log.room(this.name,Util.emoji.order,`Garbage collecting ${this.name} roomOrders`);const r=e.reactions;if(r.orders.length>0&&r.orders[0].amount>0){const t=r.orders[0],o=LAB_REACTIONS[t.type][0],a=LAB_REACTIONS[t.type][1];e.orders=_.filter(e.orders,e=>e.amount>0&&(e.type===o||e.type===a||!_.isUndefined(COMPOUNDS_TO_ALLOCATE[e.type])&&COMPOUNDS_TO_ALLOCATE[e.type].allocate))}else e.orders=_.filter(e.orders,e=>e.amount>0&&!_.isUndefined(COMPOUNDS_TO_ALLOCATE[e.type])&&COMPOUNDS_TO_ALLOCATE[e.type].allocate);if(this.ordersWithOffers())return e.boostTiming.checkRoomAt=Game.time+CHECK_ORDERS_INTERVAL,!1;Log.room(this.name,Util.emoji.order,"not enough or no offers found."),_.isUndefined(e.boostTiming.getOfferAttempts)?e.boostTiming.getOfferAttempts=0:e.boostTiming.getOfferAttempts++,Log.room(this.name,Util.emoji.order,`${this.name} running room offers...`);for(let e of t){if(!e.memory.resources)continue;const t=e.memory.resources.offers;let r;for(let o=0;o<t.length;o++){let a=t[o],n=Game.rooms[a.room];if(!(n&&n.memory&&n.memory.resources&&n.memory.resources.orders))continue;let s=n.memory.resources.orders.find(e=>e.id===a.id&&e.type===a.type);s&&(r=s.offers.findIndex(t=>t.room===e.name)),s&&-1!==r||(Log.room(this.name,Util.emoji.order,`Orphaned offer found and deleted in ${e.print}.`),t.splice(o,1),o--)}}if(e.boostTiming.getOfferAttempts<3)return this.updateRoomOrders(),e.boostTiming.ordersPlaced=Game.time,e.boostTiming.checkRoomAt=Game.time+1,!0;e.orders=[],e.reactions.orders[0].amount=0,delete e.boostTiming.getOfferAttempts,Log.room(this.name,Util.emoji.order,"no offers found, Reaction and orders deleted.")}GCOffers(){const e=this.memory.resources;let t=!1,r=0;if(_.isUndefined(e))return Log.room(this.name,Util.emoji.order,Dye(COLOR_RED,`there is no ${this.name}.memory.resources.`)),{readyOffersFound:r,terminalOrderPlaced:t};if(0===e.offers.length)return{readyOffersFound:r,terminalOrderPlaced:t};if(Log.room(this.name,Util.emoji.order,"Garbage collecting for room offers"),e.offers=_.filter(e.offers,e=>{const t=Game.rooms[e.room],r=t.memory.resources.orders,o=this.resourcesAll[e.type];for(let a=0;a<r.length;a++){let n=r[a];if(e.id===n.id&&!_.isUndefined(o)&&o>=0)return!0;if(e.id===n.id)return t.memory.resources.orders[a].offers=[],!1}return!1}),e.offers.length>0)for(let o of e.offers){let a=this.terminal.store[o.type]||0;if(Log.room(this.name,Util.emoji.order,`${a} / ${o.amount} ${o.type} are in terminal`),a>=.5*o.amount&&a<o.amount-MIN_OFFER_AMOUNT||a>=o.amount)Log.room(this.name,Util.emoji.order,Dye(COLOR_GREEN,`${Math.min(a,o.amount)} ${o.type} are ready to send from ${o.room}`)),r++;else{0===this.memory.resources.terminal.length&&this.memory.resources.terminal.push({id:this.terminal.id,orders:[]});const r=this.memory.resources.terminal[0],o=this.memory.resources.terminal[0].id,a=this.terminal;r.orders.length>0&&(r.orders=_.filter(r.orders,t=>(t.orderRemaining>0||t.storeAmount>0)&&_.some(e.offers,e=>e.type===t.type&&e.amount===t.orderRemaining+(a.store[e.type]||0))));for(let n of e.offers){const e=Util.sumCompoundType(r.orders,"orderRemaining"),s=(e[n.type]||0)+(a.store[n.type]||0);n.amount>s?(Log.room(this.name,Util.emoji.order,`no / not enough terminal order found for ${n.amount} ${n.type}`),Log.room(this.name,Util.emoji.order,`terminal stores: ${a.store[n.type]||0} ordered: ${e[n.type]||0}`),Log.room(this.name,Util.emoji.order,`terminal order placed for ${Math.max(n.amount,MIN_OFFER_AMOUNT)} ${n.type}`),this.placeOrder(o,n.type,Math.max(n.amount,MIN_OFFER_AMOUNT)),t=!0):Log.room(this.name,Util.emoji.order,Dye(COLOR_GREEN,`Terminal orders for ${n.amount} ${n.type} is OK.`))}}}return{readyOffersFound:r,terminalOrderPlaced:t}}GCLabs(){Log.room(this.name,Util.emoji.lab,"Garbage collecting lab orders.");const e=this.memory.resources,t=e.lab,r=e.reactions.orders[0];for(let o=0;o<t.length;o++){const a=t[o];let n;if(a.orders.length>0){if(e.reactions.orders.length>0){const e=LAB_REACTIONS[r.type][0],t=LAB_REACTIONS[r.type][1];n=_.filter(a.orders,r=>{if((r.orderAmount>0||r.orderRemaining>0||r.storeAmount>0)&&(r.type===e||r.type===t||"energy"===r.type||"Storage"===a.reactionState))return r})}else n=_.filter(a.orders,e=>{if("energy"===e.type||"Storage"===a.reactionState)return e});a.orders.length>n.length&&(this.memory.resources.lab[o].orders=n,Log.room(this.name,Util.emoji.lab,`Lab orders fixed in ${this.name}, ${a.id}`))}}}checkOffers(){if(Memory.boostTiming.multiOrderingRoomName===this)return Log.room(this.name,Util.emoji.order,"Early room check, multiOrdering in progress"),!0;const e=this.memory.resources,t=e.orders;let r,o=[],a=!1;for(let e of t)if(e.offers.length>0)for(let t of e.offers){if(!_.some(o,e=>e.room===t.room)){(r=Game.rooms[t.room].GCOffers()).terminalOrderPlaced&&(a=!0),r.readyOffersFound>0&&o.push({room:t.room,readyOffers:r.readyOffersFound})}}if(1!==o.length||1!==o[0].readyOffers||!_.isUndefined(e.boostTiming.ordersReady))return(o.length>=1||1===o.length&&o[0].readyOffers>1)&&_.isUndefined(e.boostTiming.ordersReady)?(Log.room(this.name,Util.emoji.order,"has more than one offers ready, boostTiming.ordersReady created"),Log.stringify(o),e.boostTiming.ordersReady={time:Game.time,orderCandidates:o},Memory.boostTiming||(Memory.boostTiming={}),Memory.boostTiming.multiOrderingRoomName=this.name,e.boostTiming.checkRoomAt=Game.time+_.sum(o,"readyOffers")+1,!0):r.terminalOrderPlaced?(Log.room(this.name,Util.emoji.order,"terminal orders placed."),e.boostTiming.checkRoomAt=Game.time+CHECK_ORDERS_INTERVAL,!1):(Log.room(this.name,Util.emoji.order,`${this.name} no ready offers found.`),e.boostTiming.checkRoomAt=Game.time+CHECK_ORDERS_INTERVAL,!1);{let t=Game.rooms[o[0].room];Log.room(this.name,Util.emoji.order,`There is only one offersReady from ${o[0].room}, running fill room order...`);let r=!1;if(0!==t.terminal.cooldown)return e.boostTiming.checkRoomAt=Game.time+t.terminal.cooldown+1,Log.room(this.name,Util.emoji.order,`${t.name} terminal cooldown is: ${t.terminal.cooldown}`),Log.room(this.name,Util.emoji.order,`time: ${Game.time}, boosTiming:`,"<br/>",Util.jsonToTable(e.boostTiming)),!1;if(!0===(r=t.fillARoomOrder())&&0===e.orders.length||0===_.sum(e.orders,"amount"))return e.boostTiming.checkRoomAt=Game.time+1,Log.room(this.name,Util.emoji.order,`${t.name} terminal send was successful. And there are no more orders`),Log.room(this.name,Util.emoji.order,`time: ${Game.time} boost timing:`,"<br/>",Util.jsonToTable(e.boostTiming)),!0;if(!0===r)return e.boostTiming.checkRoomAt=Game.time+CHECK_ORDERS_INTERVAL,Log.room(this.name,Util.emoji.order,`${t.name} terminal send was successful. BTW, there are orders remained to fulfill`),Log.room(this.name,Util.emoji.order,`time: ${Game.time}, boostTiming:`,"<br/>",Util.jsonToTable(e.boostTiming)),!0}}ordersWithOffers(){const e=this.memory.resources.orders;return 0!==e.length&&_.some(e,e=>{return(_.sum(e.offers,"amount")||0)>=e.amount&&e.amount>0})}makeReaction(){let e,t={};const r=(e,t,r)=>{let o=Game.rooms[e];if(!o.memory.labs)return!1;if(o.memory.labs.length<3)return!1;if(3===o.memory.labs.length&&!MAKE_REACTIONS_WITH_3LABS)return!1;if(_.isUndefined(o.memory.resources))return!1;if(_.isUndefined(o.memory.resources.reactions))return!1;const a=o.memory.resources.reactions,n=(e,t,r)=>{if(!PURCHASE_MINERALS)return Log.error(`${e} needs to buy ${r} ${t} but PURCHASE_MINERALS is false`),!1;if(o.storage.charge<STORE_CHARGE_PURCHASE)return Log.warn(`storage.charge in ${e} is ${o.storage.charge}, purchase for ${t} is delayed`),!1;if(o.terminal.cooldown>0)return Log.warn(`terminal.coolDown in ${e} is ${o.terminal.cooldown}, purchase for ${t} is delayed`),!1;if("idle"!==a.reactorMode)return!1;let n,s,i;Log.room(this.name,Util.emoji.terminal,Dye(COLOR_GREEN,`buying ${r} ${t} in ${e}.`)),AUTOMATED_RATIO_COUNT?(n=Util.countPrices(ORDER_SELL,t,e),Log.room(this.name,Util.emoji.terminal,`avg sell ratio: ${e} ${t} ${n}`)):n=MAX_BUY_RATIO[t];const l=Game.market.getAllOrders(o=>{const a=Game.rooms[e];let s,i;return o.type===ORDER_SELL&&(o.resourceType===t&&(o.transactionAmount=Math.min(o.amount,r),!((s=Game.market.calcTransactionCost(o.transactionAmount,o.roomName,e))>a.terminal.store[RESOURCE_ENERGY])&&(i=o.transactionAmount*o.price,!(Game.market.credits<i&&(o.transactionAmount=Game.market.credits/o.price,0===o.transactionAmount))&&(o.ratio=(i-s*ENERGY_VALUE_CREDITS)/o.transactionAmount,!(o.price>n||o.ratio>n||o.amount<100)))))});return l.length>0?(s=_.min(l,"ratio"),Log.room(this.name,Util.emoji.order,"selected order: ","<br/>",Util.jsonToTable(s)),s&&Log.room(this.name,Util.emoji.terminal,Dye(COLOR_BLUE,`Market deal: ${s.id} ${s.transactionAmount} from ${e}`)),(i=Game.market.deal(s.id,s.transactionAmount,e))===OK?(Log.room(this.name,Util.emoji.terminal,Dye(COLOR_GREEN,`Purchased ${s.transactionAmount} ${t} at price: ${s.price} it costs: ${s.transactionAmount*s.price}`)),!0):(Log.error(`purchase was FAILED error code: ${Util.translateErrorCode(i)}`),!1)):(0===n?Log.warn(`There are no sellOrders for ${t}`):(Log.warn(`No sell order found for ${r} ${t} at ratio ${MAX_BUY_RATIO[t]} in room ${e}`),Log.warn(`You need to adjust MAX_BUY_RATIO or use AUTOMATED_RATIO_COUNT: true in parameters, current is: ${MAX_BUY_RATIO[t]}, recommended: ${n}`)),!1)},s=((e,t)=>{if(1===e.length&&"G"!==e)return;const r=(e,t)=>{const r=(e=>{const t=_.filter(Game.rooms,{my:!0});let r=0;for(let o of t){let t=o.resourcesAll[e]||0;t>=MIN_OFFER_AMOUNT&&(r+=t)}return r})(e),a=o.resourcesAll[e]||0;let n;return r-a<TRADE_THRESHOLD?(n=t-a)<0?n=0:n<MIN_COMPOUND_AMOUNT_TO_MAKE&&(n=MIN_COMPOUND_AMOUNT_TO_MAKE):(n=t-r)<0?n=0:n<MIN_COMPOUND_AMOUNT_TO_MAKE&&(n=MIN_COMPOUND_AMOUNT_TO_MAKE),Util.roundUpTo(n,MIN_OFFER_AMOUNT)},a=(e,t)=>{let o={},a={};return o[e]=((e,t)=>{const o=LAB_REACTIONS[e][0],a=LAB_REACTIONS[e][1];return{[o]:r(o,t),[a]:r(a,t)}})(e,t),Object.keys(o).forEach(e=>{Object.keys(o[e]).forEach(t=>{(t.length>1||"G"===t)&&(a[t]=o[e][t])})}),{product:o,slice:(e=>0!==Object.keys(e).length&&e)(a)}};let n=a(e,t),s=n.product,i=n.slice;do{let e=[];Object.keys(i).forEach(t=>{n=a(t,i[t]),s[t]=n.product[t],e.push(n.slice)}),i={};for(let t of e)i=Object.assign(i,t)}while(_.some(i,Object));return s})(t,r);let i,l=!1,m=!1,u=[];return o.storage&&o.terminal?_.isUndefined(o.memory.labs)||0===o.memory.labs.length?(Log.warn(`there are no labs in ${o.name}`),!1):!1!==o.terminal.isActive()&&!1!==o.storage.isActive()&&!1!==Game.getObjectById(o.memory.labs[0].id).isActive()&&(Object.keys(s).forEach(t=>{Object.keys(s[t]).forEach(r=>{let a=s[t][r];if(a>0&&!l){if(1===r.length&&"G"!==r&&(o.resourcesAll[r]||0)<a&&!l&&!(l=n(e,r,a)))return{ingredientMade:m,mineralPurchased:l};l||(r.length>1||"G"===r)&&u.push({compound:r,amount:a})}})}),0===u.length&&u.push({compound:t,amount:r}),l||(i=u[u.length-1],m=((e,t,r)=>{if(_.isUndefined(a)||"flower"!==a.reactorType)return Log.room(e,Util.emoji.lab,Dye(COLOR_ORANGE,"labs are not registered as flower")),!1;const o=Game.rooms[e];let n=!1;"idle"===a.reactorMode&&(Log.room(e,Util.emoji.lab,`${o.name} - placeReactionOrder(${t}, ${t}, ${r})`),o.GCLabs(),o.placeReactionOrder(t,t,r),Memory.boostTiming.roomTrading.boostProduction=!0,Memory.boostTiming.timeStamp=Game.time,Log.room(o,`${o.name}, placeReaction ${r} ${t} at time: ${Game.time}`),o.memory.resources.boostTiming.roomState="reactionPlaced",n=!0);return n})(e,i.compound,i.amount)),{ingredientMade:m,mineralPurchased:l}):(Log.warn(`there are no storage/terminal in ${o.name}`),!1)};return Object.keys(COMPOUNDS_TO_MAKE).forEach(o=>{if(COMPOUNDS_TO_MAKE[o].make&&!t.ingredientMade&&(this.name.indexOf(COMPOUNDS_TO_MAKE[o].rooms)>-1||0===COMPOUNDS_TO_MAKE[o].rooms.length)){let a=this.resourcesAll[o]||0;0===a?(e=Util.roundUpTo(COMPOUNDS_TO_MAKE[o].amount+COMPOUNDS_TO_MAKE[o].threshold,MIN_OFFER_AMOUNT),(t=r(this.name,o,e)).ingredientMade&&Log.room(this.name,`there is no ${o}, so start to make the compounds for ${COMPOUNDS_TO_MAKE[o].amount} ${o} in ${this.name}`)):a<=COMPOUNDS_TO_MAKE[o].threshold&&(e=Util.roundUpTo(COMPOUNDS_TO_MAKE[o].amount+COMPOUNDS_TO_MAKE[o].threshold-a,MIN_OFFER_AMOUNT),(t=r(this.name,o,e)).ingredientMade&&Log.room(this.name,`it is below the threshold, so start to make the compounds for ${e} ${o} in ${this.name}`))}}),t.ingredientMade||t.mineralPurchased}storedMinerals(e){let t=(this.resourcesStorage[e]||0)+(this.resourcesTerminal[e]||0)-(this.resourcesOffers[e]||0)-(this.resourcesReactions[e]||0);return t<0&&(t=0),t}countCheckRoomAt(){const e=this.memory.resources,t=e.boostTiming,r=e.lab.length,o=REACTION_TIME[e.reactions.orders[0].type],a=LAB_REACTION_AMOUNT*(r-_.filter(e.lab,e=>"Storage"===e.reactionState).length-2)/o,n=e.reactions.orders[0].amount;t.checkRoomAt=t.reactionMaking+Util.roundUpTo(n/a,o)+o}getSeedLabOrders(){let e=this.memory.resources;if(_.isUndefined(e)||_.isUndefined(e.reactions)||0===e.reactions.orders.length)return;const t=e.reactions.orders[0].type,r=LAB_REACTIONS[t][0],o=LAB_REACTIONS[t][1],a=e.lab.findIndex(t=>t.id===e.reactions.seed_a),n=e.lab.findIndex(t=>t.id===e.reactions.seed_b),s=_.filter(e.lab[a].orders,e=>e.type===r),i=_.filter(e.lab[n].orders,e=>e.type===o);return{labOrderAmountA:s[0].orderRemaining,labOrderAmountB:i[0].orderRemaining}}updateResourceOrders(){let e=this.memory.resources;if(this.my&&e)for(let t in e)for(let r=0;r<e[t].length;r++){let o=e[t][r];if((t!=STRUCTURE_LAB||o.reactionState==LAB_IDLE)&&o.orders)for(let e=0;e<o.orders.length;e++){let r=o.orders[e];if(r.orderRemaining<=0){let e=0,a=this.RCL;t==STRUCTURE_STORAGE?e=r.type==RESOURCE_ENERGY?MIN_STORAGE_ENERGY[a]:MAX_STORAGE_MINERAL:t==STRUCTURE_TERMINAL&&(e=r.type==RESOURCE_ENERGY?TERMINAL_ENERGY:0),e+=r.storeAmount;let n=0,s=Game.getObjectById(o.id);if(s)switch(t){case STRUCTURE_LAB:r.type==s.mineralType?n=s.mineralAmount:r.type==RESOURCE_ENERGY&&(n=s.energy);break;case STRUCTURE_POWER_SPAWN:r.type==RESOURCE_POWER?n=s.power:r.type==RESOURCE_ENERGY&&(n=s.energy);break;case STRUCTURE_NUKER:r.type==RESOURCE_GHODIUM?n=s.ghodium:r.type==RESOURCE_ENERGY&&(n=s.energy);break;default:n=s.store[r.type]||0}n<=e&&(r.orderAmount=0,r.orderRemaining=0)}}}}updateRoomOrders(){if(!this.memory.resources||!this.memory.resources.orders)return;let e=_.filter(Game.rooms,e=>e.my&&e.storage&&e.terminal&&e.name!==this.name),t=this.memory.resources.orders;for(let r=0;r<t.length;r++){let o=t[r],a=o.amount;for(let e=0;e<o.offers.length;e++){let t=o.offers[e];if(Memory.rooms[t.room]&&Memory.rooms[t.room].resources&&Memory.rooms[t.room].resources.offers){let e=Memory.rooms[t.room].resources.offers,r=e.indexOf(e=>e.room===this.name&&e.id===o.id&&e.type===o.type);-1!==r&&e.splice(r,1)}}if(o.offers=[],a<=0)delete t[r],t.splice(r--,1);else{e.sort((e,t)=>Game.map.getRoomLinearDistance(this.name,e.name,!0)-Game.map.getRoomLinearDistance(this.name,t.name,!0));for(let t=0;t<e.length;t++){let r=e[t];void 0===r.memory.resources&&(r.memory.resources={lab:[],container:[],terminal:[],storage:[],powerSpawn:[],nuker:[]}),r.memory.resources.offers||(r.memory.resources.offers=[]);let n=r.memory.resources.offers,s=r.resourcesAll[o.type]||0;if(s>0&&Log.room(r.name,Util.emoji.order,`available: ${s} ${o.type}`),s<MIN_OFFER_AMOUNT)continue;if(!_.isUndefined(COMPOUNDS_TO_ALLOCATE[o.type])){let e=COMPOUNDS_TO_ALLOCATE[o.type].amount+COMPOUNDS_TO_ALLOCATE[o.type].threshold;if(s<e+MIN_OFFER_AMOUNT)continue;s-=e}a<MIN_OFFER_AMOUNT&&a>0&&(a=MIN_OFFER_AMOUNT),s=Math.min(s,a);let i=o.offers.find(e=>e.room===r.name),l=n.find(e=>e.room===this.name&&e.id===o.id&&e.type===o.type);if(i?(LOG_TRACE&&Log.trace("Room",{roomName:this.name,remoteRoom:r.name,actionName:"updateRoomOrders",subAction:"update",orderId:o.id,resourceType:o.type,amount:s}),a-=s-i.amount,i.amount=s):(LOG_TRACE&&Log.trace("Room",{roomName:this.name,remoteRoom:r.name,actionName:"updateRoomOrders",subAction:"new",orderId:o.id,resourceType:o.type,amount:s}),Log.room(this.name,Util.emoji.order,Dye(COLOR_PURPLE,`Room offer from ${r.print} with id ${o.id} placed for ${s} ${o.type}.`)),a-=s,o.offers.push({room:r.name,amount:s})),l?l.amount=s:n.push({room:this.name,id:o.id,type:o.type,amount:s}),a<=0)break}}}}fillARoomOrder(){if(!(this.terminal&&this.memory&&this.memory.resources&&this.memory.resources.offers))return!1;const e=this.memory.resources.offers;let t=!1;for(let r=0;r<e.length;r++){let o=e[r],a=Game.rooms[o.room];if(!(a&&a.memory&&a.memory.resources&&a.memory.resources.orders))continue;let n=a.memory.resources.orders.find(e=>e.id==o.id&&e.type==o.type);if(!n)continue;let s=n.offers.findIndex(e=>e.room==this.name);if(-1==s){Log.room(this.name,"Orphaned offer found and deleted"),e.splice(r--,1);continue}let i=this.terminal.store[o.type]||0,l=0,m=null;this.memory.resources.terminal[0]&&(m=this.memory.resources.terminal[0].orders.find(e=>e.type==o.type)),m&&(l=m.orderRemaining);let u=Math.max(o.amount,MIN_OFFER_AMOUNT);if(u>i+l){let e=u-(i+l);LOG_TRACE&&Log.trace("Room",{actionName:"fillARoomOrder",subAction:"terminalOrder",roomName:this.name,targetRoomName:a.name,resourceType:o.type,amount:e}),this.placeOrder(this.terminal.id,o.type,e)}if(!a.terminal)continue;let d=a.terminal.storeCapacity-a.terminal.sum;u=Math.min(u,d,i);let c=Game.market.calcTransactionCost(u,this.name,a.name);if(o.type==RESOURCE_ENERGY&&(c+=u-=c),!(c>(this.terminal.store.energy||0)||u<MIN_OFFER_AMOUNT)){if((t=this.terminal.send(o.type,u,a.name,n.id))==OK)return LOG_TRACE&&Log.trace("Room",{actionName:"fillARoomOrder",roomName:this.name,targetRoomName:a.name,resourceType:o.type,amount:u}),Log.room(this.name,Util.emoji.order,Dye(COLOR_GREEN,`Send ${o.type} ${u} to ${Util.makeRoomUrl(a.name)}.`)),o.amount-=u,o.amount>0?n.offers[s].amount=o.amount:(delete n.offers[s],n.offers.splice(s,1),delete e[r],e.splice(r--,1)),n.amount-=u,!0;Log.error(`Send Error: ${Util.translateErrorCode(t)} | ${this.name} send ${o.type} ${u} to ${Util.makeRoomUrl(a.name)}.`)}}return t}prepareResourceOrder(e,t,r){let o=Game.getObjectById(e);if(!this.my||!o||!o.room.name==this.name||o.structureType!=STRUCTURE_LAB&&o.structureType!=STRUCTURE_NUKER&&o.structureType!=STRUCTURE_POWER_SPAWN&&o.structureType!=STRUCTURE_CONTAINER&&o.structureType!=STRUCTURE_STORAGE&&o.structureType!=STRUCTURE_TERMINAL)return ERR_INVALID_TARGET;if(!RESOURCES_ALL.includes(t))return ERR_INVALID_ARGS;if(void 0===this.memory.resources&&(this.memory.resources={lab:[],powerSpawn:[],nuker:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.nuker&&(this.memory.resources.nuker=[]),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]),this.memory.resources[o.structureType].find(t=>t.id==e)||this.memory.resources[o.structureType].push(o.structureType==STRUCTURE_LAB?{id:e,orders:[],reactionState:LAB_IDLE}:{id:e,orders:[]}),o.structureType==STRUCTURE_LAB&&t!=RESOURCE_ENERGY&&r>0){let r=this.memory.resources[STRUCTURE_LAB].find(t=>t.id==e).orders;for(let e=0;e<r.length;e++)r[e].type!=t&&r[e].type!=RESOURCE_ENERGY&&(r[e].orderAmount=0,r[e].orderRemaining=0,r[e].storeAmount=0)}return OK}cancelOrder(e,t=null){let r=Game.getObjectById(e);if(this.prepareResourceOrder(e,RESOURCE_ENERGY,0)!=OK)return ret;let o=this.memory.resources[r.structureType].find(t=>t.id==e);if(o)if(t){let e=o.orders.find(e=>e.type==t);e&&(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"cancelOrder",orderId:orderId,resourceType:t}),o.orders.splice(o.orders.indexOf(e),1))}else LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"cancelOrder",orderId:orderId,resourceType:"all"}),o.orders=[];return OK}registerBoostLab(e){if(Game.getObjectById(e)){_.isUndefined(this.memory.resources)&&(this.memory.resources={lab:[],powerSpawn:[],nuker:[],container:[],terminal:[],storage:[]});let t=this.memory.resources.lab.findIndex(t=>t.id==e);if(t>-1)delete this.memory.resources.lab[t].reactionType,this.memory.resources.lab[t].reactionState="Storage";else{let t={id:e,orders:[],reactionState:"Storage"};this.memory.resources.lab.push(t)}}}unRegisterBoostLab(e){const t=Game.getObjectById(e),r=this.memory.resources;if(t&&r){let t=this.memory.resources.lab.findIndex(t=>t.id===e);t>-1&&(r.reactions.orders.length>0&&(this.memory.resources.lab[t].reactionType=this.memory.resources.reactions.orders[0].type),this.memory.resources.lab[t].reactionState="idle",this.memory.resources.lab[t].orders=_.filter(this.memory.resources.lab[t].orders,"type","energy"))}}placeOrder(e,t,r){const o=Game.getObjectById(e);let a=this.prepareResourceOrder(e,t,r);if(a!=OK)return a;let n=this.memory.resources[o.structureType].find(t=>t.id==e);if(n){let e=n.orders.find(e=>e.type==t);if(e)e.orderAmount+=r,e.orderRemaining+=r;else{let e=0;e=o.structureType===STRUCTURE_LAB?o.mineralType==t?o.mineralAmount:0:o.store[t]||0,n.orders.push({type:t,orderAmount:r,orderRemaining:r-e,storeAmount:0}),o.structureType===STRUCTURE_LAB&&"Storage"!=n.reactionState&&(n.reactionType=t)}}return OK}setStore(e,t,r){let o=Game.getObjectById(e),a=this.prepareResourceOrder(e,t,r);if(a!=OK)return a;let n=this.memory.resources[o.structureType].find(t=>t.id==e);if(n){let e=n.orders.find(e=>e.type==t);e?e.storeAmount=r:n.orders.push({type:t,orderAmount:0,orderRemaining:0,storeAmount:r})}return OK}cancelRoomOrder(e=null,t=null){void 0===this.memory.resources&&(this.memory.resources={lab:[],powerSpawn:[],nuker:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.nuker&&(this.memory.resources.nuker=[]),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]),void 0===this.memory.resources.orders&&(this.memory.resources.orders=[]);let r=this.memory.resources.orders;if(e&&t){let o=r.find(r=>r.id==e&&r.type==t);o&&(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"cancelRoomOrder",orderId:e,resourceType:t}),r.splice(r.indexOf(o),1))}else if(e){LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"cancelRoomOrder",orderId:e,resourceType:"all"});for(let t=0;t<r.length;t++){r[t].id===e&&r.splice(t--,1)}}else this.memory.resources.orders=[];return OK}placeRoomOrder(e,t,r){if(r<=0)return OK;void 0===this.memory.resources&&(this.memory.resources={lab:[],powerSpawn:[],nuker:[],container:[],terminal:[],storage:[]}),void 0===this.memory.resources.nuker&&(this.memory.resources.nuker=[]),void 0===this.memory.resources.powerSpawn&&(this.memory.resources.powerSpawn=[]),void 0===this.memory.resources.orders&&(this.memory.resources.orders=[]);let o=this.memory.resources.orders,a=o.find(r=>r.id==e&&r.type==t);return a?(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"placeRoomOrder",subAction:"update",orderId:e,resourceType:t,amount:r}),a.amount=r):(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"placeRoomOrder",subAction:"new",orderId:e,resourceType:t,amount:r}),Log.room(this.name,`New room order with id ${e} placed for ${r} ${t}.`),o.push({id:e,type:t,amount:r,offers:[]})),OK}terminalBroker(){if(!this.my||!this.terminal||!this.storage)return;if(this.terminal.cooldown&&this.terminal.cooldown>0)return;let e=!1;for(const t in this.terminal.store){if(t===RESOURCE_ENERGY||t===RESOURCE_POWER)continue;if((MAKE_COMPOUNDS||ALLOCATE_COMPOUNDS)&&t!==this.memory.mineralType)continue;let r=this.terminal.sum===this.terminal.storeCapacity>.8;if(this.terminal.store[t]>=MIN_MINERAL_SELL_AMOUNT){let o;AUTOMATED_RATIO_COUNT?0===(o=Util.countPrices(ORDER_BUY,t,this.name))?Log.room(this.name,Util.emoji.terminal,Dye(COLOR_ORANGE,`there is no buy order for ${t}`)):Log.room(this.name,Util.emoji.terminal,Dye(COLOR_BLUE,`auto-count avg buy ratio: ${t} ${o}`)):o=MIN_SELL_RATIO[t];let a=Game.market.getAllOrders(e=>!(!e.roomName||e.resourceType!=t||e.type!=ORDER_BUY||e.amount<MIN_MINERAL_SELL_AMOUNT)&&(e.range=Game.map.getRoomLinearDistance(e.roomName,this.name,!0),e.transactionAmount=Math.min(e.amount,this.terminal.store[t]),e.transactionCost=Game.market.calcTransactionCost(e.transactionAmount,this.name,e.roomName),e.transactionCost>this.terminal.store.energy&&e.transactionAmount>MIN_MINERAL_SELL_AMOUNT&&(e.transactionAmount=MIN_MINERAL_SELL_AMOUNT,e.transactionCost=Game.market.calcTransactionCost(e.transactionAmount,this.name,e.roomName)),e.credits=e.transactionAmount*e.price,e.ratio=(e.credits-e.transactionCost*ENERGY_VALUE_CREDITS)/e.transactionAmount,r||e.price>=o&&e.ratio>=o&&e.transactionCost<=this.terminal.store.energy));if(a.length>0){let r=_.max(a,"ratio");Log.room(this.name,Util.emoji.terminal,"selected order: ","<br/>",Util.jsonToTable(r));let o=Game.market.deal(r.id,r.transactionAmount,this.name);SELL_NOTIFICATION&&Log.room(this.name,Util.emoji.terminal,Dye(COLOR_GREEN,`Selling ${r.transactionAmount} ${t} for ${Util.roundUp(r.credits)} (C:${r.price}, E:${r.transactionCost}): ${Util.translateErrorCode(o)}`)),SELL_NOTIFICATION&&Game.notify(`<h2>Room ${this.name} rund an order!</h2><br/>Result: ${Util.translateErrorCode(o)}<br/>Details:<br/>${JSON.stringify(r).replace(",",",<br/>")}`),e=o==OK;break}}}if(8==this.controller.level&&!e&&Util.chargeScale(this.storage.store.energy-ENERGY_BALANCE_TRANSFER_AMOUNT,MIN_STORAGE_ENERGY[this.controller.level],MAX_STORAGE_ENERGY[this.controller.level])>1&&(this.terminal.store[this.mineralType]||0)<15e4&&this.terminal.store.energy>1.1*ENERGY_BALANCE_TRANSFER_AMOUNT){let t=e=>e.my&&e.storage&&e.terminal&&e.terminal.sum<e.terminal.storeCapacity-ENERGY_BALANCE_TRANSFER_AMOUNT&&e.storage.sum<e.storage.storeCapacity*TARGET_STORAGE_SUM_RATIO&&!e._isReceivingEnergy&&e.storage.store[RESOURCE_ENERGY]<MAX_STORAGE_ENERGY[e.RCL],r=_.min(_.filter(Game.rooms,t),"storage.store.energy");if(r instanceof Room&&Game.market.calcTransactionCost(ENERGY_BALANCE_TRANSFER_AMOUNT,this.name,r.name)<this.terminal.store.energy-ENERGY_BALANCE_TRANSFER_AMOUNT){r._isReceivingEnergy=!0;let t=this.terminal.send("energy",ENERGY_BALANCE_TRANSFER_AMOUNT,r.name,"have fun");(e=t==OK)&&Log.room(this.name,Util.emoji.terminal,Dye(COLOR_GREEN,`Transferring ${Util.formatNumber(ENERGY_BALANCE_TRANSFER_AMOUNT)} energy to ${r.name}: ${Util.translateErrorCode(t)}`))}}!0!==e&&_.isUndefined(Memory.boostTiming)&&(Log.room(this.name,Util.emoji.order,"Fill room order..."),this.fillARoomOrder())}}t.default=new class extends o.RoomExtra{constructor(){super("orders"),this.analyzeRoom=((e,t)=>{if(e.memory.resources){const t=e.memory.resources.orders,r=e.memory.resources.offers;t.length>0&&0===t[0].amount&&t.shift(),r.length>0&&0===r[0].amount&&t.shift()}Game.time%PROCESS_ORDERS_INTERVAL==0&&(e.updateResourceOrders(),Util.orderingRoom().length>1&&(e.updateRoomOrders(),e.terminalBroker()))}),this.prototypeExtend=(()=>{Util.define(Room,a)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("power"),this.analyzeRoom=((e,t)=>{t&&e.savePowerSpawn(),e.structures.powerSpawn&&e.processPower()}),this.freshRoom=(e=>{e._powerBank||delete e.memory.powerBank}),this.prototypeExtend=(()=>{this.assignRoomPrototype({powerBank:{get(){return _.isUndefined(this.memory.powerBank)&&([this._powerBank]=this.find(FIND_STRUCTURES,{filter:e=>e instanceof StructurePowerBank}),this._powerBank&&(this.memory.powerBank=this._powerBank.id)),_.isUndefined(this._powerBank)&&(this._powerBank=Game.getObjectById(this.memory.powerBank)),this._powerBank}},savePowerSpawn:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_POWER_SPAWN});if(e.length>0){this.memory.powerSpawns=[];let t=e=>{this.memory.powerSpawns.find(t=>t.id==e.id)||this.memory.powerSpawns.push({id:e.id})};e.forEach(t)}else delete this.memory.powerSpawns}},processPower:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType==STRUCTURE_POWER_SPAWN});for(let t=0;t<e.length;t++){let r=e[t];r.energy>=POWER_SPAWN_ENERGY_RATIO&&r.power>=1&&(LOG_TRACE&&Log.trace("Room",{roomName:this.name,actionName:"processPower"}),r.processPower())}}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({PowerSpawn:function(e){this.room=e,Object.defineProperties(this,{all:{get(){if(_.isUndefined(this._all)){this._all=[];let e=e=>{let t=Game.getObjectById(e.id);t&&(_.assign(t,e),this._all.push(t))};_.forEach(this.room.memory.powerSpawns,e)}return this._all}}})}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("resources"),this.analyzeRoom=((e,t)=>{t&&e.saveMinerals()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({resourcesStorage:{get(){return _.isUndefined(this._resourcesStorage)&&(this._resourcesStorage={},_.isUndefined(this.storage)||Object.keys(this.storage.store).forEach(e=>{_.isUndefined(this._resourcesStorage[e])&&(this._resourcesStorage[e]=this.storage.store[e])})),this._resourcesStorage}},resourcesTerminal:{get(){return _.isUndefined(this._resourcesTerminal)&&(this._resourcesTerminal={},_.isUndefined(this.terminal)||Object.keys(this.terminal.store).forEach(e=>{_.isUndefined(this._resourcesTerminal[e])&&(this._resourcesTerminal[e]=this.terminal.store[e])})),this._resourcesTerminal}},resourcesLabs:{get(){if(_.isUndefined(this._resourcesLabs)){this._resourcesLabs={};let e=this.memory.resources;if(!_.isUndefined(e)&&!_.isUndefined(e.lab))for(let t of e.lab)if("Storage"!==t.reactionState){const e=Game.getObjectById(t.id),r=e.mineralType,o=e.mineralAmount;_.isUndefined(r)||(_.isUndefined(this._resourcesLabs[r])?this._resourcesLabs[r]=o:this._resourcesLabs[r]+=o)}}return this._resourcesLabs}},resourcesCreeps:{get(){if(_.isUndefined(this._resourcesCreeps)){this._resourcesCreeps={};for(let e of this.creeps)Object.keys(e.carries).forEach(t=>{_.isUndefined(this._resourcesCreeps[t])?this._resourcesCreeps[t]=e.carry[t]:this._resourcesCreeps[t]+=e.carry[t]})}return this._resourcesCreeps}},resourcesOffers:{get(){if(_.isUndefined(this._resourcesOffers)){this._resourcesOffers={};let e=this.memory.resources;_.isUndefined(e)||_.isUndefined(e.offers)||(this._resourcesOffers=Util.sumCompoundType(e.offers))}return this._resourcesOffers}},resourcesOrders:{get(){if(_.isUndefined(this._resourcesOrders)){this._resourcesOrders={};let e=this.memory.resources;_.isUndefined(e)||_.isUndefined(e.orders)||(this._resourcesOrders=Util.sumCompoundType(e.orders))}return this._resourcesOrders}},resourcesReactions:{get(){if(_.isUndefined(this._resourcesReactions)){this._resourcesReactions={};let e=this.memory.resources;if(!_.isUndefined(e)&&!_.isUndefined(e.reactions)&&!_.isUndefined(e.reactions.orders)&&1===e.reactions.orders.length){const t=e.reactions,r=t.orders[0],o=r.type,a=r.amount,n=LAB_REACTIONS[o][0],s=LAB_REACTIONS[o][1],i=Game.getObjectById(t.seed_a),l=Game.getObjectById(t.seed_b),m=i.mineralAmount,u=l.mineralAmount;this._resourcesReactions[n]=a-m,this._resourcesReactions[s]=a-u}}return this._resourcesReactions}},resourcesAll:{get(){return _.isUndefined(this._resourcesAll)&&(this._resourcesAll={},_.isUndefined(this.storage)||Object.keys(this.storage.store).forEach(e=>{_.isUndefined(this._resourcesAll[e])&&(this._resourcesAll[e]=this.storedMinerals(e))}),_.isUndefined(this.terminal)||Object.keys(this.terminal.store).forEach(e=>{_.isUndefined(this._resourcesAll[e])&&(this._resourcesAll[e]=this.storedMinerals(e))})),this._resourcesAll}},droppedResources:{get(){return _.isUndefined(this._droppedResources)&&(this._droppedResources=this.find(FIND_DROPPED_RESOURCES)),this._droppedResources}},minerals:{get(){if(_.isUndefined(this._minerals)){this._minerals=[];let e=e=>{Util.addById(this._minerals,e)};_.forEach(this.memory.minerals,e)}return this._minerals}},mineralType:{get(){if(_.isUndefined(this.memory.mineralType)){let e=this.find(FIND_MINERALS);e&&e.length>0?this.memory.mineralType=e[0].mineralType:this.memory.mineralType=""}return this.memory.mineralType}},sources:{get(){if((_.isUndefined(this.memory.sources)||"sim"==this.name)&&(this._sources=this.find(FIND_SOURCES),this._sources.length>0?this.memory.sources=this._sources.map(e=>e.id):this.memory.sources=[]),_.isUndefined(this._sources)){this._sources=[];let e=e=>{Util.addById(this._sources,e)};this.memory.sources.forEach(e)}return this._sources}},sourceAccessibleFields:{get(){if(_.isUndefined(this.memory.sourceAccessibleFields)){let e=0,t=this.sources,r=t=>e+=t.accessibleFields;_.forEach(t,r),this.memory.sourceAccessibleFields=e}return this.memory.sourceAccessibleFields}},sourceEnergyAvailable:{get(){if(_.isUndefined(this._sourceEnergyAvailable)){this._sourceEnergyAvailable=0;let e=e=>this._sourceEnergyAvailable+=e.energy;_.forEach(this.sources,e)}return this._sourceEnergyAvailable}},ticksToNextRegeneration:{get(){return _.isUndefined(this._ticksToNextRegeneration)&&(this._ticksToNextRegeneration=_(this.sources).map("ticksToRegeneration").min()||0),this._ticksToNextRegeneration}},saveMinerals:{value(){let e=this.structures.all.filter(e=>e.structureType===STRUCTURE_EXTRACTOR&&e.active).map(e=>({x:e.pos.x,y:e.pos.y}));const t=this.find(FIND_MINERALS).filter(t=>_.some(e,{x:t.pos.x,y:t.pos.y}));if(t.length>0){let e=e=>e.id;this.memory.minerals=_.map(t,e)}else delete this.memory.minerals}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("spawn"),this.analyzeRoom=((e,t)=>{t&&e.saveSpawns()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({spawnQueueHigh:{get(){return _.isUndefined(this.memory.spawnQueueHigh)&&(this.memory.spawnQueueHigh=[]),this.memory.spawnQueueHigh}},spawnQueueMedium:{get(){return _.isUndefined(this.memory.spawnQueueMedium)&&(this.memory.spawnQueueMedium=[]),this.memory.spawnQueueMedium}},spawnQueueLow:{get(){return _.isUndefined(this.memory.spawnQueueLow)&&(this.memory.spawnQueueLow=[]),this.memory.spawnQueueLow}},saveSpawns:{value(){let e=this.find(FIND_MY_SPAWNS);if(e.length>0){let t=e=>e.id;this.memory.spawns=_.map(e,t)}else delete this.memory.spawns}}})}),this.roomManagerExtend=(()=>{this.assignRoomManager({bestSpawnRoomFor:e=>_.min(Game.rooms,t=>t.my?Util.routeRange(t.name,e):1/0),findSpawnRoom:e=>{if(!e||!e.targetRoom)return null;let t=_.filter(Game.rooms,t=>t.my&&(void 0===e.maxRange||Util.routeRange(t.name,e.targetRoom)<=e.maxRange)&&(void 0===e.minEnergyCapacity||e.minEnergyCapacity<=t.energyCapacityAvailable)&&(void 0===e.minEnergyAvailable||e.minEnergyAvailable<=t.energyAvailable)&&(t.name!=e.targetRoom||!0===e.allowTargetRoom)&&(void 0===e.minRCL||t.RCL>=e.minRCL)&&(void 0===e.callBack||e.callBack(t)));if(0==t.length)return null;let r=e=>_.sum(e,e=>3*e.parts.length);return _.min(t,t=>Util.routeRange(t.name,e.targetRoom)+(8-t.RCL)/(e.rangeRclRatio||3)+(e=>(.9*r(e.spawnQueueLow)+r(e.spawnQueueMedium)+1.1*r(e.spawnQueueHigh))/e.structures.spawns.length)(t)/(e.rangeQueueRatio||51))}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("tower"),this.analyzeRoom=((e,t)=>{t&&e.saveTowers()}),this.runRoom=((e,t)=>{const r=Game.rooms[t];r&&r.structures.towers.length>0&&TowerManager.loop(r)}),this.prototypeExtend=(()=>{this.assignRoomPrototype({towerFreeCapacity:{get(){if(_.isUndefined(this._towerFreeCapacity)){this._towerFreeCapacity=0;let e=e=>this._towerFreeCapacity+=e.energyCapacity-e.energy;_.forEach(this.structures.towers,e)}return this._towerFreeCapacity}},saveTowers:{value(){let e=this.find(FIND_MY_STRUCTURES,{filter:{structureType:STRUCTURE_TOWER}});if(e.length>0){let t=e=>e.id;this.memory.towers=_.map(e,t)}else delete this.memory.towers}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("fillRoomOrders"),this.analyze=(()=>{this.fillRoomOrders()}),this.fillRoomOrders=(()=>{if(!MAKE_COMPOUNDS&&!ALLOCATE_COMPOUNDS)return;_.isUndefined(Memory.boostTiming)&&(Memory.boostTiming={}),_.isUndefined(Memory.boostTiming.roomTrading)&&(Memory.boostTiming.roomTrading={boostProduction:!1,boostAllocation:!1}),_.isUndefined(Memory.boostTiming.timeStamp)&&(Memory.boostTiming.timeStamp=Game.time);const e=Util.orderingRoom(),t=e.length,r=Memory.boostTiming.roomTrading,o=_.filter(Game.rooms,{my:!0}),a=_.some(o,e=>{let t=e.memory.resources;return!(!t||!t.boostTiming)&&"reactionPlaced"===t.boostTiming.roomState});let n;if(a&&!1===Memory.boostTiming.roomTrading.boostProduction&&(Memory.boostTiming.roomTrading.boostProduction=!0,Memory.boostTiming.timeStamp=Game.time),1===t){let t=e[0];r.boostProduction&&(n=`BOOST_PRODUCTION since: ${Game.time-Memory.boostTiming.timeStamp}`),r.boostAllocation&&(n=`BOOST_ALLOCATION since: ${Game.time-Memory.boostTiming.timeStamp}`),Memory.boostTiming.multiOrderingRoomName?Log.module(t.name,`multi ordering in progress at ${Memory.boostTiming.multiOrderingRoomName}`):Log.module(t.name,`orderingRoom.name: ${t.name}, checkRoomAt: ${(t.memory.resources.boostTiming.checkRoomAt||0)-Game.time} ${n}`)}else t>1&&(Log.warn(`${t} ordering rooms!`),Log.table(e));if(1===e.length&&Game.time>=e[0].memory.resources.boostTiming.checkRoomAt&&!Memory.boostTiming.multiOrderingRoomName){const t=e[0],r=t.memory.resources;if(t.ordersWithOffers()){let e=t.checkOffers();Log.module(t.name,`checkOffers running from ${t.name} returnValue: ${e}`)}else Log.module(t.name,`${t.name} no offers found, updating offers`),t.GCOrders(),Log.stringify(r.orders)}else if(0===e.length){let e=Memory.boostTiming.roomTrading;!0!==e.boostProduction||a?!0===e.boostAllocation&&(e.boostAllocation=!1,Memory.boostTiming.timeStamp=Game.time):(e.boostProduction=!1,Memory.boostTiming.timeStamp=Game.time)}if((MAKE_COMPOUNDS||ALLOCATE_COMPOUNDS)&&Memory.boostTiming&&Memory.boostTiming.multiOrderingRoomName){const e=Game.rooms[Memory.boostTiming.multiOrderingRoomName],t=e.memory.resources.boostTiming.ordersReady,r=t.orderCandidates;let o=!1;if(Game.time<t.time)return;if(0===r.length)return Log.module(e.name,`all ready offers completed to ${Memory.boostTiming.multiOrderingRoomName} Memory.boostTiming.multiOrderingRoomName deleted.`),Game.rooms[Memory.boostTiming.multiOrderingRoomName].memory.resources.boostTiming.checkRoomAt=Game.time+CHECK_ORDERS_INTERVAL,delete Memory.boostTiming.multiOrderingRoomName,void delete e.memory.resources.boostTiming.ordersReady;for(let a=0;a<r.length;a++){const n=r[a],s=Game.rooms[n.room];if(n.readyOffers>0){if(s.terminal.cooldown>0){Log.module(s.name,`${s.name} terminal.cooldown: ${s.terminal.cooldown} fillARoomOrder() delayed.`),t.time=Game.time+s.terminal.cooldown;continue}t.time=Game.time+1,Log.module(e.name,`running ${n.room} fillARoomOrder() in a row, time: ${Game.time} readyOffers: ${n.readyOffers}`),!0===(o=s.fillARoomOrder())?(n.readyOffers--,n.readyOffers>=1?Log.module(n.room,`has ${n.readyOffers} remains fillRoomOrders check. readyOffers: ${n.readyOffers}`):(Log.module(e.name,`offers from ${n.room} are completed`),r.splice(a,1),a--)):o===ERR_TIRED?(t.time=Game.time+s.terminal.cooldown,Log.module(n.room,`${n.room} offers from ${n.room} failed send to ${e.name}.  Terminal.cooldown: ${s.terminal.cooldown}`)):o===ERR_NOT_ENOUGH_RESOURCES?(Log.module(e.name,`WARNING: offers from ${n.room} are not completed: not enough resources`),r.splice(a,1),a--):!0!==o&&o!==OK&&(Log.module(e.name,`WARNING: offers from ${n.room} are not completed. Offers deleted. terminal.send returns: ${Util.translateErrorCode(o)}`),r.splice(a,1),a--)}}}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("boostProduction"),this.analyze=(()=>{this.boostProduction()}),this.prototypeExtend=(()=>{this.assignRoomPrototype({resetBoostProduction:{value(){Util.resetBoostProduction(this.name)}}})}),this.boostProduction=(()=>{if(!MAKE_COMPOUNDS)return;let e=Memory.boostTiming.roomTrading;if(!e.boostAllocation&&!e.reallocating&&Game.time%MAKE_COMPOUNDS_INTERVAL==0){const e=_.filter(Game.rooms,{my:!0}),t=Util.orderingRoom(),r=_.some(e,e=>{let t=e.memory.resources;return!(!t||!t.boostTiming)&&"reactionPlaced"===t.boostTiming.roomState}),o=t.length;let a=!1;for(let t of e){let e=t.memory.resources;if(_.isUndefined(e))continue;const n=e.boostTiming,s=()=>{if(0===e.reactions.orders.length)return!1;let t=e.reactions.orders[0].type;return _.some(e.lab,e=>{let r=Game.getObjectById(e.id);return r.mineralType===t&&r.mineralAmount>0})};if(0!==e.orders.length&&0!==_.sum(e.orders,"amount")||"ordersPlaced"!==n.roomState||s()&&(n.roomState="reactionMaking",n.checkRoomAt=Game.time,delete n.getOfferAttempts,Log.module(t.name,`${t.name} orders done.`)),0!==o||r||a||(a=t.makeReaction()),e.reactions&&"burst"===e.reactions.reactorMode&&"reactionMaking"===e.boostTiming.roomState&&n.checkRoomAt-Game.time<=150&&Game.time%50==0){let r=e.reactions.orders[0];Log.module(t.name,`${t.name}, finishing ${r.type}. checkRoomAt: ${n.checkRoomAt-Game.time}`);const o=Game.getObjectById(e.reactions.seed_a),a=Game.getObjectById(e.reactions.seed_b),s=r.type,i=LAB_REACTIONS[s][0],l=LAB_REACTIONS[s][1],m=r.amount,u=t.getSeedLabOrders(),d=u.labOrderAmountA,c=u.labOrderAmountB,h=t.resourcesAll[i],p=t.resourcesAll[l],y=o.mineralAmount+d,f=a.mineralAmount+c;if(Log.module(t.name,`reactionAmount ${m}`),Log.module(t.name,`labs stored: seed_a: ${o.mineralAmount} ${i} seed_b: ${a.mineralAmount} ${l}`),Log.module(t.name,`labs ordered: seed_a: ${d} ${i} seed_b: ${c} ${l}`),y===m&&f===m)Log.module(t.name,"lab orders OK"),m>0&&((_.isUndefined(h)||0===h)&&o.mineralAmount<LAB_REACTION_AMOUNT||(_.isUndefined(p)||0===p)&&a.mineralAmount<LAB_REACTION_AMOUNT)&&(r.amount=0,Log.module(t.name,"resources NOT OK"),Log.module(t.name,`resourcesA: ${h} resourcesB: ${p}`),Log.module(t.name,`reactionOrders fixed: ${r.amount}`));else if(m>y||m>f){Log.module(t.name,"NOT ENOUGH lab orders:"),Log.module(t.name,`${t.name} reactionAmount: ${m} DIFF: labA: ${y-m} labB: ${f-m}`);let e=Math.min(y,f);e>=LAB_REACTION_AMOUNT?r.amount=e:r.amount=0,Log.module(t.name,`reactionOrders fixed: ${r.amount}`)}else if(m<y||m<f){Log.module(t.name,"TOO MUCH lab orders:"),Log.module(t.name,`${t.name} reactionAmount: ${m} DIFF: labA: ${y-m} labB: ${f-m}`);let e=Math.min(y,f);e>=LAB_REACTION_AMOUNT?r.amount=e:r.amount=0,Log.module(t.name,`reactionOrders fixed: ${r.amount}`)}}Game.time>=n.checkRoomAt&&"reactionMaking"===e.boostTiming.roomState&&(_.sum(e.reactions.orders,"amount")>0?(n.reactionMaking=Game.time,t.countCheckRoomAt(),Log.module(t.name,`${t.name} checkRoomAt counted: ${n.checkRoomAt-Game.time}`)):(Log.module("BoostPriduction",`Game.time: ${Game.time}`),Log.module(t.name,`reactions done in in ${t.name}`),e.boostTiming={}))}}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("boostCreepExtra"),this.analyzeRoom=(e=>{const t=e.memory.boostCreep;if(t){const r=Game.getObjectById(t.id);if(_.isNull(r))return Log.error("Wrong lab id");if(r.mineralAmount<r.mineralCapacity/2&&e.storage&&e.terminal){const r=(e.storage.store[t.mineralType]||0)+(e.terminal.store[t.mineralType]||0);if(0===e.memory.resources.orders.length&&r<3e3)return e.placeRoomOrder(e.storage.id,t.mineralType,3e3)}if(r.mineralType!==t.mineralType)return t.ready=!1;if(r.mineralAmount>r.mineralCapacity/3&&r.energy>r.energyCapacity/3)return t.ready=!0}}),this.prototypeExtend=(()=>{this.assignRoomPrototype({resetBoostCreep:{value(){delete this.memory.boostCreep,Log.room(this.name,Util.emoji.boosting,Dye(COLOR_GREEN,"boosting order is reset"))}},setBoostCreep:{value(e,t,r){const o=Game.getObjectById(e);if(_.isNull(o)||!(o instanceof StructureLab))return Log.error("Wrong lab id");Util.resetBoostProduction(this.name),this.memory.boostCreep={id:e,mineralType:t,creepType:r,ready:!1},this.placeOrder(e,t,o.mineralCapacity),Log.room(this.name,Util.emoji.boosting,Dye(COLOR_GREEN,`boosting set success: ${t} => ${r}`))}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(3);t.default=new class extends o.RoomExtra{constructor(){super("layout"),this.prototypeExtend=(()=>{this.assignRoomPrototype({resetLayout:{value(){this.memory.RBL=0,this.memory.RDL=0,Log.success(this.name,"RBL/RDL are reseted.")}},resetCenter:{value(){delete this.memory.center,Log.success(this.name,"center is reset.")}},setCenter:{value(e,t){this.memory.center={x:e,y:t},Log.success(this.name,"center set at",e,t)}}})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.priorityHigh=[CreepManager.setup.worker,CreepManager.setup.miner,CreepManager.setup.hauler,CreepManager.setup.upgrader],this.priorityLow=[CreepManager.setup.mineralMiner,CreepManager.setup.privateer],this.register=(()=>{CreepManager.spawningCompleted.on(e=>this.handleSpawningCompleted(e))}),this.handleSpawningCompleted=(e=>{LOG_TRACE&&Log.trace("Spawn",{behaviour:e.data.creepType,creepName:e.name,Spawn:"CreepManager.spawningCompleted"}),CENSUS_ANNOUNCEMENTS&&Log.room(e.pos.roomName,Dye(COLOR_GREEN,Util.emoji.tick,e.name,"was born!"))}),this.run=(()=>{_.forEach(Game.spawns,e=>{e.room.my&&e.run()})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.state={},this.loop=(e=>{this.state={hurtCreeps:e.hurtCreeps,urgentRepairable:e.structures.urgentRepairable,hostiles:e.hostiles,invasion:e.situation.invasion},_.forEach(e.structures.towers,this.run)}),this.run=(e=>{e&&this.runHeal(e,this.state.hurtCreeps,this.state.invasion)!==OK&&this.runRepair(e,this.state.urgentRepairable)!==OK&&this.runAttack(e,this.state.hostiles)}),this.runHeal=((e,t,r)=>{if(0===t.length)return;let o=t[0];if(o.hitsMax-o.hits>=400||!r){const t=e.heal(o);return _.isUndefined(o.towers)&&(o.towers=[]),o.towers.push(e.id),t}}),this.runRepair=((e,t)=>{if(0===t.length)return;let r=t[0];const o=e.repair(r);return _.isUndefined(r.towers)&&(r.towers=[]),r.towers.push(e.id),o}),this.runAttack=((e,t)=>{if(0===t.length)return;let r=e.pos.findClosestByRange(t);return r?e.attack(r):void 0})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.run=(()=>{_.forEach(Memory.rooms,(e,t)=>{if(this.RCL=e.RCL,!this.RCL||this.RCL<1)return;if(!e.center){const e=Game.rooms[t].storage;if(!e)return;Game.rooms[t].setCenter(e.pos.x,e.pos.y)}e.RBL||(e.RBL=0),e.RDL||(e.RDL=0);const r=e.RBL,o=e.RDL,a=e.center;return 8!==r||8!==o?(this.x=a.x-6,this.y=a.y-6,this.room=Game.rooms[t],r!==this.RCL?this.build(this.layout[r]):o!==this.RCL&&0===_.size(Game.constructionSites)?this.build(this.defendLayout[o],!0):void 0):void 0})}),this.build=((e,t)=>{null===e&&(t?this.room.memory.RDL++:this.room.memory.RBL++);let r=!0;_.forEach(e,(e,o)=>{_.forEach(e,(e,a)=>{if(0===e)return;const n=this.room.createConstructionSite(this.x+a,this.y+o,t?STRUCTURE_RAMPART:this.structureType[e]);_.include([ERR_INVALID_TARGET,ERR_RCL_NOT_ENOUGH]||n===ERR_FULL,n)||(r=!1)})}),r&&(t?this.room.memory.RDL++:this.room.memory.RBL++)}),this.structureType={1:STRUCTURE_ROAD,2:STRUCTURE_EXTENSION,3:STRUCTURE_TOWER,4:STRUCTURE_SPAWN,5:STRUCTURE_POWER_SPAWN,6:STRUCTURE_STORAGE,7:STRUCTURE_LINK,8:STRUCTURE_TERMINAL,9:STRUCTURE_LAB,10:STRUCTURE_NUKER},this.defendLayout={0:null,1:[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],2:[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],3:[[0,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,1,1,1,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,0]],4:[[0,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,1,1,1,0,0,0,0,1],[1,0,0,0,1,1,1,1,1,0,0,0,1],[1,0,0,0,0,1,1,1,0,0,0,0,1],[1,0,0,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,0]],5:[[0,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,0,1,0,0,0,1,0,0,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,0,1,1,1,0,0,0,1,1],[1,0,0,0,1,1,1,1,1,0,0,0,1],[1,0,0,0,1,1,1,1,1,0,0,0,1],[1,0,0,0,1,1,1,1,1,0,0,0,1],[1,1,0,0,0,1,1,1,0,0,0,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,0,0,1,0,0,0,1,0,0,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,0]],6:[[0,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,0]],7:[[0,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,1,1,1,1,1,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,1,1,1,0]]},this.layout={0:[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,4,1,0,0,0,0,0],[0,0,0,0,1,0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],1:[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,1,2,1,0,0,0,0,0,0,0],[0,0,1,2,0,2,1,0,0,0,0,0,0],[0,1,2,0,0,1,4,1,0,0,0,0,0],[0,0,1,2,1,1,0,1,1,0,0,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],2:[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,1,0,0,0,0],[0,0,0,1,2,1,0,1,2,1,0,0,0],[0,0,1,2,0,2,1,2,0,2,1,0,0],[0,1,2,0,0,1,4,1,0,0,2,1,0],[0,0,1,2,1,1,3,1,1,2,1,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,1,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0]],3:[[0,1,1,1,0,1,1,1,0,1,1,1,0],[1,0,0,2,1,0,0,0,1,2,0,0,1],[1,0,2,1,2,1,0,1,2,1,2,0,1],[1,2,1,2,2,2,1,2,2,2,1,2,1],[0,1,2,2,0,1,4,1,0,2,2,1,0],[1,0,1,2,1,1,3,1,1,2,1,0,1],[1,0,0,1,0,0,6,0,0,1,0,0,1],[1,0,1,0,1,1,1,1,1,0,1,0,1],[0,1,0,0,0,1,0,1,0,0,0,1,0],[1,0,1,0,0,0,1,0,0,0,1,0,1],[1,0,0,1,0,1,0,1,0,1,0,0,1],[1,0,0,0,1,0,0,0,1,0,0,0,1],[0,1,1,1,0,1,1,1,0,1,1,1,0]],4:[[0,1,1,1,0,1,1,1,0,1,1,1,0],[1,0,0,2,1,0,0,0,1,2,0,0,1],[1,0,2,1,2,1,0,1,2,1,2,0,1],[1,2,1,2,2,2,1,2,2,2,1,2,1],[0,1,2,2,0,1,4,1,0,2,2,1,0],[1,0,1,2,1,1,3,1,1,2,1,0,1],[1,0,0,1,0,3,6,0,0,1,0,0,1],[1,0,1,2,1,1,1,1,1,0,1,0,1],[0,1,2,2,0,1,7,1,0,0,0,1,0],[1,2,1,2,2,2,1,0,0,0,1,0,1],[1,0,2,1,2,1,0,1,0,1,0,0,1],[1,0,0,2,1,0,0,0,1,0,0,0,1],[0,1,1,1,0,1,1,1,0,1,1,1,0]],5:[[0,1,1,1,0,1,1,1,0,1,1,1,0],[1,0,2,2,1,0,0,0,1,2,2,0,1],[1,2,2,1,2,1,2,1,2,1,2,2,1],[1,2,1,2,2,2,1,2,2,2,1,2,1],[0,1,2,2,0,1,4,1,0,2,2,1,0],[1,0,1,2,1,1,3,1,1,2,1,0,1],[1,0,2,1,0,3,6,0,0,1,2,0,1],[1,0,1,2,1,1,1,1,1,0,1,0,1],[0,1,2,2,0,1,7,1,8,0,0,1,0],[1,2,1,2,2,2,1,0,0,9,1,0,1],[1,2,2,1,2,1,2,1,9,1,9,0,1],[1,0,2,2,1,0,0,0,1,0,0,0,1],[0,1,1,1,0,1,1,1,0,1,1,1,0]],6:[[0,1,1,1,0,1,1,1,0,1,1,1,0],[1,0,2,2,1,2,0,2,1,2,2,0,1],[1,2,2,1,2,1,2,1,2,1,2,2,1],[1,2,1,2,2,2,1,2,2,2,1,2,1],[0,1,2,2,0,1,4,1,0,2,2,1,0],[1,2,1,2,1,1,3,1,1,2,1,2,1],[1,2,2,1,4,3,6,3,0,1,2,2,1],[1,2,1,2,1,1,1,1,1,0,1,2,1],[0,1,2,2,0,1,7,1,8,0,9,1,0],[1,2,1,2,2,2,1,0,0,9,1,9,1],[1,2,2,1,2,1,2,1,9,1,9,0,1],[1,0,2,2,1,2,0,2,1,9,0,0,1],[0,1,1,1,0,1,1,1,0,1,1,1,0]],7:[[0,1,1,1,2,1,1,1,2,1,1,1,0],[1,0,2,2,1,2,10,2,1,2,2,0,1],[1,2,2,1,2,1,2,1,2,1,2,2,1],[1,2,1,2,2,2,1,2,2,2,1,2,1],[2,1,2,2,3,1,4,1,3,2,2,1,2],[1,2,1,2,1,1,3,1,1,2,1,2,1],[1,2,2,1,4,3,6,3,4,1,2,2,1],[1,2,1,2,1,1,1,1,1,2,1,2,1],[2,1,2,2,3,1,7,1,8,9,9,1,2],[1,2,1,2,2,2,1,2,9,9,1,9,1],[1,2,2,1,2,1,2,1,9,1,9,9,1],[1,0,2,2,1,2,5,2,1,9,9,0,1],[0,1,1,1,2,1,1,1,2,1,1,1,0]]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(4);t.default=new class extends o.Component{constructor(){super(...arguments),this.run=(()=>{Memory.stats={tick:Game.time},Memory.stats.cpu=Game.cpu,Memory.stats.cpu.used=Game.cpu.getUsed(),Memory.stats.gcl=Game.gcl,Memory.stats.market={credits:Game.market.credits,numOrders:Game.market.orders?Object.keys(Game.market.orders).length:0},Memory.stats.rooms={};for(let e in Game.rooms){const t=Game.rooms[e];t&&t.my&&(Memory.stats.rooms[t.name]={name:t.name,spawns:{},storage:{},terminal:{},minerals:{},sources:{},controller:{},energy:{},labs:{},walls:{},ramparts:{}},this.init(t,Memory.stats.rooms[t.name]))}}),this.init=((e,t)=>{this.controller(e,t.controller),this.energy(e,t.energy),this.labs(e,t.labs),this.spawns(e,t.spawns),this.storage(e,t.storage),this.terminal(e,t.terminal),this.minerals(e,t.minerals),this.sources(e,t.sources),this.walls(e,t.walls),this.ramparts(e,t.ramparts),t.extensions=e.memory.extensions?e.memory.extensions.length:0,t.links=e.memory.links?e.memory.links.length:0,t.towers=e.memory.towers?e.memory.towers.length:0,t.observer=e.memory.observer?1:0,t.roadConstructionTrace=null}),this.walls=((e,t)=>{const r=e.structures.walls;if(r&&r.length>0){const e=_.map(r,"hits");t.max=_.max(e),t.avg=Math.floor(_.sum(e)/e.length)}}),this.ramparts=((e,t)=>{const r=e.structures.ramparts;if(r&&r.length>0){const e=_.map(r,"hits");t.max=_.max(e),t.avg=Math.floor(_.sum(e)/e.length)}}),this.labs=((e,t)=>{const r=e.structures.labs.all;r&&r.length>0&&_.forEach(r,e=>{t[e.id]={energy:e.energy,mineralType:e.mineralType,mineralAmount:e.mineralAmount}})}),this.controller=((e,t)=>{e.controller&&(t.level=e.RCL,t.progress=e.controller.progress,t.progressTotal=e.controller.progressTotal)}),this.energy=((e,t)=>{t.available=e.energyAvailable,t.capacityAvailable=e.energyCapacityAvailable}),this.spawns=((e,t)=>{const r=e.structures.spawns;r&&r.length>0&&_.forEach(r,e=>{t[e.name]={name:e.name,energy:e.energy,spawning:!(!e.spawning||!e.spawning.name)},e.spawning&&e.spawning.name&&(t[e.name].name=e.spawning.name,t[e.name].remainingTime=e.spawning.remainingTime,t[e.name].needTime=e.spawning.needTime)})}),this.storage=((e,t)=>{e.storage&&(t.store=_.sum(e.storage.store),t.resources={},Object.keys(e.storage.store).forEach(r=>t.resources[r]=e.storage.store[r]))}),this.terminal=((e,t)=>{e.terminal&&(t.store=_.sum(e.terminal.store),t.resources={},Object.keys(e.terminal.store).forEach(r=>t.resources[r]=e.terminal.store[r]))}),this.minerals=((e,t)=>{const r=e.minerals;if(r&&r.length>0){const e=r[0];t[e.id]={id:e.id,density:e.density,mineralAmount:e.mineralAmount,mineralType:e.mineralType,ticksToRegeneration:e.ticksToRegeneration}}}),this.sources=((e,t)=>{const r=e.sources;r&&r.length>0&&_.forEach(r,e=>t[e.id]={id:e.id,energy:e.energy,energyCapacity:e.energyCapacity,ticksToRegeneration:e.ticksToRegeneration})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7),a=r(290),n=r(291),s=r(292),i=r(293),l=r(294),m=r(295);t.default=new class extends o.VisualsBase{constructor(){super(...arguments),this.state={HeatMap:new i.HeatMap,Piechart:new a.Piechart,Sidebar:new n.Sidebar,ToolTip:new s.ToolTip,CreepVis:new l.CreepVis,RoomVis:new m.RoomVis},this.run=(()=>{const e=VISUALS.VISIBLE_ONLY,t=e?Util.getVisibleRooms():Object.keys(Game.rooms);_.forEach(t,t=>{const r=Game.rooms[t];r&&(ROOM_VISUALS_ALL||r.my)&&(e||r.controller)&&_.forEach(this.state,e=>e.run(r))})}),this.drawLine=((e,t,r)=>{if(e instanceof RoomObject&&(e=e.pos),t instanceof RoomObject&&(t=t.pos),!(e instanceof RoomPosition||t instanceof RoomPosition))throw new Error("Visuals: Point not a RoomPosition");if(e.roomName!==t.roomName)return;const o=new RoomVisual(e.roomName),a=r instanceof Creep?this.creepPathStyle(r):r||{};o.line(e,t,a)}),this.drawArrow=((e,t,r)=>{if(e instanceof RoomObject&&(e=e.pos),t instanceof RoomObject&&(t=t.pos),!(e instanceof RoomPosition||t instanceof RoomPosition))throw new Error("Visuals: Point not a RoomPosition");if(e.roomName!==t.roomName)return;const o=new RoomVisual(e.roomName);this.drawLine(e,t,r);const a=e.x-t.x,n=e.y-t.y,s=Math.atan2(n,a),i=.5*Math.log1p(Util.getDistance(e,t)),l=r instanceof Creep?this.creepPathStyle(r):r||{};o.line(t.x,t.y,t.x+i*Math.cos(s+.610865),t.y+i*Math.sin(s+.610865),l),o.line(t.x,t.y,t.x+i*Math.cos(s-.610865),t.y+i*Math.sin(s-.610865),l)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.Piechart=class extends o.VisualsBase{constructor(){super(...arguments),this.pieStyle={radius:1.2,fill:"rgba(0,0,0,.5)",stroke:"rgba(255,255,255,.5)"},this.pieFontStyle={color:"#FFFFFF",font:"0.8 Hack",align:"center",stroke:"rgba(0,0,0,0.8)"},this.pieTitleStyle={color:"#FFFFFF",font:"0.6 Hack",align:"center"},this.color="#62e6ac",this.run=(e=>{this.vis=new RoomVisual(e.name),VISUALS.ROOM&&e.controller&&this.drawRoomInfo(e)}),this.drawPie=((e,t,r,o,a,n)=>{n||(n=e);let s=1;0!==t&&(s=e/t),a={x:a.x,y:1*a.y*4.5},this.vis.circle(a,this.pieStyle);const i=[a],l=2*Math.PI,m=l*(s+.1),u=-Math.PI/2,d=l/32;for(let e=0;e<=m;e+=d)i.push({x:a.x+Math.cos(e+u),y:a.y-Math.cos(e)});i.push(a),this.vis.poly(i,{fill:o,opacity:1,stroke:o,strokeWidth:.05}),this.vis.text(Number.isFinite(n)?Util.formatNumber(n):n,a.x,a.y+.3,this.pieFontStyle);let c=.7;s>.35&&s<.65&&(c+=.3),this.vis.text(r,a.x,a.y+1.5+c,this.pieTitleStyle)}),this.drawRoomInfo=(e=>{this.vis.text(`${Util.emoji.home}${e.name}`,24.5,1.5,{font:"1 Hack",backgroundColor:"rgba(0,0,0,.5)"});let t=.5;this.drawPie(Math.round(Game.cpu.getUsed()),Game.cpu.limit,"CPU",this.color,{x:47,y:t++}),this.drawPie(Game.cpu.bucket,1e4,"Bucket",this.color,{x:47,y:t++}),this.drawPie(Math.round(Game.gcl.progress),Game.gcl.progressTotal,`GCL ${Game.gcl.level}`,this.color,{x:47,y:t++});const r=e.controller;if(r){let e,o,a="RCL",n=!0;8===r.level?(e=1,o=1):r.reservation?(e=r.reservation.ticksToEnd,o=5e3):r.owner?(e=Math.min(r.progress,r.progressTotal),o=r.progressTotal,a+=` ${r.level}`):n=!1,n&&this.drawPie(e,o,a,this.color,{x:47,y:t++},r.level)}const o=e.storage;o&&this.drawPie(o.sum,o.storeCapacity,"Store",this.color,{x:47,y:t++})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.Sidebar=class extends o.VisualsBase{constructor(){super(...arguments),this.infoStyle={align:"left",font:"0.8 Hack",backgroundColor:"rgba(0,0,0,.5)"},this.objectStyle={align:"left",font:"0.6 Hack",backgroundColor:"rgba(0,0,0,.1)",backgroundPadding:.2},this.titleStyle={align:"left",font:"bold 0.5 Hack",color:"rgba(0,0,0,.7)",backgroundPadding:.2},this.subStyle={align:"left",font:"0.4 Hack",opacity:.7},this.Y_PADDING=3,this.Y_MAEGIN=1.2,this.Y_LIST_MARGIN=1,this.run=(e=>{this.vis=new RoomVisual(e.name),VISUALS.ROOM_ORDERS&&this.drawRoomOrders(e,"orders"),VISUALS.ROOM_OFFERS&&this.drawRoomOrders(e,"offers"),VISUALS.STORAGE&&this.drawStoreInfo(e,"storage"),VISUALS.TERMINAL&&this.drawStoreInfo(e,"terminal"),VISUALS.REACTIONS&&this.drawReactionsOrders(e)}),this.drawReactionsOrders=(e=>{let t=1;const r=e.memory.resources;r&&r.reactions&&0!==r.reactions.orders.length&&(VISUALS.STORAGE&&e.storage&&(t+=this.Y_PADDING+_.size(e.storage.store)*this.Y_LIST_MARGIN),VISUALS.TERMINAL&&e.terminal&&(t+=this.Y_PADDING+_.size(e.terminal.store)*this.Y_LIST_MARGIN),VISUALS.ROOM_ORDERS&&r.orders&&r.orders.length>0&&(t+=this.Y_PADDING+_.size(r.orders)*this.Y_LIST_MARGIN),VISUALS.ROOM_OFFERS&&r.offers&&r.offers.length>0&&(t+=this.Y_PADDING+_.size(r.offers)*this.Y_LIST_MARGIN),this.vis.text("Reactions Orders",1,++t,this.infoStyle),this._roomOrdersObject(r.reactions.orders,1,t+this.Y_MAEGIN-.5))}),this.drawRoomOrders=((e,t)=>{let r=1;const o=e.memory.resources;o&&o[t]&&_.size(o[t])&&(VISUALS.STORAGE&&e.storage&&(r+=this.Y_PADDING+_.size(e.storage.store)*this.Y_LIST_MARGIN),VISUALS.TERMINAL&&e.terminal&&(r+=this.Y_PADDING+_.size(e.terminal.store)*this.Y_LIST_MARGIN),"offers"===t&&VISUALS.ROOM_ORDERS&&o.orders&&o.orders.length>0&&(r+=this.Y_PADDING+_.size(o.orders)*this.Y_LIST_MARGIN),this.vis.text(`Room ${_.capitalize(t)}`,1,++r,this.infoStyle),this._roomOrdersObject(o[t],1,r+this.Y_MAEGIN-.5))}),this.drawStoreInfo=((e,t)=>{const r=e[t];if(!r||!_.size(r.store))return;let o=1;"terminal"===t&&VISUALS.STORAGE&&e.storage&&(o+=this.Y_PADDING+_.size(e.storage.store)*this.Y_LIST_MARGIN),this.vis.text(`${_.capitalize(t)} Contents`,1,++o,this.infoStyle);const a=r.sum,n=r.storeCapacity,s=`L: ${Util.formatNumber(n-a)}`,i=`${Util.formatNumber(a)}/${Util.formatNumber(n)}`;this.vis.text(`${s} (${i})`,1,o+1.2,this.subStyle),this._storageObject(r.store,1,o+this.Y_MAEGIN)}),this._drawList=((e,t,r,o)=>{const a=r===RESOURCE_ENERGY?"E":r,n=this.getResourceColour(r);this.vis.text(`${a}`,e,t,_.assign({backgroundColor:n},this.titleStyle)),this.vis.text(`${Util.formatNumber(o)}`,e+2,t,_.assign({backgroundColor:n},this.objectStyle))}),this._roomOrdersObject=((e,t,r)=>{_.forEach(e,e=>this._drawList(t,r+=this.Y_LIST_MARGIN,e.type,e.amount))}),this._storageObject=((e,t,r)=>{_.forEach(Object.keys(e),o=>this._drawList(t,r+=this.Y_LIST_MARGIN,o,e[o]))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.ToolTip=class extends o.VisualsBase{constructor(){super(...arguments),this.toolTipStyle={align:"left",font:"0.4 Hack",backgroundColor:"rgba(0,0,0,.5)"},this.weakestStyle={radius:.4,fill:"#FF0000",opacity:.3,strokeWidth:0},this.run=(e=>{this.vis=new RoomVisual(e.name),VISUALS.MINERAL&&this.drawMineralInfo(e.minerals),VISUALS.SOURCE&&e.sources.forEach(e=>this.drawSourceInfo(e)),VISUALS.CONTROLLER&&this.drawControllerInfo(e.controller),VISUALS.TRANSACTIONS&&this.drawTransactions(e),VISUALS.LABS&&e.structures.labs.all.forEach(e=>this.drawLabInfo(e)),VISUALS.TOWER&&e.structures.towers.forEach(e=>this.drawTowerInfo(e)),VISUALS.SPAWN&&e.structures.spawns.filter(e=>e.spawning).forEach(e=>this.drawSpawnInfo(e)),VISUALS.WALL&&this.highlightWeakest(e,STRUCTURE_WALL),VISUALS.RAMPART&&this.highlightWeakest(e,STRUCTURE_RAMPART),VISUALS.ROAD&&this.highlightWeakest(e,STRUCTURE_ROAD)}),this.drawSpawnInfo=(e=>{e.spawning&&this.vis.text(`${Util.emoji.baby} ${e.spawning.name}`,e.pos.x-.5,e.pos.y,this.toolTipStyle)}),this.drawMineralInfo=(e=>{if(!e||!e.room)return;const t=e.pos.x+.5,r=e.pos.y;e.mineralAmount?this.vis.text(`${Util.emoji.mining} ${Math.floor(e.mineralAmount)}`,t,r,this.toolTipStyle):this.vis.text(`${Util.emoji.reload} ${Util.formatNumber(e.ticksToRegeneration)}`,t,r,this.toolTipStyle)}),this.drawSourceInfo=(e=>{const t=e.pos.x+.5,r=e.pos.y;e.energy?this.vis.text(`${Util.emoji.mining} ${e.energy}`,t,r,this.toolTipStyle):this.vis.text(`${Util.emoji.reload} ${e.ticksToRegeneration}`,t,r,this.toolTipStyle)}),this.drawControllerInfo=(e=>{const t=e.pos.x+.5;let r=e.pos.y;const o=this.toolTipStyle;let a=`${Util.emoji.upgrading} Lv${e.level}`,n=`${Util.formatNumber(e.progress)}/${Util.formatNumber(e.progressTotal)} (${(e.progress/e.progressTotal*100).toFixed(2)}%)`,s=`${Util.emoji.reload} ${Util.formatNumber(e.ticksToDowngrade)}`;if(8===e.level)n="";else if(e.reservation)a=`${Util.emoji.flag} Reserved`,n="",s=`${Util.emoji.reload} ${e.reservation.ticksToEnd}`;else if(!e.owner)return;if(""!==n?this.vis.text(a+": "+n,t,r,o):this.vis.text(a,t,r,o),e.ticksToDowngrade<CONTROLLER_DOWNGRADE[e.level]||e.reservation){let e=Object.assign({},o,{color:"#FF0000"});this.vis.text(s,t,r+=1.2,e)}}),this.drawLabInfo=(e=>{if(!e.energy&&!e.mineralAmount&&!e.cooldown)return;const t=e.pos.x+.8;let r=e.pos.y-.5;e.mineralAmount&&this.vis.text(`M: ${e.mineralType} (${Util.formatNumber(e.mineralAmount)})`,t,r+=.4,Object.assign({color:this.getResourceColour(e.mineralType)},this.toolTipStyle)),e.cooldown&&this.vis.text(`C: ${e.cooldown}`,t,r+=.4,Object.assign({color:"#FF0000"},this.toolTipStyle))}),this.drawTowerInfo=(e=>{const t=e.energyCapacity-e.energy;t>0&&this.vis.text(`${Util.emoji.fueling} ${t}`,e.pos.x,e.pos.y,this.toolTipStyle)}),this.drawTransactions=(e=>{if(!e.terminal)return;const t=e.terminal.pos.x;let r=e.terminal.pos.y-1;const o=_(Game.market.incomingTransactions).concat(Game.market.outgoingTransactions).filter(t=>t.from===e.name||t.to===e.name).sortByOrder("time","desc").slice(0,2).value();0!==o.length&&(2===o.length&&(r-=.4),_.forEach(o,o=>{const a=!!o.sender&&o.sender.username===e.controller.owner.username,n=!!o.recipient&&o.sender.username===o.recipient.username,s=e.name===o.to,i=a||s?"#00FF00":"#FF0000",l=a?"+":"-";let m="";m=n||!o.order?`${s?o.from:o.to} : ${o.amount} ${o.resourceType}`:`${l}${o.amount*o.order.price}`,this.vis.text(m,t,r,{font:this.toolTipStyle.font,color:i}),r+=.4}))}),this.highlightWeakest=((e,t)=>{const r=_(e.find(FIND_STRUCTURES)).filter({structureType:t}).min("hits");if(r&&r.pos){this.vis.circle(r.pos.x,r.pos.y,this.weakestStyle);let e=r.pos.y-.5;const t=r.pos.lookFor(LOOK_STRUCTURES);if(_.find(t,e=>e instanceof StructureTower)&&VISUALS.TOWER)e+=.4;else if(_.find(t,e=>e instanceof StructureSpawn&&e.spawning)&&VISUALS.SPAWN)e+=.4;else{const r=_.find(t,e=>e instanceof StructureLab);r&&VISUALS.LABS&&(r.energy&&(e+=.4),r.mineralAmount&&(e+=.4),r.cooldown&&(e+=.4))}this.vis.text(`H: ${Util.formatNumber(r.hits)} (${(r.hits/r.hitsMax*100).toFixed(2)}%)`,r.pos.x+1,e,this.toolTipStyle)}})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.HeatMap=class extends o.VisualsBase{constructor(){super(...arguments),this.run=(e=>{Util.set(Memory,"heatmap",!1),this.vis=new RoomVisual(e.name),VISUALS.HEATMAP&&(Game.time%VISUALS.HEATMAP_INTERVAL==0&&this.setHeatMapData(e),Memory.heatmap&&this.drawHeatMapData(e))}),this.setHeatMapData=(e=>{Util.set(e.memory,"heatmap",()=>{const t={};for(let r=0;r<50;r++)for(let o=0;o<50;o++)"wall"!==Game.map.getTerrainAt(e.getPositionAt(r,o))&&(t[`${String.fromCharCode(32+r)}${String.fromCharCode(32+o)}_x${r}-y${o}`]=0);return t}),e.creeps.filter(e=>!e.spawning).forEach(t=>{const r=t.pos.x,o=t.pos.y,a=`${String.fromCharCode(32+r)}${String.fromCharCode(32+o)}_x${r}-y${o}`;e.memory.heatmap[a]++})}),this.drawHeatMapData=(e=>{const t=Object.keys(e.memory.heatmap).map(t=>({n:e.memory.heatmap[t],x:t.charCodeAt(0)-32,y:t.charCodeAt(1)-32})),r=_.filter(t,e=>e.n>0),o=_.sum(r,e=>e.n)/r.length*2;r.forEach(e=>{const t=e.n/o,r=this.getColourByPercentage(Math.min(1,t));this.vis.rect(e.x-.5,e.y-.5,1,1,{fill:r})})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.CreepVis=class extends o.VisualsBase{constructor(){super(...arguments),this.run=(e=>{this.vis=new RoomVisual(e.name),VISUALS.CREEP&&_.forEach(e.creeps,e=>this.drawCreepPath(e))}),this.drawCreepPath=(e=>{if(e.action&&"idle"===e.action.name)return;if(_(e.pos).pick(["x","y"]).eq(e.data.determinatedSpot))return;if(!e.memory||!e.memory._travel||!e.memory._travel.path)return;const t=e.memory._travel.path.substr(1),r=this.creepPathStyle(e);let o=e.pos.x,a=e.pos.y;const n={[TOP]:{x:0,y:-1},[TOP_RIGHT]:{x:1,y:-1},[RIGHT]:{x:1,y:0},[BOTTOM_RIGHT]:{x:1,y:1},[BOTTOM]:{x:0,y:1},[BOTTOM_LEFT]:{x:-1,y:1},[LEFT]:{x:-1,y:0},[TOP_LEFT]:{x:-1,y:-1}};if(0===e.fatigue){const t=+e.memory._travel.path[0];o+=n[t].x,a+=n[t].y}for(let e of t)e=+e,this.vis.line(o,a,o+=n[e].x,a+=n[e].y,r)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(7);t.RoomVis=class extends o.VisualsBase{constructor(){super(...arguments),this.shapeStyle={fill:"#66D9EF",opacity:.03,stroke:"rgba(0,0,0,0)"},this.lineStyle={opacity:.1,stroke:"#666"},this.run=(e=>{this.vis=new RoomVisual(e.name),this.bluePring(e),this.bluePring(e)}),this.bluePring=(e=>{if(!e.memory.center)return;const t=e.memory.center,r=this.makePoint(t);this.vis.circle(t),this.vis.poly([r.topLeftA,r.topLeftB,r.topRightA,r.topRightB,r.bottomRightA,r.bottomRightB,r.bottomLeftA,r.bottomLeftB,r.topLeftA],this.shapeStyle),this.vis.poly([r.centerTop,r.centerRight,r.centerBottom,r.centerLeft,r.centerTop],_.assign(this.lineStyle,{opacity:.3})),this.vis.poly([r.centerLeft,r.centerLeftA,r.centerTopA,r.centerTop,r.centerTopB,r.centerRightA,r.centerRight,r.centerRightB,r.centerBottomB,r.centerBottom,r.centerBottomA,r.centerLeftB,r.centerLeft],_.assign(this.lineStyle,{opacity:.2})),this.vis.poly([r.topA,r.centerTopA,r.topB,r.topC,r.centerTopB,r.topD,r.topRightA,r.topRightB,r.rightA,r.centerRightA,r.rightB,r.rightC,r.centerRightB,r.rightD,r.bottomRightA,r.bottomRightB,r.bottomD,r.centerBottomB,r.bottomC,r.bottomB,r.centerBottomA,r.bottomA,r.bottomLeftA,r.bottomLeftB,r.leftD,r.centerLeftB,r.leftC,r.leftB,r.centerLeftA,r.leftA,r.topLeftA,r.topLeftB,r.topA],_.assign(this.lineStyle,{opacity:.1}))})}makePoint(e){const{x:t,y:r}=e;return{topLeft:[t-6,r-6],topRight:[t+6,r-6],bottomRight:[t+6,r+6],bottomLeft:[t-6,r+6],topLeftA:[t-6,r-5],topLeftB:[t-5,r-6],topRightA:[t+5,r-6],topRightB:[t+6,r-5],bottomRightA:[t+6,r+5],bottomRightB:[t+5,r+6],bottomLeftA:[t-5,r+6],bottomLeftB:[t-6,r+5],topA:[t-3,r-6],topB:[t-1,r-6],topC:[t+1,r-6],topD:[t+3,r-6],rightA:[t+6,r-3],rightB:[t+6,r-1],rightC:[t+6,r+1],rightD:[t+6,r+3],bottomA:[t-3,r+6],bottomB:[t-1,r+6],bottomC:[t+1,r+6],bottomD:[t+3,r+6],leftA:[t-6,r-3],leftB:[t-6,r-1],leftC:[t-6,r+1],leftD:[t-6,r+3],centerTop:[t,r-3],centerRight:[t+3,r],centerBottom:[t,r+3],centerLeft:[t-3,r],centerTopA:[t-2,r-5],centerTopB:[t+2,r-5],centerRightA:[t+5,r-2],centerRightB:[t+5,r+2],centerBottomA:[t-2,r+5],centerBottomB:[t+2,r+5],centerLeftA:[t-5,r-2],centerLeftB:[t-5,r+2]}}}},function(e,t){e.exports=require("commands")}]);