{"version":3,"sources":["webpack/bootstrap c148ef695451f9969910","./src/_util/index.js","./src/action/index.js","./src/config/index.js","./src/flags/index.js","./~/screeps-perf/screeps-perf.js","./~/screeps-profiler/screeps-profiler.js","./src/gui/index.js","./src/manager/index.js","./src/setting/index.js","./src/task/index.js","./src/_util/_action.js","./src/_util/_color.js","./src/_util/_colorType.js","./src/_util/_createConstructionSite.js","./src/_util/_debug.js","./src/_util/_emoji.js","./src/_util/_flagCommand.js","./src/_util/_isFriend.js","./src/_util/_isFull.js","./src/_util/_table.js","./src/_util/_targetChanger.js","./src/_util/_targetFormat.js","./src/_util/_targetMaker.js","./src/_util/_targetPos.js","./src/_util/_timer.js","./src/action/creep/_attack.js","./src/action/creep/_build.js","./src/action/creep/_claimController.js","./src/action/creep/_dismantle.js","./src/action/creep/_harvest.js","./src/action/creep/_heal.js","./src/action/creep/_moveTo.js","./src/action/creep/_pickup.js","./src/action/creep/_repair.js","./src/action/creep/_transfer.js","./src/action/creep/_upgradeController.js","./src/action/creep/_withdraw.js","./src/action/find/_findClosestByRange.js","./src/action/find/_findClosestInRange.js","./src/action/find/_findInRange.js","./src/action/find/_lookFor.js","./src/config/_role.js","./src/flags/_attack.js","./src/flags/_dismantle.js","./src/flags/_moveTo.js","./src/gui/_creepBar.js","./src/gui/_role.js","./src/gui/_room.js","./src/main.js","./src/manager/_global.js","./src/manager/_memory/_creeps.js","./src/manager/_memory/_dropped.js","./src/manager/_memory/_flags.js","./src/manager/_memory/_sources.js","./src/manager/_memory/_structures.js","./src/manager/_memory/index.js","./src/manager/_role.js","./src/manager/_root.js","./src/manager/_structure.js","./src/role/_attacker.js","./src/role/_builder.js","./src/role/_claim.js","./src/role/_cleaner.js","./src/role/_farBuilder.js","./src/role/_farHarvester.js","./src/role/_farMiner.js","./src/role/_farUpgrader.js","./src/role/_harvester.js","./src/role/_linker.js","./src/role/_miner.js","./src/role/_upgrader.js","./src/role/index.js","./src/setting/_role.js","./src/setting/_room.js","./src/structure/_link.js","./src/structure/_spawn.js","./src/structure/_tower.js","./src/structure/index.js","./src/task/_log.js","./src/task/_trigger.js"],"names":["default","room","Game","rooms","role","sort","a","b","priority","repair","percent","maxHits","linkMain","originalFindPath","Room","prototype","findPath","setup","creepMemoryCleanUp","time","Memory","screepsPerf","lastMemoryCleanUp","Object","keys","creeps","forEach","creepName","undefined","module","exports","options","speedUpArrayFunctions","Array","filter","callback","thisArg","results","arr","iterator","length","call","push","map","returnVal","cleanUpCreepMemory","originalCreateCreep","Spawn","createCreep","apply","arguments","optimizePathFinding","roomPositionIdentifier","roomPosition","roomName","x","y","fromPos","toPos","pathOptimizer","lastCleaned","_cleanedUp","key","val","used","tick","pathIdentifier","path","serializePath","deserializePath","usedOnStart","enabled","depth","setupProfiler","profiler","stream","duration","setupMemory","email","profile","background","restart","Profiler","isProfiling","disableTick","enabledTick","type","reset","resetMemory","output","overloadCPUCalc","profileType","Number","isInteger","totalTime","sim","cpu","getUsed","performance","now","getFilter","functionBlackList","wrapFunction","name","originalFunction","wrappedFunction","nameMatchesFilter","start","result","end","record","hookUpPrototypes","prototypes","profileObjectFunctions","proto","object","label","objectToWrap","getOwnPropertyNames","extendedLabel","functionName","isFunction","notBlackListed","indexOf","profileFunction","e","fn","fnName","console","log","printProfile","emailProfile","notify","numresults","displayresults","elapsedTicks","header","footer","toFixed","join","concat","lines","slice","stats","functionCalls","calls","averageTime","val1","val2","data","Structure","Creep","RoomPosition","Source","Flag","endTick","cpuUsed","report","shouldPrint","shouldEmail","streaming","profiling","onEndingTick","wrap","enable","registerObject","registerFN","registerClass","setting","_","creep","target","fc","text","color","OK","say","ERR_NOT_OWNER","ERR_NO_PATH","memory","match","sources","structures","container","ERR_NAME_EXISTS","ERR_BUSY","ERR_NOT_FOUND","move","ERR_NOT_ENOUGH_ENERGY","ERR_NOT_ENOUGH_RESOURCES","ERR_INVALID_TARGET","ERR_FULL","ERR_NOT_IN_RANGE","ERR_INVALID_ARGS","ERR_TIRED","ERR_NO_BODYPART","ERR_NOT_ENOUGH_EXTENSIONS","ERR_RCL_NOT_ENOUGH","ERR_GCL_NOT_ENOUGH","content","yellow","blue","red","purple","grey","orange","green","spawns","createConstructionSite","other","error","body","JSON","stringify","pos","attack","unescape","harvest","transfer","build","claim","heal","pickup","withdraw","upgrade","recycle","dismantle","targetChange","flag","split","command","replace","commandContent","friends","owner","toString","full","carry","energy","carryCapacity","tableHeader","tableBody","contentHeadr","contentBody","isArray","col","tableCol","row","id","targetRaw","first","getObjectById","timer","check","actionName","noPathFinding","fatigue","opt","reusePath","serializeMemory","visualizePathStyle","stroke","lineStyle","opacity","strokeWidth","visual","circle","fill","radius","line","width","RESOURCE_ENERGY","array","found","findClosestByRange","range","findInRange","LOOK_STRUCTURES","lookFor","structureType","needBuild","builderNumber","noEnemy","trigger","timeout","number","safe","work","tough","enemyCreep","enemy","enemyStructures","FIND_STRUCTURES","find","FIND_MY_CREEPS","rect","ticksToLive","rowMargin","guiCreepWidth","guiCreepHeight","guiCreepRowMargin","flags","gui","bgPadding","guiCreepX","guiCreepY","guiCreep","eachRole","global","nowNumber","colorSwitch","LineWidth","font","align","guiWidth","guiHeight","guiRowMargin","gcl","rcl","controller","storage","extension","spawn","guiX","guiY","extensionFull","ex","energyCapacity","guiContent","level","progress","Math","floor","progressTotal","round","limit","store","storeCapacity","index","Manager","Gui","profilerEnabled","main","bucket","tickLimit","root","structure","loop","roomArray","creepArray","config","FIND_CREEPS","creepsMyRaw","my","creepsOther","creepsMy","creepRole","friend","username","configRole","all","resources","FIND_DROPPED_RESOURCES","resource","resourceType","flagsRaw","FIND_FLAGS","secondaryColor","flagsMemory","moveTo","flagRaw","rawSources","FIND_SOURCES","source","miner","targetSource","targetCreep","structuresStorage","structuresMy","structuresOther","structuresContainer","STRUCTURE_CONTAINER","structuresDocker","compact","needFix","STRUCTURE_ROAD","STRUCTURE_WALL","hits","hitsMax","terminal","link","STRUCTURE_LINK","tower","STRUCTURE_TOWER","STRUCTURE_SPAWN","STRUCTURE_EXTENSION","canWithdraw","canFill","needFill","FIND_MY_CONSTRUCTION_SITES","roomArrary","each","energyAvailable","dropped","newRoom","cleaner","linker","harvester","upgrader","builder","farBuilder","farHarvester","farMiner","farUpgrader","attacker","newRoomMaker","isFull","targetWithdraw","ifFull","isEqualTo","harvestTarget","isfFull","roleConfig","filler","transer","repairer","claimer","traveller","buildRole","i","proprity","newConfig","buildBody","buildNumber","roomType","cost","ceil","partCost","partProprity","obj","buildBodyFormat","part","bodyArray","sum","n","sortBy","unshift","flatten","chunk","flattenDeep","shift","cooldown","transferEnergy","spawning","remainingTime","needTime","roleFactory","roleName","roleType","roleTimeout","roleMy","roleCreep","spawnName","bornRoom","bornTime","gclLeft","gclSpeed","gclProcess","gclTimeLeft","gclHourLeft","rclProcess","rclSpeed","rclLeft","rclTimeLeft","rclHourLeft","rcl2","rcl2Process","rcl2Speed","rcl2Left","rcl2TimeLeft","rcl2HourLeft","gclLog","configCreepNum","roleLog","NowCreeps","NowNum","energyLog","isSafe","install","safeTimeout"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;0CC/DSA,O;;;;;;;;;0CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;2DAEAA,O;;;;;;;;;2CACAA,O;;;;;;;;;6CACAA,O;;;;;;;;;2CACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;kDACAA,O;;;;;;;;;iDACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;2CCfAA,O;;;;;;;;;2CAEAA,O;;;;;;;;;yCACAA,O;;;;;;;;;0CAEAA,O;;;;;;;;;2CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;4CAEAA,O;;;;;;;;;2CACAA,O;;;;;;;;;6CACAA,O;;;;;;;;;6CACAA,O;;;;;;;;;sDAEAA,O;;;;;;;;;oDACAA,O;;;;;;;;;gDAGAA,O;;;;;;;;;uDACAA,O;;;;;;;;;uDACAA,O;;;;;;;;;4CACAA,O;;;;;;;;;;;;;;;;;;;;;;ACtBT;;;;;;kBACe,YAAiC;AAAA,KAAhCC,IAAgC,uEAAzBC,KAAKC,KAAL,CAAW,QAAX,CAAyB;;AAC/C,QAAO;AACNC,QAAU,oBAAKH,IAAL,EAAWI,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAEE,QAAF,GAAaD,EAAEC,QAAzB;AAAA,GAAhB,CADJ;AAENC,UAAU;AACTC,YAAS,GADA;AAETC,YAAS;AAFA,GAFJ;AAMNC,YAAU;AANJ,EAAP;AAQA,C;;;;;;;;;;;;;;;;;;;;;;;;;2CCVOZ,O;;;;;;;;;2CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;;;;;;;;;;ACFR,IAAIa,mBAAmBC,KAAKC,SAAL,CAAeC,QAAtC;AACA,IAAIC,QAAQ,KAAZ;;AAEA,SAASC,kBAAT,GAA8B;AAC5B,MAAIhB,KAAKiB,IAAL,GAAYC,OAAOC,WAAP,CAAmBC,iBAA/B,GAAmD,GAAvD,EAA4D;AAC1DC,WAAOC,IAAP,CAAYJ,OAAOK,MAAnB,EAA2BC,OAA3B,CAAmC,qBAAa;AAC9C,UAAI,CAACxB,KAAKuB,MAAL,CAAYE,SAAZ,CAAL,EAA6B;AAC3BP,eAAOK,MAAP,CAAcE,SAAd,IAA2BC,SAA3B;AACD;AACF,KAJD;AAKAR,WAAOC,WAAP,CAAmBC,iBAAnB,GAAuCpB,KAAKiB,IAA5C;AACD;AACF;;AAEDU,OAAOC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AACjC,MAAI,CAACd,KAAL,EAAY;AACVc,cAAUA,WAAW,EAArB;AACAX,WAAOC,WAAP,GAAqBD,OAAOC,WAAP,IAAsB;AACzCC,yBAAmBpB,KAAKiB;AADiB,KAA3C;;AAIA,QAAIY,QAAQC,qBAAR,IAAiCD,QAAQC,qBAAR,KAAkCJ,SAAvE,EAAkF;AAChFK,YAAMlB,SAAN,CAAgBmB,MAAhB,GAAyB,UAASC,QAAT,EAAmBC,OAAnB,EAA4B;AACnD,YAAIC,UAAU,EAAd;AACA,YAAIC,MAAM,IAAV;AACA,aAAK,IAAIC,WAAW,CAApB,EAAuBA,WAAWD,IAAIE,MAAtC,EAA8CD,UAA9C,EAA0D;AACxD,cAAIJ,SAASM,IAAT,CAAcL,OAAd,EAAuBE,IAAIC,QAAJ,CAAvB,EAAsCA,QAAtC,EAAgDD,GAAhD,CAAJ,EAA0D;AACxDD,oBAAQK,IAAR,CAAaJ,IAAIC,QAAJ,CAAb;AACD;AACF;AACD,eAAOF,OAAP;AACD,OATD;;AAWAJ,YAAMlB,SAAN,CAAgBW,OAAhB,GAA0B,UAASS,QAAT,EAAmBC,OAAnB,EAA4B;AACpD,YAAIE,MAAM,IAAV;AACA,aAAK,IAAIC,WAAW,CAApB,EAAuBA,WAAWD,IAAIE,MAAtC,EAA8CD,UAA9C,EAA0D;AACxDJ,mBAASM,IAAT,CAAcL,OAAd,EAAuBE,IAAIC,QAAJ,CAAvB,EAAsCA,QAAtC,EAAgDD,GAAhD;AACD;AACF,OALD;;AAOAL,YAAMlB,SAAN,CAAgB4B,GAAhB,GAAsB,UAASR,QAAT,EAAmBC,OAAnB,EAA4B;AAChD,YAAIE,MAAM,IAAV;AACA,YAAIM,YAAY,EAAhB;AACA,aAAK,IAAIL,WAAW,CAApB,EAAuBA,WAAWD,IAAIE,MAAtC,EAA8CD,UAA9C,EAA0D;AACxDK,oBAAUF,IAAV,CAAeP,SAASM,IAAT,CAAcL,OAAd,EAAuBE,IAAIC,QAAJ,CAAvB,EAAsCA,QAAtC,EAAgDD,GAAhD,CAAf;AACD;AACD,eAAOM,SAAP;AACD,OAPD;AAQD;;AAED;;;AAGA,QAAIb,QAAQc,kBAAR,IAA8Bd,QAAQc,kBAAR,KAA+BjB,SAAjE,EAA4E;AAC1E;AACA,UAAIkB,sBAAsBC,MAAMhC,SAAN,CAAgBiC,WAA1C;AACAD,YAAMhC,SAAN,CAAgBiC,WAAhB,GAA8B,YAAW;AACvC9B;AACA,eAAO4B,oBAAoBG,KAApB,CAA0B,IAA1B,EAAgCC,SAAhC,CAAP;AACD,OAHD;AAID;;AAED;;;;;AAKA,QAAInB,QAAQoB,mBAAR,IAA+BpB,QAAQoB,mBAAR,KAAgCvB,SAAnE,EAA8E;AAAA,UACnEwB,sBADmE,GAC5E,SAASA,sBAAT,CAAgCC,YAAhC,EAA8C;AAC5C,eAAOA,aAAaC,QAAb,GAAwB,GAAxB,GAA8BD,aAAaE,CAA3C,GAA+C,GAA/C,GAAqDF,aAAaG,CAAzE;AACD,OAH2E;;AAG3E;;AAED1C,WAAKC,SAAL,CAAeC,QAAf,GAA0B,UAASyC,OAAT,EAAkBC,KAAlB,EAAyB3B,OAAzB,EAAkC;AAC1Db;AACA,YAAI,CAACE,OAAOuC,aAAZ,EAA2B;AACzBvC,iBAAOuC,aAAP,GAAuB,EAAEC,aAAa1D,KAAKiB,IAApB,EAAvB;AACD;;AAED,YAAIjB,KAAKiB,IAAL,GAAYC,OAAOuC,aAAP,CAAqBC,WAAjC,GAA+C,EAA/C,IAAqD,CAAC,KAAKC,UAA/D,EAA2E;AACzE,cAAIrC,OAAOD,OAAOC,IAAP,CAAYJ,OAAOuC,aAAnB,CAAX;AACAnC,eAAKE,OAAL,CAAa,UAACoC,GAAD,EAAS;AACpB,gBAAIC,MAAM3C,OAAOuC,aAAP,CAAqBG,GAArB,CAAV;AACA,gBAAIC,QAASA,IAAIC,IAAJ,IAAY9D,KAAKiB,IAAL,GAAY4C,IAAIE,IAA5B,IAAoC,IAAI,GAAzC,IAAiD/D,KAAKiB,IAAL,GAAY4C,IAAIE,IAAhB,GAAuB,IAAhF,CAAJ,EAA2F;AACzF7C,qBAAOuC,aAAP,CAAqBG,GAArB,IAA4BlC,SAA5B;AACD;AACF,WALD;AAMA,eAAKiC,UAAL,GAAkB,IAAlB;AACAzC,iBAAOuC,aAAP,CAAqBC,WAArB,GAAmC1D,KAAKiB,IAAxC;AACD;;AAED,YAAI+C,iBAAiBd,uBAAuBK,OAAvB,IAAkCL,uBAAuBM,KAAvB,CAAvD;AACA,YAAI,CAACtC,OAAOuC,aAAP,CAAqBO,cAArB,CAAL,EAA2C;AACzC,cAAIC,OAAOtD,iBAAiBoC,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,CAAX;AACA9B,iBAAOuC,aAAP,CAAqBO,cAArB,IAAuC;AACrCD,kBAAM/D,KAAKiB,IAD0B;AAErCgD,kBAAMrD,KAAKsD,aAAL,CAAmBD,IAAnB,CAF+B;AAGrCH,kBAAM;AAH+B,WAAvC;AAKD,SAPD,MAOO;AACL5C,iBAAOuC,aAAP,CAAqBO,cAArB,EAAqCF,IAArC;AACD;;AAED,eAAOlD,KAAKuD,eAAL,CAAqBjD,OAAOuC,aAAP,CAAqBO,cAArB,EAAqCC,IAA1D,CAAP;AACD,OA/BD;AAgCD;AACDlD,YAAQ,IAAR;AACD;;AAED,SAAO;AACLJ,sBAAkBA;AADb,GAAP;AAGD,CAjGD,C;;;;;;;;;;;;;;ACdA,IAAIyD,cAAc,CAAlB;AACA,IAAIC,UAAU,KAAd;AACA,IAAIC,QAAQ,CAAZ;;AAEA,SAASC,aAAT,GAAyB;AACvBD,UAAQ,CAAR,CADuB,CACZ;AACXtE,OAAKwE,QAAL,GAAgB;AACdC,UADc,kBACPC,QADO,EACG1C,MADH,EACW;AACvB2C,kBAAY,QAAZ,EAAsBD,YAAY,EAAlC,EAAsC1C,MAAtC;AACD,KAHa;AAId4C,SAJc,iBAIRF,QAJQ,EAIE1C,MAJF,EAIU;AACtB2C,kBAAY,OAAZ,EAAqBD,YAAY,GAAjC,EAAsC1C,MAAtC;AACD,KANa;AAOd6C,WAPc,mBAONH,QAPM,EAOI1C,MAPJ,EAOY;AACxB2C,kBAAY,SAAZ,EAAuBD,YAAY,GAAnC,EAAwC1C,MAAxC;AACD,KATa;AAUd8C,cAVc,sBAUH9C,MAVG,EAUK;AACjB2C,kBAAY,YAAZ,EAA0B,KAA1B,EAAiC3C,MAAjC;AACD,KAZa;AAad+C,WAbc,qBAaJ;AACR,UAAIC,SAASC,WAAT,EAAJ,EAA4B;AAC1B,YAAMjD,SAASd,OAAOsD,QAAP,CAAgBxC,MAA/B;AACA,YAAI0C,WAAW,KAAf;AACA,YAAI,CAAC,CAACxD,OAAOsD,QAAP,CAAgBU,WAAtB,EAAmC;AACjC;AACA;AACAR,qBAAWxD,OAAOsD,QAAP,CAAgBU,WAAhB,GAA8BhE,OAAOsD,QAAP,CAAgBW,WAA9C,GAA4D,CAAvE;AACD;AACD,YAAMC,OAAOlE,OAAOsD,QAAP,CAAgBY,IAA7B;AACAT,oBAAYS,IAAZ,EAAkBV,QAAlB,EAA4B1C,MAA5B;AACD;AACF,KAzBa;;AA0BdqD,WAAOC,WA1BO;AA2BdC,YAAQP,SAASO;AA3BH,GAAhB;;AA8BAC;AACD;;AAED,SAASb,WAAT,CAAqBc,WAArB,EAAkCf,QAAlC,EAA4C1C,MAA5C,EAAoD;AAClDsD;AACA,MAAMJ,cAAcQ,OAAOC,SAAP,CAAiBjB,QAAjB,IAA6B1E,KAAKiB,IAAL,GAAYyD,QAAzC,GAAoD,KAAxE;AACA,MAAI,CAACxD,OAAOsD,QAAZ,EAAsB;AACpBtD,WAAOsD,QAAP,GAAkB;AAChB/B,WAAK,EADW;AAEhBmD,iBAAW,CAFK;AAGhBT,mBAAanF,KAAKiB,IAAL,GAAY,CAHT;AAIhBiE,8BAJgB;AAKhBE,YAAMK,WALU;AAMhBzD;AANgB,KAAlB;AAQD;AACF;;AAED,SAASsD,WAAT,GAAuB;AACrBpE,SAAOsD,QAAP,GAAkB,IAAlB;AACD;;AAED,SAASgB,eAAT,GAA2B;AACzB,MAAIxF,KAAKC,KAAL,CAAW4F,GAAf,EAAoB;AAClBzB,kBAAc,CAAd,CADkB,CACD;AACjBpE,SAAK8F,GAAL,CAASC,OAAT,GAAmB,SAASA,OAAT,GAAmB;AACpC,aAAOC,YAAYC,GAAZ,KAAoB7B,WAA3B;AACD,KAFD;AAGD;AACF;;AAED,SAAS8B,SAAT,GAAqB;AACnB,SAAOhF,OAAOsD,QAAP,CAAgBxC,MAAvB;AACD;;AAED,IAAMmE,oBAAoB,CACxB,SADwB,EACb;AACX,aAFwB,CAA1B;;AAKA,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,gBAA5B,EAA8C;AAC5C,SAAO,SAASC,eAAT,GAA2B;AAChC,QAAIvB,SAASC,WAAT,EAAJ,EAA4B;AAC1B,UAAMuB,oBAAoBH,SAASH,WAAnC;AACA,UAAMO,QAAQzG,KAAK8F,GAAL,CAASC,OAAT,EAAd;AACA,UAAIS,iBAAJ,EAAuB;AACrBlC;AACD;AACD,UAAMoC,SAASJ,iBAAiBvD,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,CAAf;AACA,UAAIsB,QAAQ,CAAR,IAAa,CAAC4B,WAAlB,EAA+B;AAC7B,YAAMS,MAAM3G,KAAK8F,GAAL,CAASC,OAAT,EAAZ;AACAf,iBAAS4B,MAAT,CAAgBP,IAAhB,EAAsBM,MAAMF,KAA5B;AACD;AACD,UAAID,iBAAJ,EAAuB;AACrBlC;AACD;AACD,aAAOoC,MAAP;AACD;;AAED,WAAOJ,iBAAiBvD,KAAjB,CAAuB,IAAvB,EAA6BC,SAA7B,CAAP;AACD,GAnBD;AAoBD;;AAED,SAAS6D,gBAAT,GAA4B;AAC1B7B,WAAS8B,UAAT,CAAoBtF,OAApB,CAA4B,iBAAS;AACnCuF,2BAAuBC,MAAMnD,GAA7B,EAAkCmD,MAAMX,IAAxC;AACD,GAFD;AAGD;;AAED,SAASU,sBAAT,CAAgCE,MAAhC,EAAwCC,KAAxC,EAA+C;AAC7C,MAAMC,eAAeF,OAAOpG,SAAP,GAAmBoG,OAAOpG,SAA1B,GAAsCoG,MAA3D;;AAEA5F,SAAO+F,mBAAP,CAA2BD,YAA3B,EAAyC3F,OAAzC,CAAiD,wBAAgB;AAC/D,QAAM6F,gBAAmBH,KAAnB,SAA4BI,YAAlC;AACA,QAAI;AACF,UAAMC,aAAa,OAAOJ,aAAaG,YAAb,CAAP,KAAsC,UAAzD;AACA,UAAME,iBAAiBrB,kBAAkBsB,OAAlB,CAA0BH,YAA1B,MAA4C,CAAC,CAApE;AACA,UAAIC,cAAcC,cAAlB,EAAkC;AAChC,YAAMlB,mBAAmBa,aAAaG,YAAb,CAAzB;AACAH,qBAAaG,YAAb,IAA6BI,gBAAgBpB,gBAAhB,EAAkCe,aAAlC,CAA7B;AACD;AACF,KAPD,CAOE,OAAOM,CAAP,EAAU,CAAG,CATgD,CAS/C;AACjB,GAVD;;AAYA,SAAOR,YAAP;AACD;;AAED,SAASO,eAAT,CAAyBE,EAAzB,EAA6BN,YAA7B,EAA2C;AACzC,MAAMO,SAASP,gBAAgBM,GAAGvB,IAAlC;AACA,MAAI,CAACwB,MAAL,EAAa;AACXC,YAAQC,GAAR,CAAY,uCAAZ,EAAqDH,EAArD;AACAE,YAAQC,GAAR,CAAY,iCAAZ;AACA,WAAOH,EAAP;AACD;;AAED,SAAOxB,aAAayB,MAAb,EAAqBD,EAArB,CAAP;AACD;;AAED,IAAM5C,WAAW;AACfgD,cADe,0BACA;AACbF,YAAQC,GAAR,CAAY/C,SAASO,MAAT,EAAZ;AACD,GAHc;AAKf0C,cALe,0BAKA;AACbjI,SAAKkI,MAAL,CAAYlD,SAASO,MAAT,EAAZ;AACD,GAPc;AASfA,QATe,kBASR4C,UATQ,EASI;AACjB,QAAMC,iBAAiB,CAAC,CAACD,UAAF,GAAeA,UAAf,GAA4B,EAAnD;AACA,QAAI,CAACjH,OAAOsD,QAAR,IAAoB,CAACtD,OAAOsD,QAAP,CAAgBW,WAAzC,EAAsD;AACpD,aAAO,sBAAP;AACD;;AAED,QAAMkD,eAAerI,KAAKiB,IAAL,GAAYC,OAAOsD,QAAP,CAAgBW,WAA5B,GAA0C,CAA/D;AACA,QAAMmD,SAAS,kCAAf;AACA,QAAMC,SAAS,WACL,CAACrH,OAAOsD,QAAP,CAAgBoB,SAAhB,GAA4ByC,YAA7B,EAA2CG,OAA3C,CAAmD,CAAnD,CADK,cAEHtH,OAAOsD,QAAP,CAAgBoB,SAAhB,CAA0B4C,OAA1B,CAAkC,CAAlC,CAFG,cAGHH,YAHG,EAIbI,IAJa,CAIR,IAJQ,CAAf;AAKA,WAAO,GAAGC,MAAH,CAAUJ,MAAV,EAAkBtD,SAAS2D,KAAT,GAAiBC,KAAjB,CAAuB,CAAvB,EAA0BR,cAA1B,CAAlB,EAA6DG,MAA7D,EAAqEE,IAArE,CAA0E,IAA1E,CAAP;AACD,GAvBc;AAyBfE,OAzBe,mBAyBP;AACN,QAAME,QAAQxH,OAAOC,IAAP,CAAYJ,OAAOsD,QAAP,CAAgB/B,GAA5B,EAAiCA,GAAjC,CAAqC,wBAAgB;AACjE,UAAMqG,gBAAgB5H,OAAOsD,QAAP,CAAgB/B,GAAhB,CAAoB6E,YAApB,CAAtB;AACA,aAAO;AACLjB,cAAMiB,YADD;AAELyB,eAAOD,cAAcC,KAFhB;AAGLnD,mBAAWkD,cAAc7H,IAHpB;AAIL+H,qBAAaF,cAAc7H,IAAd,GAAqB6H,cAAcC;AAJ3C,OAAP;AAMD,KARa,EAQX5I,IARW,CAQN,UAAC8I,IAAD,EAAOC,IAAP,EAAgB;AACtB,aAAOA,KAAKtD,SAAL,GAAiBqD,KAAKrD,SAA7B;AACD,KAVa,CAAd;;AAYA,QAAM+C,QAAQE,MAAMpG,GAAN,CAAU,gBAAQ;AAC9B,aAAO,CACL0G,KAAKJ,KADA,EAELI,KAAKvD,SAAL,CAAe4C,OAAf,CAAuB,CAAvB,CAFK,EAGLW,KAAKH,WAAL,CAAiBR,OAAjB,CAAyB,CAAzB,CAHK,EAILW,KAAK9C,IAJA,EAKLoC,IALK,CAKA,MALA,CAAP;AAMD,KAPa,CAAd;;AASA,WAAOE,KAAP;AACD,GAhDc;;;AAkDf7B,cAAY,CACV,EAAET,MAAM,MAAR,EAAgBxC,KAAK7D,IAArB,EADU,EAEV,EAAEqG,MAAM,MAAR,EAAgBxC,KAAKjD,IAArB,EAFU,EAGV,EAAEyF,MAAM,WAAR,EAAqBxC,KAAKuF,SAA1B,EAHU,EAIV,EAAE/C,MAAM,OAAR,EAAiBxC,KAAKhB,KAAtB,EAJU,EAKV,EAAEwD,MAAM,OAAR,EAAiBxC,KAAKwF,KAAtB,EALU,EAMV,EAAEhD,MAAM,cAAR,EAAwBxC,KAAKyF,YAA7B,EANU,EAOV,EAAEjD,MAAM,QAAR,EAAkBxC,KAAK0F,MAAvB,EAPU,EAQV,EAAElD,MAAM,MAAR,EAAgBxC,KAAK2F,IAArB,EARU,CAlDG;;AA6Df5C,QA7De,kBA6DRU,YA7DQ,EA6DMrG,IA7DN,EA6DY;AACzB,QAAI,CAACC,OAAOsD,QAAP,CAAgB/B,GAAhB,CAAoB6E,YAApB,CAAL,EAAwC;AACtCpG,aAAOsD,QAAP,CAAgB/B,GAAhB,CAAoB6E,YAApB,IAAoC;AAClCrG,cAAM,CAD4B;AAElC8H,eAAO;AAF2B,OAApC;AAID;AACD7H,WAAOsD,QAAP,CAAgB/B,GAAhB,CAAoB6E,YAApB,EAAkCyB,KAAlC;AACA7H,WAAOsD,QAAP,CAAgB/B,GAAhB,CAAoB6E,YAApB,EAAkCrG,IAAlC,IAA0CA,IAA1C;AACD,GAtEc;AAwEfwI,SAxEe,qBAwEL;AACR,QAAIzJ,KAAKiB,IAAL,IAAaC,OAAOsD,QAAP,CAAgBW,WAAjC,EAA8C;AAC5C,UAAMuE,UAAU1J,KAAK8F,GAAL,CAASC,OAAT,EAAhB;AACA7E,aAAOsD,QAAP,CAAgBoB,SAAhB,IAA6B8D,OAA7B;AACA1E,eAAS2E,MAAT;AACD;AACF,GA9Ec;AAgFfA,QAhFe,oBAgFN;AACP,QAAI3E,SAAS4E,WAAT,EAAJ,EAA4B;AAC1B5E,eAASgD,YAAT;AACD,KAFD,MAEO,IAAIhD,SAAS6E,WAAT,EAAJ,EAA4B;AACjC7E,eAASiD,YAAT;AACD;AACF,GAtFc;AAwFfhD,aAxFe,yBAwFD;AACZ,QAAI,CAACZ,OAAD,IAAY,CAACnD,OAAOsD,QAAxB,EAAkC;AAChC,aAAO,KAAP;AACD;AACD,WAAO,CAACtD,OAAOsD,QAAP,CAAgBU,WAAjB,IAAgClF,KAAKiB,IAAL,IAAaC,OAAOsD,QAAP,CAAgBU,WAApE;AACD,GA7Fc;AA+FfE,MA/Fe,kBA+FR;AACL,WAAOlE,OAAOsD,QAAP,CAAgBY,IAAvB;AACD,GAjGc;AAmGfwE,aAnGe,yBAmGD;AACZ,QAAME,YAAY9E,SAASI,IAAT,OAAoB,QAAtC;AACA,QAAM2E,YAAY/E,SAASI,IAAT,OAAoB,SAAtC;AACA,QAAM4E,eAAe9I,OAAOsD,QAAP,CAAgBU,WAAhB,KAAgClF,KAAKiB,IAA1D;AACA,WAAO6I,aAAcC,aAAaC,YAAlC;AACD,GAxGc;AA0GfH,aA1Ge,yBA0GD;AACZ,WAAO7E,SAASI,IAAT,OAAoB,OAApB,IAA+BlE,OAAOsD,QAAP,CAAgBU,WAAhB,KAAgClF,KAAKiB,IAA3E;AACD;AA5Gc,CAAjB;;AA+GAU,OAAOC,OAAP,GAAiB;AACfqI,MADe,gBACVhI,QADU,EACA;AACb,QAAIoC,OAAJ,EAAa;AACXE;AACD;;AAED,QAAIS,SAASC,WAAT,EAAJ,EAA4B;AAC1Bb,oBAAcpE,KAAK8F,GAAL,CAASC,OAAT,EAAd;;AAEA;AACA;;AAEA;AACA,UAAMrD,YAAYT,UAAlB;AACA;AACA+C,eAASyE,OAAT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAO/G,SAAP;AACD;;AAED,WAAOT,UAAP;AACD,GA3Bc;AA6BfiI,QA7Be,oBA6BN;AACP7F,cAAU,IAAV;AACAwC;AACD,GAhCc;;;AAkCftB,UAAQP,SAASO,MAlCF;;AAoCf4E,kBAAgBpD,sBApCD;AAqCfqD,cAAY1C,eArCG;AAsCf2C,iBAAetD;AAtCA,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;6CCrPQjH,O;;;;;;;;;yCACAA,O;;;;;;;;;yCACAA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;yCCFAA,O;;;;;;;;;2CACAA,O;;;;;;;;;2CACAA,O;;;;;;;;;8CACAA,O;;;;;;;;;yCACAA,O;;;;;;;;;;;;;;;;;;;;;;ACJR;;;;AACA;;;;;;kBAEe,YAAM;AACpB,KAAIwK,UAAU,EAAd;AACAC,GAAE/I,OAAF,iBAAgB,gBAAQ;AACvB8I,UAAQvK,KAAK,CAAL,CAAR,IAAmB;AAClBG,SAAM,oBAAKH,IAAL;AADY,GAAnB;AAGA,EAJD;AAKAmB,QAAOoJ,OAAP,GAAiBA,OAAjB;AACA,QAAOA,OAAP;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;;0CCZOxK,O;;;;;;;;;wCACAA,O;;;;;;;;;4CACAA,O;;;;;;;;;;;;;;;;;;;;;;ACFR;;AACA;;kBACe,UAAC0K,KAAD,EAAQC,MAAR,EAAgBC,EAAhB,EAAkD;AAAA,KAA9BC,IAA8B,uEAAvB,EAAuB;AAAA,KAAnBC,KAAmB,uEAAX,MAAW;;AAChE,SAAQF,EAAR;AACC,OAAKG,EAAL;AACC,OAAIF,IAAJ,EAAUH,MAAMM,GAAN,CAAUH,IAAV;AACV,UAAO,IAAP;AACA;AACD,OAAKI,aAAL;AACCP,SAAMM,GAAN,CAAUH,OAAO,OAAjB;AACA;AACD,OAAKK,WAAL;AACCR,SAAMM,GAAN,CAAUH,OAAO,MAAjB;AACA,OAAIH,MAAMS,MAAN,CAAa/K,IAAb,CAAkBgL,KAAlB,CAAwB,MAAxB,CAAJ,EAAqC;AACpC,6BAAcV,KAAd,EAAqBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBE,OAAlB,CAA0B,CAA1B,CAArB,EAAmD,SAAnD;AACA,IAFD,MAEO;AACN,6BAAcX,KAAd,EAAqBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BC,SAA7B,CAAuC,CAAvC,CAArB,EAAgE,UAAhE;AACA;AACD;AACD,OAAKC,eAAL;AACCd,SAAMM,GAAN,CAAUH,OAAO,MAAjB;AACA;AACD,OAAKY,QAAL;AACCf,SAAMM,GAAN,CAAUH,OAAO,MAAjB;AACA;AACD,OAAKa,aAAL;AACChB,SAAMM,GAAN,CAAU,YAAMW,IAAhB;AACA,uBAAOjB,KAAP,EAAcC,MAAd,EAAsBG,KAAtB,EAA6B,KAA7B;AACA,UAAO,IAAP;AACA;AACD,OAAKc,qBAAL;AACClB,SAAMM,GAAN,CAAUH,OAAO,QAAjB;AACA,OAAIH,MAAMS,MAAN,CAAa/K,IAAb,CAAkBgL,KAAlB,CAAwB,MAAxB,CAAJ,EAAqC;AACpC,wBAAOV,KAAP,EAAcC,MAAd,EAAsBG,KAAtB;AACA,IAFD,MAEO;AACN,6BAAcJ,KAAd,EAAqBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BC,SAA7B,CAAuC,CAAvC,CAArB,EAAgE,UAAhE;AACA;AACD,UAAO,IAAP;AACA;AACD,OAAKM,wBAAL;AACCnB,SAAMM,GAAN,CAAUH,OAAO,WAAjB;AACA;AACD,OAAKiB,kBAAL;AACC,OAAIpB,MAAMS,MAAN,CAAa/K,IAAb,CAAkBgL,KAAlB,CAAwB,MAAxB,CAAJ,EAAqC,oBAAOV,KAAP,EAAcC,MAAd,EAAsBG,KAAtB;AACrCJ,SAAMM,GAAN,CAAUH,OAAO,YAAMc,IAAvB;AACA;AACD,OAAKI,QAAL;AACCrB,SAAMM,GAAN,CAAUH,OAAO,MAAjB;AACA;AACD,OAAKmB,gBAAL;AACC,uBAAOtB,KAAP,EAAcC,MAAd,EAAsBG,KAAtB;AACA,UAAO,IAAP;AACA;AACD,OAAKmB,gBAAL;AACCvB,SAAMM,GAAN,CAAUH,OAAO,MAAjB;AACA;AACD,OAAKqB,SAAL;AACCxB,SAAMM,GAAN,CAAUH,OAAO,OAAjB;AACA;AACD,OAAKsB,eAAL;AACCzB,SAAMM,GAAN,CAAUH,OAAO,UAAjB;AACA;AACD,OAAKuB,yBAAL;AACC1B,SAAMM,GAAN,CAAUH,OAAO,YAAjB;AACA;AACD,OAAKwB,kBAAL;AACC3B,SAAMM,GAAN,CAAUH,OAAO,KAAjB;AACA;AACD,OAAKyB,kBAAL;AACC5B,SAAMM,GAAN,CAAUH,OAAO,KAAjB;AACA;AAnEF;AAqEA,C;;;;;;;;;;;;;;;;;;;;ACxED;;AAEA,IAAMC,QAAS,eAACA,MAAD,EAAQyB,OAAR,EAAoB;AAClC,yBAAsBzB,MAAtB,SAA+ByB,OAA/B;AACA,CAFD;AAGAzB,MAAM0B,MAAN,GAAe,UAACD,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUC,MAAhC,SAA0CD,OAA1C;AACA,CAHD;AAIAzB,MAAM2B,IAAN,GAAe,UAACF,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUE,IAAhC,SAAwCF,OAAxC;AACA,CAHD;AAIAzB,MAAM4B,GAAN,GAAe,UAACH,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUG,GAAhC,SAAuCH,OAAvC;AACA,CAHD;AAIAzB,MAAM6B,MAAN,GAAe,UAACJ,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUI,MAAhC,SAA0CJ,OAA1C;AACA,CAHD;AAIAzB,MAAM8B,IAAN,GAAe,UAACL,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUK,IAAhC,SAAwCL,OAAxC;AACA,CAHD;AAIAzB,MAAM+B,MAAN,GAAe,UAACN,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUM,MAAhC,SAA0CN,OAA1C;AACA,CAHD;AAIAzB,MAAMgC,KAAN,GAAe,UAACP,OAAD,EAAa;AAC3B;;AACA,yBAAsB,YAAUO,KAAhC,SAAyCP,OAAzC;AACA,CAHD;kBAIezB,K;;;;;;;;;;;;;;;;;;kBCjCC;AACf0B,SAAQ,SADO;AAEfC,OAAQ,SAFO;AAGfC,MAAQ,SAHO;AAIfC,SAAQ,SAJO;AAKfC,OAAQ,SALO;AAMfC,SAAQ,SANO;AAOfC,QAAQ;AAPO,C;;;;;;;;;;;;;;;;;;;kBCAD,UAACvJ,CAAD,EAAIC,CAAJ,EAAO8B,IAAP,EAAgB;AAC9B,KAAI/B,KAAKC,CAAL,IAAU8B,IAAd,EAAoB;AACnB0C,UAAQC,GAAR,cAAuB3C,IAAvB,cAAoC/B,CAApC,WAA2CC,CAA3C,EAA+CtD,KAAK6M,MAAL,CAAY,QAAZ,EAAsB9M,IAAtB,CAA2B+M,sBAA3B,CAAkDzJ,CAAlD,EAAqDC,CAArD,EAAwD8B,IAAxD,CAA/C;AACA,EAFD,MAEO;AACN0C,UAAQC,GAAR,CACE,oBACA,CAAC,OAAD,EACC,WADD,EAEC,MAFD,EAGC,iBAHD,EAIC,SAJD,EAKC,YALD,EAMC,QAND,EAOC,YAPD,EAQC,MARD,EASC,SATD,EAUC,OAVD,EAWC,UAXD,EAYC,WAZD,EAaC,YAbD,EAcC,WAdD,EAeC,KAfD,EAgBC,UAhBD,EAiBC,WAjBD,EAkBC,OAlBD,EAkBUU,IAlBV,CAkBe,GAlBf,CAFF;AAsBA;AACD,C;;;;;;;;;;;;;;;;;;;;AC3BD;;kBACe,UAACd,CAAD,EAAItB,IAAJ,EAAUmE,KAAV,EAAiBC,MAAjB,EAAsC;AAAA,mCAAVsC,KAAU;AAAVA,OAAU;AAAA;;AACpD,KAAIC,QAAQ;AACX1E,UAAQ,YAAUjC,IAAV,UAAmBrG,KAAKiB,IAAxB,CADG;AAEXgM,QAAQ,CACP,CAACtF,CAAD,CADO,EAEP,aAAW6C,KAAX,kBAA6B0C,KAAKC,SAAL,CAAe3C,MAAM4C,GAArB,EAA0B,IAA1B,EAAgC,CAAhC,CAA7B,CAFO,EAGP,cAAY3C,MAAZ,mBAAgCyC,KAAKC,SAAL,CAAe1C,MAAf,EAAuB,IAAvB,EAA6B,CAA7B,CAAhC,CAHO;AAFG,EAAZ;AAQAuC,OAAMC,IAAN,CAAWzK,IAAX,WAAoBuK,KAApB;AACAjF,SAAQC,GAAR,CAAY,aAAMiF,KAAN,CAAZ;AACA,C;;;;;;;;;;;;;;;;;;;kBCZc;AACdK,SAAcC,SAAS,cAAT,CADA;AAEdC,UAAcD,SAAS,QAAT,CAFA;AAGdN,QAAcM,SAAS,QAAT,CAHA;AAId7B,OAAc6B,SAAS,cAAT,CAJA;AAKdE,WAAcF,SAAS,cAAT,CALA;AAMdG,QAAcH,SAAS,cAAT,CANA;AAOd/M,SAAc+M,SAAS,cAAT,CAPA;AAQdI,QAAcJ,SAAS,cAAT,CARA;AASdK,OAAcL,SAAS,cAAT,CATA;AAUdM,SAAcN,SAAS,cAAT,CAVA;AAWdO,WAAcP,SAAS,cAAT,CAXA;AAYdQ,UAAcR,SAAS,cAAT,CAZA;AAadS,UAAcT,SAAS,cAAT,CAbA;AAcdU,YAAcV,SAAS,cAAT,CAdA;AAed7C,SAAc6C,SAAS,oBAAT,CAfA;AAgBdW,eAAcX,SAAS,gCAAT;AAhBA,C;;;;;;;;;;;;;;;;;;;kBCAA,UAACY,IAAD,EAAU;AACxB,KAAI7H,OAAO6H,KAAK7H,IAAL,CAAU8H,KAAV,CAAgB,GAAhB,CAAX;AACA,QAAO;AACNC,WAAgB/H,KAAK,CAAL,EAAQgI,OAAR,CAAgB,GAAhB,EAAoB,EAApB,CADV;AAENC,kBAAgBjI,KAAK,CAAL,CAFV;AAGN+G,OAAgBc,KAAKd;AAHf,EAAP;AAKA,C;;;;;;;;;;;;;;;;;;;ACPD,IAAMmB,UAAU,CACf,KADe,EAEf,QAFe,CAAhB;;kBAIe,UAACC,KAAD,EAAW;AACzB,KAAI,CAACA,KAAD,IAAUA,SAAS,SAAvB,EAAkC,OAAO,KAAP;AAClC,QAAQD,QAAQE,QAAR,GAAmBvD,KAAnB,CAAyBsD,KAAzB,CAAD,GAAoC,IAApC,GAA2C,KAAlD;AACA,C;;;;;;;;;;;;;;;;;;;;kBCPc,UAAChE,KAAD,EAAW;AACzB,KAAI,CAACA,MAAMS,MAAN,CAAayD,IAAd,IAAsBlE,MAAMmE,KAAN,CAAYC,MAAZ,IAAsBpE,MAAMqE,aAAtD,EAAqErE,MAAMS,MAAN,CAAayD,IAAb,GAAoB,IAApB;AACrE,KAAIlE,MAAMS,MAAN,CAAayD,IAAb,IAAqBlE,MAAMmE,KAAN,CAAYC,MAAZ,IAAsB,CAA/C,EAAkDpE,MAAMS,MAAN,CAAayD,IAAb,GAAoB,KAApB;AAClD,QAAOlE,MAAMS,MAAN,CAAayD,IAApB;AACA,C;;;;;;;;;;;;;;;;;;;;kBCJc,UAACrC,OAAD,EAAa;AAC3B,KAAIyC,cAAiC,EAArC;AAAA,KACIC,YAAiC,EADrC;AAAA,KAEIC,eAAe,EAFnB;AAAA,KAEuBC,cAAc,EAFrC;AAGA,KAAI1E,EAAE2E,OAAF,CAAU7C,OAAV,CAAJ,EAAwB;AACvB4C,gBAAc5C,OAAd;AACA,EAFD,MAEO;AACN2C,iBAAe3C,QAAQ/D,MAAvB;AACA2G,gBAAe5C,QAAQY,IAAvB;AACA+B,eAAaxN,OAAb,CAAqB;AAAA,UAAOsN,+HAA2HK,GAA3H,UAAP;AAAA,GAArB;AACAL,sFAAgFA,WAAhF;AACA;AACDG,aAAYzN,OAAZ,CAAoB,eAAO;AAC1B,MAAI4N,WAAW,EAAf;AACAC,MAAI7N,OAAJ,CAAY;AAAA,UAAO4N,4HAAwHD,GAAxH,UAAP;AAAA,GAAZ;AACAJ,yDAAmDK,QAAnD;AACA,EAJD;AAKA,gHAA2GN,WAA3G,GAAyHC,SAAzH;AACA,C;;;;;;;;;;;;;;;;;;;;AClBD;;kBAEe,UAACvE,KAAD,EAAQC,MAAR,EAAqC;AAAA,KAArBrF,IAAqB,uEAAd,SAAc;;AACnD,KAAI;AACHqF,WAAS,wBAAaA,MAAb,CAAT;AACA,MAAI,CAACA,OAAO2C,GAAZ,EAAiB,OAAO,KAAP;AACjB,MAAI5C,MAAMS,MAAN,CAAaR,MAAb,CAAoBrF,IAApB,EAA0BkK,EAA1B,IAAgC7E,OAAO6E,EAA3C,EAA+C,OAAO,IAAP;AAC/C9E,QAAMS,MAAN,CAAaR,MAAb,CAAoBrF,IAApB,IAA4B;AAC3BkK,OAAM7E,OAAO6E,EADc;AAE3BlC,QAAM3C,OAAO2C,GAFc;AAG3BnM,SAAMjB,KAAKiB;AAHgB,GAA5B;AAKAuJ,QAAMM,GAAN,CAAU,YAAMmD,YAAhB;AACA,EAVD,CAUE,OAAOtG,CAAP,EAAU;AACX,yBAAY6C,KAAZ,EAAmBC,MAAnB,EAA2BrF,IAA3B;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;kBChBc,UAACmK,SAAD,EAAe;AAC7B,KAAIhF,EAAE2E,OAAF,CAAUK,SAAV,CAAJ,EAA0BA,YAAYhF,EAAEiF,KAAF,CAAQD,SAAR,CAAZ;AAC1B,KAAI;AACH,MAAM9E,SAASzK,KAAKyP,aAAL,CAAmBF,UAAUD,EAA7B,CAAf;AACA,SAAQ7E,MAAD,GAAWA,MAAX,GAAoB,KAA3B;AACA,EAHD,CAGE,OAAO9C,CAAP,EAAU;AACX,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACRD;;kBAEe,UAAC6C,KAAD,EAAQC,MAAR,EAAqC;AAAA,KAArBrF,IAAqB,uEAAd,SAAc;;AACnD,KAAI;AACHqF,WAAS,wBAAaA,MAAb,CAAT;AACA,MAAI,CAACA,OAAO2C,GAAZ,EAAiB,OAAO,KAAP;AACjB,MAAI,CAAC5C,MAAMS,MAAN,CAAaR,MAAlB,EAA0BD,MAAMS,MAAN,CAAaR,MAAb,GAAsB,EAAtB;AAC1B,MAAI,CAACD,MAAMS,MAAN,CAAaR,MAAb,CAAoBrF,IAApB,CAAD,IAA8B,CAACoF,MAAMS,MAAN,CAAaR,MAAb,CAAoBrF,IAApB,EAA0BkK,EAA7D,EAAiE;AAChE9E,SAAMS,MAAN,CAAaR,MAAb,CAAoBrF,IAApB,IAA4B;AAC3BkK,QAAM7E,OAAO6E,EADc;AAE3BlC,SAAM3C,OAAO2C,GAFc;AAG3BnM,UAAMjB,KAAKiB;AAHgB,IAA5B;AAKAuJ,SAAMM,GAAN,CAAU,YAAML,MAAhB;AACA;AACD,SAAO,IAAP;AACA,EAbD,CAaE,OAAO9C,CAAP,EAAU;AACX,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;kBCnBc,UAAC4H,SAAD,EAAe;AAC7B,KAAI;AACH,SAAO,IAAIjG,YAAJ,CAAiBiG,UAAUnC,GAAV,CAAc/J,CAA/B,EAAkCkM,UAAUnC,GAAV,CAAc9J,CAAhD,EAAmDiM,UAAUnC,GAAV,CAAchK,QAAjE,CAAP;AACA,EAFD,CAEE,OAAOuE,CAAP,EAAU;AACX,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;kBCNc,UAAC5D,IAAD,EAAU;AACrB,QAAI,CAAC7C,OAAOwO,KAAZ,EAAmBxO,OAAOwO,KAAP,GAAe,EAAf;AACnB,QAAIxO,OAAOwO,KAAP,CAAa3L,IAAb,KAAsB/D,KAAKiB,IAAL,GAAYC,OAAOwO,KAAP,CAAa3L,IAAb,CAAZ,GAAiCA,IAA3D,EAAiE,OAAO,KAAP;AACjE7C,WAAOwO,KAAP,CAAa3L,IAAb,IAAqB/D,KAAKiB,IAA1B;AACA,WAAO,IAAP;AACH,C;;;;;;;;;;;;;;;;;;;;ACLD;;AACA;;kBACe,UAACuJ,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,QAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAM4C,MAAvD,EAA+D,gBAAUb,GAAzE,CAAJ,EAAmF,OAAO,IAAP;AACnF,EALD,CAKE,OAAO7E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,OAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMgD,KAAvD,EAA8D,gBAAUlB,IAAxE,CAAJ,EAAmF,OAAO,IAAP;AACnF,EALD,CAKE,OAAO5E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,mBAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqBC,MAArB,EAA6BmF,UAA7B;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMiD,KAAvD,EAA8D,gBAAUf,MAAxE,CAAJ,EAAqF,OAAO,IAAP;AACrF,EALD,CAKE,OAAOhF,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,WAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMuD,SAAvD,EAAkE,gBAAUxB,GAA5E,CAAJ,EAAsF,OAAO,IAAP;AACtF,EALD,CAKE,OAAO7E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,SAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAM8C,OAAvD,EAAgE,gBAAUjB,MAA1E,CAAJ,EAAuF,OAAO,IAAP;AACvF,EALD,CAKE,OAAO3E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,MAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMkD,IAAvD,EAA6D,gBAAUf,KAAvE,CAAJ,EAAmF,OAAO,IAAP;AACnF,EALD,CAKE,OAAOjF,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;kBACe,UAAC/E,KAAD,EAAQC,MAAR,EAA4D;AAAA,KAA5CG,KAA4C,uEAApC,SAAoC;AAAA,KAAzBiF,aAAyB,uEAAT,IAAS;;AAC1E,KAAMD,aAAa,QAAnB;AACA,KAAIpF,MAAMsF,OAAN,GAAgB,CAApB,EAAuB,OAAO,KAAP;AACvB,KAAI;AACH,MAAIvF,EAAE2E,OAAF,CAAUzE,MAAV,CAAJ,EAAuBA,SAASF,EAAEiF,KAAF,CAAQ/E,MAAR,CAAT;AACvB,MAAI;AACH,OAAIA,OAAO2C,GAAP,CAAWhK,QAAX,IAAuBoH,MAAM4C,GAAN,CAAUhK,QAArC,EAA+C;AAC9CqH,aAAgB,IAAInB,YAAJ,CAAiBmB,OAAO2C,GAAP,CAAW/J,CAA5B,EAA+BoH,OAAO2C,GAAP,CAAW9J,CAA1C,EAA6CmH,OAAO2C,GAAP,CAAWhK,QAAxD,CAAhB;AACAyM,oBAAgB,KAAhB;AACA,IAHD,MAGO;AACNpF,aAAS,wBAAaA,MAAb,CAAT;AACA;AACD,GAPD,CAOE,OAAO9C,CAAP,EAAU;AACX,UAAO,KAAP;AACA;AACD,2BAAc6C,KAAd,EAAqBC,MAArB,EAA6BmF,UAA7B;AACA,MAAMG,MAAM;AACXC,cAAoB,EADT;AAEXC,oBAAoB,IAFT;AAGXJ,kBAAoBA,aAHT;AAIXK,uBAAoB;AACnBC,YAAavF,KADM;AAEnBwF,eAAa,QAFM;AAGnBC,aAAa,GAHM;AAInBC,iBAAa;AAJM;AAJT,GAAZ;AAWA,MAAI,kBAAO9F,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,EAA0BsF,GAA1B,CAAtB,CAAJ,EAA2D;AAC1DQ,UAAO9F,MAAP,EAAeD,KAAf;AACA,UAAO,IAAP;AACA;AACD,EA5BD,CA4BE,OAAO7C,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;AAED,SAASgB,MAAT,CAAgB9F,MAAhB,EAAwBD,KAAxB,EAA+BI,KAA/B,EAAsC;AACrC,KAAI;AACHH,SAAO1K,IAAP,CAAYwQ,MAAZ,CAAmBC,MAAnB,CAA0B/F,OAAO2C,GAAjC,EAAsC,EAACqD,MAAM,aAAP,EAAsBC,QAAQ,IAA9B,EAAoCP,QAAQvF,KAA5C,EAAtC;AACA,MAAIH,OAAO2C,GAAP,CAAWhK,QAAX,IAAuBoH,MAAM4C,GAAN,CAAUhK,QAArC,EAA+C;AAC9CqH,UAAO1K,IAAP,CAAYwQ,MAAZ,CAAmBI,IAAnB,CAAwBnG,MAAM4C,GAA9B,EAAmC3C,OAAO2C,GAA1C,EAA+C;AAC9CxC,WAASA,KADqC;AAE9CgG,WAAS,GAFqC;AAG9CP,aAAS;AAHqC,IAA/C;AAKA;AACD,EATD,CASE,OAAO1I,CAAP,EAAU,CAAE;AACd;;;;;;;;;;;;;;;;;;;ACjDD;;AACA;;kBACe,UAAC6C,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,QAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMmD,MAAvD,EAA+D,gBAAUtB,MAAzE,CAAJ,EAAsF,OAAO,IAAP;AACtF,EALD,CAKE,OAAO3E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,QAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMlK,MAAvD,EAA+D,gBAAUgM,IAAzE,CAAJ,EAAoF,OAAO,IAAP;AACpF,EALD,CAKE,OAAO5E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAA4D;AAAA,KAAzCI,KAAyC,uEAAjC,IAAiC;AAAA,KAA3BvK,IAA2B,uEAApByL,eAAoB;;AAC1E,KAAI,CAAClB,KAAL,EAAY;AACZ,KAAMC,aAAa,UAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,EAA0BrF,IAA1B,CAAtB,EAAuD,YAAMoI,QAA7D,EAAuE,gBAAUf,MAAjF,CAAJ,EAA8F,OAAO,IAAP;AAC9F,EALD,CAKE,OAAO9E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAAmC;AAAA,KAAjBI,KAAiB,uEAAT,IAAS;;AACjD,KAAI,CAACA,KAAL,EAAY;AACZ,KAAMC,aAAa,mBAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,CAAtB,EAAiD,YAAMqD,OAAvD,EAAgE,gBAAUnB,MAA1E,CAAJ,EAAuF,OAAO,IAAP;AACvF,EALD,CAKE,OAAOhF,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQiI,UAAR,EAAmBpF,KAAnB,EAA0B+E,SAA1B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;AACA;;kBACe,UAAC/E,KAAD,EAAQ+E,SAAR,EAA4D;AAAA,KAAzCI,KAAyC,uEAAjC,IAAiC;AAAA,KAA3BvK,IAA2B,uEAApByL,eAAoB;;AAC1E,KAAI,CAAClB,KAAL,EAAY;AACZ,KAAMC,aAAa,UAAnB;AACA,KAAI;AACH,MAAMnF,SAAS,wBAAa8E,SAAb,CAAf;AACA,MAAI,CAAC9E,MAAD,IAAW,cAAOD,KAAP,EAAc+E,SAAd,CAAf,EAAyC,OAAO,IAAP;AACzC,2BAAc/E,KAAd,EAAqB+E,SAArB,EAAgCK,UAAhC;AACA,MAAI,kBAAOpF,KAAP,EAAcC,MAAd,EAAsBD,MAAMoF,UAAN,EAAkBnF,MAAlB,EAA0BrF,IAA1B,CAAtB,EAAuD,YAAMyI,QAA7D,EAAuE,gBAAUpB,MAAjF,CAAJ,EAA6F,OAAO,IAAP;AAC7F,EALD,CAKE,OAAO9E,CAAP,EAAU;AACX,mBAAMA,CAAN,EAASiI,UAAT,EAAqBpF,KAArB,EAA4B+E,SAA5B;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACdD;;kBACe,UAAC/E,KAAD,EAAQsG,KAAR,EAAef,GAAf,EAAuB;AACrC,KAAI;AACH,MAAI,CAACe,MAAMxO,MAAP,IAAiBwO,MAAM,CAAN,KAAY,IAAjC,EAAuC,OAAO,KAAP;AACvC,MAAIC,QAAQvG,MAAM4C,GAAN,CAAU4D,kBAAV,CAA6BF,KAA7B,CAAZ;AACA,MAAIf,GAAJ,EAASgB,QAAQxG,EAAEvI,MAAF,CAAS+O,KAAT,EAAgBhB,GAAhB,CAAR;AACT,SAAOgB,KAAP;AACA,EALD,CAKE,OAAOpJ,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAS,oBAAT,EAA+B6C,KAA/B,EAAsCsG,KAAtC,EAA6Cf,GAA7C;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACXD;;AACA;;kBACe,UAACvF,KAAD,EAAQsG,KAAR,EAAkC;AAAA,KAAnBG,KAAmB,uEAAX,CAAW;AAAA,KAARlB,GAAQ;;AAChD,KAAI;AACH,MAAI,CAACe,MAAMxO,MAAP,IAAiBwO,MAAM,CAAN,KAAY,IAAjC,EAAuC,OAAO,KAAP;AACvC,MAAIC,QAAQ,oBAAYvG,KAAZ,EAAmBsG,KAAnB,EAA0BG,KAA1B,CAAZ;AACA,MAAIlB,GAAJ,EAASgB,QAAQxG,EAAEvI,MAAF,CAAS+O,KAAT,EAAgBhB,GAAhB,CAAR;AACTgB,UAAQ,2BAAmBvG,KAAnB,EAA0BuG,KAA1B,CAAR;AACA,SAAOA,KAAP;AACA,EAND,CAME,OAAOpJ,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQ,oBAAR,EAA6B6C,KAA7B,EAAoCsG,KAApC,EAA0Cf,GAA1C;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACbD;;kBACe,UAACvF,KAAD,EAAQsG,KAAR,EAAkC;AAAA,KAAnBG,KAAmB,uEAAX,CAAW;AAAA,KAARlB,GAAQ;;AAChD,KAAI;AACH,MAAIgB,QAAQvG,MAAM4C,GAAN,CAAU8D,WAAV,CAAsBJ,KAAtB,EAA6BG,KAA7B,CAAZ;AACA,MAAIlB,GAAJ,EAASgB,QAAQxG,EAAEvI,MAAF,CAAS+O,KAAT,EAAgBhB,GAAhB,CAAR;AACT,SAAOgB,KAAP;AACA,EAJD,CAIE,OAAOpJ,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAQ,aAAR,EAAsB6C,KAAtB,EAA6BsG,KAA7B,EAAmCf,GAAnC;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;ACVD;;kBACe,UAACvF,KAAD,EAAwC;AAAA,KAAhCpF,IAAgC,uEAAzB+L,eAAyB;AAAA,KAARpB,GAAQ;;AACtD,KAAI;AACH,MAAIgB,QAAQvG,MAAM4C,GAAN,CAAUgE,OAAV,CAAkBhM,IAAlB,CAAZ;AACA,MAAI2K,GAAJ,EAAS;AACRgB,SAAM/O,MAAN,CAAa,eAAO;AACnB+N,QAAIsB,aAAJ,IAAqBtB,GAArB;AACA,IAFD;AAGA;AACD,SAAQgB,SAASA,MAAMzO,MAAN,GAAe,CAAzB,GAA8ByO,MAAM,CAAN,CAA9B,GAAyC,KAAhD;AACA,EARD,CAQE,OAAOpJ,CAAP,EAAU;AACX,mBAAMA,CAAN,EAAS,SAAT,EAAoB6C,KAApB,EAA2BpF,IAA3B,EAAiC2K,GAAjC;AACA,SAAO,KAAP;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;kBCde,UAAChQ,IAAD,EAAU;;AAEzB,KAAMuR,YAAiBvR,KAAKkL,MAAL,CAAYG,UAAb,GAA2BrL,KAAKkL,MAAL,CAAYG,UAAZ,CAAuBkG,SAAlD,GAA8D,EAApF;AACA,KAAMC,gBAAiBD,UAAUhP,MAAV,GAAmB,CAApB,GAAyBgP,UAAUhP,MAAnC,GAA4C,CAAlE;AACA,KAAMkP,UAAgBtQ,OAAOuQ,OAAP,CAAeD,OAArC;;AAEA,QAAO,CACN;AACCtR,QAAU,OADX;AAEC+M,QAAU,EAACS,OAAO,CAAR,EAAWjC,MAAM,CAAjB,EAFX;AAGCiG,WAAU,GAHX;AAICC,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAJ1C;AAKCtR,YAAU;AALX,EADM,EAQN;AACCJ,QAAU,UADX;AAEC+M,QAAU,EAAC4E,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAoBlD,MAAM,CAA1B,EAFX;AAGCiG,WAAU,GAHX;AAICC,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAJ1C;AAKCtR,YAAU;AALX,EARM,EAeN;AACCJ,QAAU,aADX;AAEC+M,QAAU,EAAC4E,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAoBlD,MAAM,CAA1B,EAFX;AAGCiG,WAAU,GAHX;AAICC,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAJ1C;AAKCtR,YAAU;AALX,EAfM,EAsBN;AACCJ,QAAU,cADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWlD,MAAM,CAAjB,EAFX;AAGCkG,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAH1C;AAICtR,YAAU;AAJX,EAtBM,EA4BN;AACCJ,QAAU,iBADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWlD,MAAM,CAAjB,EAFX;AAGCkG,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAH1C;AAICtR,YAAU;AAJX,EA5BM,EAkCN;AACCJ,QAAU,YADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWkD,MAAM,CAAjB,EAAoBpG,MAAM,CAA1B,EAFX;AAGCkG,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAH1C;AAICtR,YAAU;AAJX,EAlCM,EAuCH;AACFJ,QAAU,eADR;AAEF+M,QAAU,EAAC0B,OAAO,CAAR,EAAWkD,MAAM,CAAjB,EAAoBpG,MAAM,CAA1B,EAFR;AAGFkG,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAHvC;AAIFtR,YAAU;AAJR,EAvCG,EA6CN;AACCJ,QAAU,WADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWlD,MAAM,CAAjB,EAFX;AAGCkG,UAAU,CAHX;AAICrR,YAAU;AAJX,EA7CM,EAmDN;AACCJ,QAAU,QADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWlD,MAAM,CAAjB,EAFX;AAGCkG,UAAU,CAHX;AAICrR,YAAU;AAJX,EAnDM,EAyDN;AACCJ,QAAU,UADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWkD,MAAM,CAAjB,EAAoBpG,MAAM,CAA1B,EAFX;AAGCkG,UAAWJ,gBAAgB,CAAjB,GAAsB,CAAtB,GAA0B,CAHrC;AAICjR,YAAU;AAJX,EAzDM,EA+DN;AACCJ,QAAU,aADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWkD,MAAM,CAAjB,EAAoBpG,MAAM,CAA1B,EAFX;AAGCkG,UAAWH,QAAQ,QAAR,EAAkBI,IAAnB,GAA2B,CAA3B,GAA+B,CAH1C;AAICtR,YAAU;AAJX,EA/DM,EAqEN;AACCJ,QAAU,SADX;AAEC+M,QAAU,EAAC4E,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAoBlD,MAAM,CAA1B,EAFX;AAGCkG,UAAWJ,gBAAgB,CAAjB,GAAsB,CAAtB,GAA0BA,aAHrC;AAICjR,YAAU;AAJX,EArEM,EA2EN;AACCJ,QAAU,OADX;AAEC+M,QAAU,EAAC4E,MAAM,CAAP,EAAUpG,MAAM,CAAhB,EAAmBkD,OAAO,CAA1B,EAFX;AAGCgD,UAAU,CAHX;AAICrR,YAAU;AAJX,EA3EM,EAiFN;AACCJ,QAAU,SADX;AAEC+M,QAAU,EAAC0B,OAAO,CAAR,EAAWlD,MAAM,CAAjB,EAFX;AAGCkG,UAAU,CAHX;AAICrR,YAAU;AAJX,EAjFM,EAuFN;AACCJ,QAAU,UADX;AAEC+M,QAAU,EAAC6E,OAAM,CAAP,EAASzE,QAAQ,CAAjB,EAAoB5B,MAAM,CAA1B,EAFX;AAGCkG,UAAU,CAHX;AAICrR,YAAU;AAJX,EAvFM,EA6FN;AACCJ,QAAU,WADX;AAEC+M,QAAU,EAACxB,MAAM,CAAP,EAFX;AAGCkG,UAAU,CAHX;AAICrR,YAAU;AAJX,EA7FM,CAAP;AAoGA,C;;;;;;;;;;;;;;;;;;;;kBC1Gc,UAAC8N,OAAD,EAAUF,IAAV,EAAmB;AACjC,KAAIzD,eAAJ;AACA;AACA,KAAI2D,OAAJ,EAAa;AACZ3D,WAASzK,KAAKyP,aAAL,CAAmBrB,OAAnB,CAAT;AACA3D,WAASA,MAAT;AACA;AACD;AACA,KAAMsH,aAAa7D,KAAKd,GAAL,CAAS8D,WAAT,CAAqBhD,KAAKnO,IAAL,CAAUkL,MAAV,CAAiB1J,MAAjB,CAAwByQ,KAA7C,EAAoD,CAApD,CAAnB;AACA,KAAID,WAAWzP,MAAX,GAAoB,CAAxB,EAA2B;AAC1BmI,WAASsH,WAAW,CAAX,CAAT;AACA;AACD;AACA,KAAME,kBAAkB/D,KAAKd,GAAL,CAAS8D,WAAT,CAAqBhD,KAAKnO,IAAL,CAAUkL,MAAV,CAAiBG,UAAjB,CAA4B4G,KAAjD,EAAwD,CAAxD,CAAxB;AACA,KAAIC,gBAAgB3P,MAAhB,GAAyB,CAA7B,EAAgC;AAC/BmI,WAASwH,gBAAgB,CAAhB,CAAT;AACA;AACD,QAAOxH,MAAP;AACA,C;;;;;;;;;;;;;;;;;;;;kBClBc,UAAC2D,OAAD,EAAUF,IAAV,EAAmB;AACjC,KAAIzD,eAAJ;AACA;AACA,KAAI2D,OAAJ,EAAa;AACZ3D,WAASzK,KAAKyP,aAAL,CAAmBrB,OAAnB,CAAT;AACA3D,WAASA,MAAT;AACA;AACD;AACA,KAAMW,aAAa8C,KAAKd,GAAL,CAAS8D,WAAT,CAAqBgB,eAArB,EAAsC,CAAtC,CAAnB;AACA,KAAI9G,WAAW9I,MAAX,GAAoB,CAAxB,EAA2B;AAC1BmI,WAASW,WAAW,CAAX,CAAT;AACA;AACD,QAAOX,MAAP;AACA,C;;;;;;;;;;;;;;;;;;;;kBCbc,UAAC2D,OAAD,EAAUF,IAAV,EAAmB;AACjC,KAAIzD,eAAJ;AACA;AACA,KAAI2D,OAAJ,EAAa;AACZ3D,WAASzK,KAAKyP,aAAL,CAAmBrB,OAAnB,CAAT;AACA3D,WAASA,MAAT;AACA;AACD;AACAA,UAASyD,IAAT;;AAEA,QAAOzD,MAAP;AACA,C;;;;;;;;;;;;;;;;;;;;kBCXc,UAACrH,QAAD,EAAc;AAC5B,KAAMrD,OAAOC,KAAKC,KAAL,CAAWmD,QAAX,CAAb;AACArD,MAAKoS,IAAL,CAAUC,cAAV,EAA0B5Q,OAA1B,CAAkC,iBAAS;AAC1C;;AACAzB,OAAKwQ,MAAL,CAAY8B,IAAZ,CACC7H,MAAM4C,GAAN,CAAU/J,CAAV,GAAY,CADb,EAECmH,MAAM4C,GAAN,CAAU9J,CAAV,GAAc,CAFf,EAGC,CAHD,EAIC,GAJD,EAKC,EAACmN,MAAM,MAAP,EALD;;AAOA1Q,OAAKwQ,MAAL,CAAY8B,IAAZ,CACC7H,MAAM4C,GAAN,CAAU/J,CAAV,GAAY,CADb,EAECmH,MAAM4C,GAAN,CAAU9J,CAAV,GAAc,CAFf,EAGC,IAAI,IAAJ,GAAWkH,MAAM8H,WAHlB,EAIC,GAJD,EAKC;AACC7B,SAAS,SADV;AAECJ,YAAS;AAFV,GALD;AASA,EAlBD;AAqBA,C;;;;;;;;;;;;;;;;;;;;ACvBD;;AACA;;;;;;AACA,IAAMkC,YAAoB,GAA1B;AAAA,IACMC,gBAAoB,GAD1B;AAAA,IAEMC,iBAAoB,GAF1B;AAAA,IAGMC,oBAAoBD,iBAAiBF,SAAjB,GAA6B,CAHvD;;kBAIe,UAACnP,QAAD,EAAc;AAC5B,KAAMrD,OAAOC,KAAKC,KAAL,CAAWmD,QAAX,CAAb;AACA,KAAI8K,OAAOnO,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkBC,GAAlB,CAAsB1S,IAAjC;AACA,KAAI,CAACgO,IAAL,EAAW;AACX,KAAI2E,YAAY,GAAhB;AAAA,KACIC,YAAY5E,KAAK7K,CADrB;AAAA,KAEI0P,YAAY7E,KAAK5K,CAFrB;;AAIAvD,MAAKwQ,MAAL,CACE8B,IADF,CACOS,YAAYD,SADnB,EAC8BE,YAAY,IAAIF,SAD9C,EACyDL,gBAAgB,IAAIK,SAD7E,EACwF,wBAAS3S,IAAT,CAAcoC,MAAd,GAAuBoQ,iBAAvB,GAA2CG,SADnI,EAC8I;AAC5IpC,QAAa,gBAD+H;AAE5IJ,WAAa,GAF+H;AAG5IF,UAAa,MAH+H;AAI5IG,eAAa;AAJ+H,EAD9I;;AAQA,yBAASpQ,IAAT,CAAcsB,OAAd,CAAsB,oBAAY;AACjCwR,WAASjT,IAAT,EAAe+S,SAAf,EAA0BC,SAA1B,EAAqCE,SAAS/S,IAA9C,EAAoD+S,SAAStB,MAA7D;AACAoB,eAAaL,iBAAb;AACA,EAHD;AAIA,C;;AAED,SAASM,QAAT,CAAkBjT,IAAlB,EAAwBsD,CAAxB,EAA2BC,CAA3B,EAA8B+C,IAA9B,EAAoCsL,MAApC,EAA4C;AAC3C,KAAMpQ,SAAmBL,OAAOgS,MAAP,CAAc3R,MAAvC;AAAA,KACM4R,YAAoB5R,OAAO8E,IAAP,CAAD,GAAiB9E,OAAO8E,IAAP,EAAa/D,MAA9B,GAAuC,CADhE;AAEA,KAAIsI,cAAJ;AAAA,KAAWwI,cAAcD,YAAYxB,MAArC;AACA,KAAIyB,cAAc,CAAlB,EAAqBxI,QAAQ,gBAAUgC,KAAlB;AACrB,KAAIwG,eAAe,CAAnB,EAAsBxI,QAAQ,MAAR;AACtB,KAAIwI,cAAc,CAAlB,EAAqBxI,QAAQ,gBAAU4B,GAAlB;AACrB,KAAI6G,YAAaD,cAAc,CAAf,GAAoBzB,MAApB,GAA6BwB,SAA7C;AACApT,MAAKwQ,MAAL,CACE8B,IADF,CACOhP,CADP,EACUC,IAAIiP,SADd,EACyBC,aADzB,EACwCC,cADxC,EACwD,EAAChC,MAAM7F,KAAP,EAAcyF,SAAS,GAAvB,EADxD,EAEEgC,IAFF,CAEOhP,CAFP,EAEUC,IAAIiP,SAFd,EAEyBC,gBAAgBa,SAAhB,GAA4B1B,MAFrD,EAE6Dc,cAF7D,EAE6E,EAAChC,MAAM7F,KAAP,EAAcyF,SAAS,GAAvB,EAF7E,EAGE1F,IAHF,CAGOtE,IAHP,EAGahD,CAHb,EAGgBC,CAHhB,EAGmB,EAACgQ,MAAM,GAAP,EAAYC,OAAO,MAAnB,EAA2BpD,QAAQ,gBAAnC,EAAqDG,aAAa,GAAlE,EAHnB,EAIE3F,IAJF,CAIUwI,SAJV,SAIuBxB,MAJvB,EAIiCtO,IAAImP,aAJrC,EAIoDlP,CAJpD,EAIuD;AACrDgQ,QAAa,GADwC;AAErDC,SAAa,OAFwC;AAGrDpD,UAAa,gBAHwC;AAIrDG,eAAa;AAJwC,EAJvD;AAUA;;;;;;;;;;;;;;;;;;;AC9CD;;AACA,IAAMiC,YAAe,GAArB;AAAA,IACMiB,WAAe,GADrB;AAAA,IAEMC,YAAe,GAFrB;AAAA,IAGMC,eAAeD,YAAYlB,SAAZ,GAAwB,CAH7C;;kBAIe,UAACnP,QAAD,EAAc;AAC5B,KAAMrD,OAAOC,KAAKC,KAAL,CAAWmD,QAAX,CAAb;;AAEA,KAAI8K,OAAOnO,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkBC,GAAlB,CAAsB7S,IAAjC;AACA,KAAI,CAACmO,IAAL,EAAW;;AAEX,KAAMyF,MAAY3T,KAAK2T,GAAvB;AAAA,KACMC,MAAY7T,KAAK8T,UADvB;AAAA,KAEMC,UAAY/T,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB0I,OAFzC;AAAA,KAGMC,YAAYhU,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB2I,SAHzC;AAAA,KAIMC,QAAYjU,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB4I,KAAvB,CAA6BpF,MAJ/C;;AAMA,KAAIiE,YAAY,GAAhB;AAAA,KACIoB,OAAY/F,KAAK7K,CADrB;AAAA,KAEI6Q,OAAYhG,KAAK5K,CAFrB;;AAIA,KAAI6Q,gBAAgB,CAApB;AACAJ,WAAUvS,OAAV,CAAkB,cAAM;AACvB,MAAI4S,GAAGxF,MAAH,IAAawF,GAAGC,cAApB,EAAoCF;AACpC,EAFD;;AAIApU,MAAKwQ,MAAL,CACE8B,IADF,CACO4B,OAAOpB,SADd,EACyBqB,OAAO,IAAIrB,SADpC,EAC+CW,WAAW,IAAIX,SAD9D,EACyE,IAAIa,YAAJ,GAAmBb,SAD5F,EACuG;AACrGpC,QAAa,gBADwF;AAErGJ,WAAa,GAFwF;AAGrGF,UAAa,MAHwF;AAIrGG,eAAa;AAJwF,EADvG;;AAQA,KAAMgE,aAAa,CAClB,CAAC,gBAAU/H,IAAX,EAAiB,CAAC,KAAD,WAAeoH,IAAIY,KAAnB,EAA4BZ,IAAIa,QAAhC,EAA0CC,KAAKC,KAAL,CAAWf,IAAIgB,aAAf,CAA1C,CAAjB,CADkB,EAElB,CAAC,gBAAUhI,MAAX,EAAmB,CAAC,KAAD,WAAeiH,IAAIW,KAAnB,EAA4BX,IAAIY,QAAhC,EAA0CC,KAAKC,KAAL,CAAWd,IAAIe,aAAf,CAA1C,CAAnB,CAFkB,EAGlB,CAAC,gBAAUlI,MAAX,EAAmB,CAAC,KAAD,EAAQ,EAAR,EAAYgI,KAAKG,KAAL,CAAW5U,KAAK8F,GAAL,CAASC,OAAT,EAAX,CAAZ,EAA4C/F,KAAK8F,GAAL,CAAS+O,KAArD,CAAnB,CAHkB,EAIlB,CAAC,gBAAUvI,MAAX,EAAmB,CAAC,SAAD,EAAY,EAAZ,EAAgBwH,QAAQgB,KAAR,CAAclG,MAA9B,EAAsCkF,QAAQiB,aAA9C,CAAnB,CAJkB,EAKlB,CAAC,gBAAUzI,MAAX,EAAmB,CAAC,WAAD,EAAc,EAAd,EAAkB6H,aAAlB,EAAiCJ,UAAUzR,MAA3C,CAAnB,CALkB,EAMlB,CAAC,gBAAUgK,MAAX,EAAmB,CAAC,OAAD,EAAU,EAAV,EAAc0H,QAAQG,gBAAgB,EAAtC,EAA0C,MAAMJ,UAAUzR,MAAV,GAAmB,EAAnE,CAAnB,CANkB,CAAnB;;AASAiI,GAAE/I,OAAF,CAAU8S,UAAV,EAAsB,UAACjI,OAAD,EAAU2I,KAAV,EAAoB;AACzCpC,MAAI7S,IAAJ,EAAUkU,IAAV,EAAgBC,OAAOR,eAAesB,KAAtC,EAA6C3I,QAAQ,CAAR,CAA7C,EAAyDA,QAAQ,CAAR,CAAzD;AACA,EAFD;AAGA,C;;AAED,SAASuG,GAAT,CAAa7S,IAAb,EAAmBsD,CAAnB,EAAsBC,CAAtB,EAAyBsH,KAAzB,EAAgCyB,OAAhC,EAAyC;AACxC,KAAM+G,cAAc/G,QAAQ,CAAR,IAAaA,QAAQ,CAAR,CAAjC;AACA,KAAI+G,cAAc,CAAlB,EAAqBxI,QAAQ,gBAAU4B,GAAlB;AACrB,KAAI6G,YAAaD,cAAc,CAAf,GAAoB/G,QAAQ,CAAR,CAApB,GAAiCA,QAAQ,CAAR,CAAjD;AACAtM,MAAKwQ,MAAL,CACE8B,IADF,CACOhP,CADP,EACUC,IAAIiP,SADd,EACyBiB,QADzB,EACmCC,SADnC,EAC8C,EAAChD,MAAM,MAAP,EAAeJ,SAAS,GAAxB,EAD9C,EAEEgC,IAFF,CAEOhP,CAFP,EAEUC,IAAIiP,SAFd,EAEyBiB,WAAWH,SAAX,GAAuBhH,QAAQ,CAAR,CAFhD,EAE4DoH,SAF5D,EAEuE,EAAChD,MAAM7F,KAAP,EAAcyF,SAAS,GAAvB,EAFvE,EAGE1F,IAHF,CAGO0B,QAAQ,CAAR,CAHP,EAGmBhJ,CAHnB,EAGsBC,CAHtB,EAGyB,EAACgQ,MAAM,GAAP,EAAYC,OAAO,MAAnB,EAA2BpD,QAAQ,gBAAnC,EAAqDG,aAAa,GAAlE,EAHzB,EAIE3F,IAJF,CAIO0B,QAAQ,CAAR,CAJP,EAImBhJ,IAAImQ,QAJvB,EAIiClQ,CAJjC,EAIoC,EAACgQ,MAAM,GAAP,EAAYC,OAAO,OAAnB,EAA4BpD,QAAQ,gBAApC,EAAsDG,aAAa,GAAnE,EAJpC,EAKE3F,IALF,CAKU0B,QAAQ,CAAR,CALV,WAK0BA,QAAQ,CAAR,CAL1B,EAKwChJ,IAAI,EAL5C,EAKgDC,IAAI,GALpD,EAKyD;AACvDgQ,QAAa,GAD0C;AAEvDC,SAAa,MAF0C;AAGvDpD,UAAa,gBAH0C;AAIvDG,eAAa;AAJ0C,EALzD;AAWA;;;;;;;;;;;;;;;AC/DD;;AACA;;IAAY2E,O;;AACZ;;IAAYC,G;;AACZ;;AACA;;AACA;;;;AACA;;;;;;;;AACA,IAAMjV,QAAQ,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,CAAd;AACA,0BAASiK,MAAT;AACApC,QAAQC,GAAR,CAAY,YAAM2E,IAAN,CAAW,kBAAX,CAAZ;AACA;;AAEA;AACA,IAAMyI,kBAAkB,KAAxB;;AAEA;AACA,IAAMC,OAAO,SAAPA,IAAO,GAAM;AAClB,KAAIpV,KAAK8F,GAAL,CAASuP,MAAT,GAAkB,IAAIrV,KAAK8F,GAAL,CAASwP,SAAnC,EAA8C;AAC7CxN,UAAQC,GAAR;AACA;AACA;;AAED;AACA;AACAkN,SAAQM,IAAR;AACAN,SAAQhK,MAAR,CAAehL,KAAf;AACAgV,SAAQ/B,MAAR,CAAejT,KAAf;AACAgV,SAAQ/U,IAAR,CAAaD,KAAb;AACAgV,SAAQO,SAAR,CAAkBvV,KAAlB;AACA;AACAiV,KAAInV,IAAJ,CAASE,MAAM,CAAN,CAAT;AACAiV,KAAIhV,IAAJ,CAASD,MAAM,CAAN,CAAT;AACA;AACA,KAAI,iBAAM,EAAN,CAAJ,EAAe,eAAIA,MAAM,CAAN,CAAJ,EAAc,EAAd;AACf;AACA;AACA,CApBD;;AAsBA;AACA0B,OAAOC,OAAP,CAAe6T,IAAf,GAAsB,YAAM;AAC3B,KAAIN,eAAJ,EAAqB;AACpB,4BAASlL,IAAT,CAAc,YAAY;AACzBmL;AACA,GAFD;AAGA,EAJD,MAIO;AACNA;AACA;AACD,CARD,C;;;;;;;;;;;;;;;;;;kBCvCe,UAACM,SAAD,EAAe;AAC7B,KAAIC,aAAa,EAAjB;AACA,MAAK,IAAItP,IAAT,IAAiBrG,KAAKuB,MAAtB,EAA8B;AAC7B,MAAIiJ,QAAQxK,KAAKuB,MAAL,CAAY8E,IAAZ,CAAZ;AACA,MAAI,CAACsP,WAAWnL,MAAMS,MAAN,CAAa/K,IAAxB,CAAL,EAAoCyV,WAAWnL,MAAMS,MAAN,CAAa/K,IAAxB,IAAgC,EAAhC;AACpCyV,aAAWnL,MAAMS,MAAN,CAAa/K,IAAxB,EAA8BsC,IAA9B,CAAmCxC,KAAKuB,MAAL,CAAY8E,IAAZ,CAAnC;AACA;;AAED,KAAI8E,UAAU,EAAd;AACAuK,WAAUlU,OAAV,CAAkB,gBAAQ;AACzBzB,SAAOC,KAAKC,KAAL,CAAWF,IAAX,CAAP;AACA,MAAIA,IAAJ,EAAUoL,UAAUA,QAAQzC,MAAR,CAAe3I,KAAKkL,MAAL,CAAYE,OAA3B,CAAV;AACV,EAHD;;AAKAjK,QAAOgS,MAAP,GAAgB;AACf3R,UAASoU,UADM;AAEfxK,WAASA;AAFM,EAAhB;AAIA,C;;;;;;;;;;;;;;;;;;;;AClBD;;kBAEe,UAACpL,IAAD,EAAO6V,MAAP,EAAkB;AAChC,KAAMrU,SAAcxB,KAAKoS,IAAL,CAAU0D,WAAV,CAApB;AAAA,KACMC,cAAcvL,EAAEvI,MAAF,CAAST,MAAT,EAAiB;AAAA,SAASiJ,MAAMuL,EAAf;AAAA,EAAjB,CADpB;AAAA,KAEMC,cAAczL,EAAEvI,MAAF,CAAST,MAAT,EAAiB;AAAA,SAAS,CAACiJ,MAAMuL,EAAhB;AAAA,EAAjB,CAFpB;AAAA,KAGME,WAAcC,UAAUJ,WAAV,EAAuBF,OAAO1V,IAA9B,CAHpB;;AAOA,QAAO;AACN6V,MAAQE,QADF;AAENE,UAAQ5L,EAAEvI,MAAF,CAASgU,WAAT,EAAsB;AAAA,UAAS,oBAASxL,MAAMgE,KAAN,CAAY4H,QAArB,CAAT;AAAA,GAAtB,CAFF;AAGNpE,SAAQzH,EAAEvI,MAAF,CAASgU,WAAT,EAAsB;AAAA,UAAS,CAAC,oBAASxL,MAAMgE,KAAN,CAAY4H,QAArB,CAAV;AAAA,GAAtB;AAHF,EAAP;AAKA,C;;AAED,SAASF,SAAT,CAAmBJ,WAAnB,EAAgCO,UAAhC,EAA4C;AAC3C,KAAIJ,WAAW;AACdK,OAAMR;AADQ,EAAf;AAGAO,YAAW7U,OAAX,CAAmB,gBAAQ;AAC1ByU,WAAS/V,KAAKA,IAAd,IAAsBqK,EAAEvI,MAAF,CAAS8T,WAAT,EAAsB;AAAA,UAAStL,MAAMnE,IAAN,CAAW8H,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,KAA4BjO,KAAKA,IAA1C;AAAA,GAAtB,CAAtB;AACA,EAFD;AAGA,QAAO+V,QAAP;AACA;;;;;;;;;;;;;;;;;;;kBCzBc,UAAClW,IAAD,EAAU;AACxB,KAAMwW,YAAYxW,KAAKoS,IAAL,CAAUqE,sBAAV,CAAlB;AACA,QAAO;AACND,aAAWA,SADL;AAEN3H,UAAWrE,EAAEvI,MAAF,CAASuU,SAAT,EAAoB;AAAA,UAAYE,SAASC,YAAT,IAAyB7F,eAArC;AAAA,GAApB;AAFL,EAAP;AAIA,C;;;;;;;;;;;;;;;;;;;;ACND;;AACA;;IAAY8B,K;;;;kBACG,UAAC5S,IAAD,EAAU;AACxB,KAAM4W,WAAW5W,KAAKoS,IAAL,CAAUyE,UAAV,EAAsBzW,IAAtB,CAA2B,UAACC,CAAD,EAAIC,CAAJ;AAAA,SAAUD,EAAEyW,cAAF,GAAmBxW,EAAEwW,cAA/B;AAAA,EAA3B,EAA0E1W,IAA1E,CAA+E,UAACC,CAAD,EAAIC,CAAJ;AAAA,SAAUD,EAAEwK,KAAF,GAAUvK,EAAEuK,KAAtB;AAAA,EAA/E,CAAjB;;AAEA,KAAIkM,cAAc;AACjBzJ,UAAW,EADM;AAEjB0J,UAAW,EAFM;AAGjB/I,aAAW,EAHM;AAIjB4E,OAAW;AAJM,EAAlB;AAMA+D,UAASnV,OAAT,CAAiB,mBAAW;;AAE3B,MAAM0M,OAAiB,uBAAY8I,OAAZ,CAAvB;AAAA,MACM5I,UAAiBF,KAAKE,OAD5B;AAAA,MAEME,iBAAiBJ,KAAKI,cAF5B;AAGA,UAAQF,OAAR;AACC,QAAK,OAAL;AACC0I,gBAAYhC,KAAZ,GAAoBkC,QAAQ5J,GAAR,CAAYgE,OAAZ,CAAoBD,eAApB,CAApB;AACA;AACD,QAAK,KAAL;AACC2F,gBAAYlE,GAAZ,CAAgBtE,cAAhB,IAAkC0I,QAAQ5J,GAA1C;AACA;AACD,QAAK,YAAY,GAAjB;AACC0J,gBAAYzJ,MAAZ,CAAmB7K,IAAnB,CAAwBmQ,MAAMtF,MAAN,CAAaiB,cAAb,EAA6B0I,OAA7B,CAAxB;AACA;AACD,QAAK,UAAU,QAAV,IAAsB,QAAtB,IAAkC,GAAvC;AACCF,gBAAYC,MAAZ,CAAmBvU,IAAnB,CAAwBmQ,MAAMoE,MAAN,CAAazI,cAAb,EAA6B0I,OAA7B,CAAxB;AACA;AACD,QAAK,SAAS,WAAd;AACCF,gBAAY9I,SAAZ,CAAsBxL,IAAtB,CAA2BmQ,MAAM3E,SAAN,CAAgBM,cAAhB,EAAgC0I,OAAhC,CAA3B;AACA;AAfF;AAiBA,EAtBD;AAuBA,QAAOF,WAAP;AACA,C;;;;;;;;;;;;;;;;;;;;ACnCD;;kBACe,UAAC/W,IAAD,EAAU;AACxB,KAAMkX,aAAalX,KAAKoS,IAAL,CAAU+E,YAAV,CAAnB;AACA,KAAI/L,UAAe,EAAnB;AACA8L,YAAWzV,OAAX,CAAmB;AAAA,SAAU2J,QAAQ3I,IAAR,CAAa;AACzC2U,WAAQA,MADiC;AAEzCC,UAAQD,OAAO/J,GAAP,CAAW8D,WAAX,CAAuBiG,OAAOpX,IAAP,CAAYkL,MAAZ,CAAmB1J,MAAnB,CAA0BwU,EAA1B,CAA6BO,GAApD,EAAyD,CAAzD,EAA4DtU,MAA5D,CAAmE;AAAA,WAASwI,MAAMnE,IAAN,CAAW6E,KAAX,CAAiB,MAAjB,CAAT;AAAA,IAAnE;AAFiC,GAAb,CAAV;AAAA,EAAnB;AAIA,KAAIC,QAAQ7I,MAAR,GAAiB,CAArB,EAAwB;AACvB6I,UAAQhL,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUA,EAAE8W,MAAF,CAASvI,MAAT,GAAkBxO,EAAE+W,MAAF,CAASvI,MAArC;AAAA,GAAb,EACEzO,IADF,CACO,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAEgX,KAAF,CAAQ9U,MAAR,GAAiBjC,EAAE+W,KAAF,CAAQ9U,MAAnC;AAAA,GADP;AAEA;AACD,KAAI6I,QAAQ7I,MAAR,GAAiB,CAAjB,IAAsB6I,QAAQ,CAAR,EAAWiM,KAAX,CAAiB9U,MAAjB,IAA2B,CAAjD,IAAsD6I,QAAQA,QAAQ7I,MAAR,GAAiB,CAAzB,EAA4B8U,KAA5B,CAAkC9U,MAAlC,GAA2C,CAArG,EAAwG;AACvG,MAAM+U,eAAelM,QAAQA,QAAQ7I,MAAR,GAAiB,CAAzB,CAArB;AAAA,MACMgV,cAAetX,KAAKyP,aAAL,CAAmB4H,aAAaD,KAAb,CAAmBjX,IAAnB,CAAwB,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUA,EAAEiS,WAAF,GAAgBlS,EAAEkS,WAA5B;AAAA,GAAxB,EAAiE,CAAjE,EAAoEhD,EAAvF,CADrB;AAEA,2BAAcgI,WAAd,EAA2BnM,QAAQ,CAAR,EAAWgM,MAAtC,EAA8C,SAA9C;AACA;AACD,QAAOhM,OAAP;AACA,C;;;;;;;;;;;;;;;;;;;;kBClBc,UAACpL,IAAD,EAAO6V,MAAP,EAAkB;;AAEhC,KAAMxK,aAAsBrL,KAAKoS,IAAL,CAAUD,eAAV,CAA5B;AAAA,KACMqF,oBAAsBxX,KAAK+T,OADjC;AAAA,KAEM0D,eAAsBjN,EAAEvI,MAAF,CAASoJ,UAAT,EAAqB;AAAA,SAAaoK,UAAUO,EAAvB;AAAA,EAArB,CAF5B;AAAA,KAGM0B,kBAAsBlN,EAAEvI,MAAF,CAASoJ,UAAT,EAAqB;AAAA,SAAa,CAACoK,UAAUO,EAAxB;AAAA,EAArB,CAH5B;AAAA,KAIM2B,sBAAsBnN,EAAEvI,MAAF,CAASyV,eAAT,EAA0B;AAAA,SAAajC,UAAUnE,aAAV,IAA2BsG,mBAAxC;AAAA,EAA1B,CAJ5B;;AAMA,KAAIC,mBAAmBrN,EAAEsN,OAAF,CAAUH,oBAAoBhP,MAApB,CAA2B,CAAC6O,iBAAD,CAA3B,CAAV,CAAvB;;AAEA,KAAIO,UAAUvN,EAAEvI,MAAF,CAASoJ,UAAT,EAAqB;AAAA,SACnC,CAAEoK,UAAUO,EAAV,IAAgBP,UAAUnE,aAAV,IAA2B0G,cAA3C,IAA6DvC,UAAUnE,aAAV,IAA2B2G,cAA1F,KACCxC,UAAUyC,IAAV,GAAiBzC,UAAU0C,OAA5B,GAAuCtC,OAAOrV,MAAP,CAAcC,OADrD,IAEAgV,UAAUyC,IAAV,GAAiBrC,OAAOrV,MAAP,CAAcE,OAHI;AAAA,EAArB,CAAd;;AAKA,KAAIV,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkB3E,SAAlB,IAA+BjO,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkB3E,SAAlB,CAA4B1L,MAA5B,GAAqC,CAApE,IAAyEvC,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkB3E,SAAlB,CAA4B,CAA5B,KAAkC,IAA/G,EAAqH;AACpH8J,YAAUvN,EAAEvI,MAAF,CAAS8V,OAAT,EAAkB;AAAA,UAAatC,UAAUlG,EAAV,IAAgBvP,KAAKkL,MAAL,CAAY0H,KAAZ,CAAkB3E,SAAlB,CAA4B,CAA5B,EAA+BsB,EAA5D;AAAA,GAAlB,CAAV;AACA;;AAED,QAAO;AACN0C,SAAazH,EAAEvI,MAAF,CAASyV,eAAT,EAA0B;AAAA,UAAajC,UAAUnE,aAAV,IAA2BsG,mBAA3B,IAAkDnC,UAAUnE,aAAV,IAA2B0G,cAA7E,IAA+FvC,UAAUnE,aAAV,IAA2B2G,cAAvI;AAAA,GAA1B,CADP;AAENG,YAAapY,KAAKoY,QAFZ;AAGNtE,cAAa9T,KAAK8T,UAHZ;AAINC,WAAayD,iBAJP;AAKNa,QAAa7N,EAAEvI,MAAF,CAASwV,YAAT,EAAuB;AAAA,UACpChC,UAAUnE,aAAV,IAA2BgH,cADS;AAAA,GAAvB,CALP;AAONC,SAAa/N,EAAEvI,MAAF,CAASwV,YAAT,EAAuB;AAAA,UAAahC,UAAUnE,aAAV,IAA2BkH,eAAxC;AAAA,GAAvB,CAPP;AAQNvE,SAAazJ,EAAEvI,MAAF,CAASwV,YAAT,EAAuB;AAAA,UAAahC,UAAUnE,aAAV,IAA2BmH,eAAxC;AAAA,GAAvB,EAAgF,CAAhF,CARP;AASNzE,aAAaxJ,EAAEvI,MAAF,CAASwV,YAAT,EAAuB;AAAA,UAAahC,UAAUnE,aAAV,IAA2BoH,mBAAxC;AAAA,GAAvB,CATP;AAUNpN,aAAcqM,mBAAD,GAAsBA,oBAAoBvX,IAApB,CAAyB,UAACC,CAAD,EAAGC,CAAH;AAAA,UAAQA,EAAEyU,KAAF,CAAQlG,MAAR,GAAiBxO,EAAE0U,KAAF,CAAQlG,MAAjC;AAAA,GAAzB,CAAtB,GAAwF,EAV/F;AAWN8J,eAAcd,iBAAiBtV,MAAjB,GAA0B,CAA3B,GAAgCiI,EAAEvI,MAAF,CAAS4V,gBAAT,EAA2B;AAAA,UACvEpC,UAAUV,KAAV,IAAmBU,UAAUV,KAAV,CAAgBlG,MAAhB,GAAyB,CAD2B;AAAA,GAA3B,CAAhC,GACqC,EAZ5C;AAaN+J,WAAcf,iBAAiBtV,MAAjB,GAA0B,CAA3B,GAAgCiI,EAAEvI,MAAF,CAAS4V,gBAAT,EAA2B;AAAA,UACvEpC,UAAUV,KAAV,IAAmBU,UAAUV,KAAV,CAAgBlG,MAAhB,GAAyB4G,UAAUT,aADiB;AAAA,GAA3B,CAAhC,GAC2D,EAdlE;AAeN6D,YAAarO,EAAEvI,MAAF,CAASwV,YAAT,EAAuB;AAAA,UAAa,CACjDhC,UAAUnE,aAAV,IAA2BoH,mBAA3B,IACAjD,UAAUnE,aAAV,IAA2BmH,eAD3B,IAEAhD,UAAUnE,aAAV,IAA2BkH,eAHsB,KAIjD/C,UAAU5G,MAAV,GAAmB4G,UAAUnB,cAA7B,IAA+CmB,UAAU5G,MAAV,GAAmB,GAJ9B;AAAA,GAAvB,CAfP;AAoBNkJ,WAAaA,QAAQ3X,IAAR,CAAa,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAE6X,IAAF,GAAS5X,EAAE4X,IAArB;AAAA,GAAb,CApBP;AAqBN3G,aAAavR,KAAKoS,IAAL,CAAU0G,0BAAV;AArBP,EAAP;AAuBA,C;;;;;;;;;;;;;;;;;;;;AC1CD;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBACe,UAACC,UAAD,EAAgB;AAC9BvO,GAAEwO,IAAF,CAAOD,UAAP,EAAmB,gBAAQ;AAC1B/Y,SAAeC,KAAKC,KAAL,CAAWF,IAAX,CAAf;AACA,MAAI,CAACA,IAAL,EAAW;AACX,MAAM6V,SAAS,sBAAU7V,IAAV,CAAf;AACA,MAAMwB,SAAS,sBAAUxB,IAAV,EAAgB6V,MAAhB,CAAf;AACA,MAAM3K,SAAS;AACd+N,oBAAiBjZ,KAAKiZ,eADR;AAEdpD,WAAiBA,MAFH;AAGdrU,WAAiBA,MAHH;AAId6J,eAAiB,0BAAWrL,IAAX,EAAiB6V,MAAjB,CAJH;AAKdzK,YAAiB,uBAAQpL,IAAR,CALH;AAMdkZ,YAAiB,uBAAQlZ,IAAR,CANH;AAOd4S,UAAiB,qBAAM5S,IAAN;AAPH,GAAf;;AAUCA,OAAKkL,MAAL,GAAcA,MAAd;AACD;AACA,EAjBD;AAkBA,C;;;;;;;;;;;;;;;;;;;;ACzBD;;IAAY/K,I;;;;kBACG,UAAC4Y,UAAD,EAAgB;AAC9B,KAAMI,UAAU;AACf9L,OAAQ,IAAI9D,YAAJ,CAAiB,EAAjB,EAAqB,EAArB,EAAyBwP,WAAW,CAAX,CAAzB,CADO;AAEf7N,UAASjL,KAAKC,KAAL,CAAW6Y,WAAW,CAAX,CAAX,CAAD,GAA8B9Y,KAAKC,KAAL,CAAW6Y,WAAW,CAAX,CAAX,EAA0B7N,MAAxD,GAAiE;AAF1D,EAAhB;;AAKA6N,YAAWtX,OAAX,CAAmB,gBAAQ;AACzBzB,SAAOC,KAAKC,KAAL,CAAWF,IAAX,CAAP;AACA,MAAI,CAACA,IAAL,EAAW;AACX,OAAK,IAAIsG,IAAT,IAAiBrG,KAAKuB,MAAtB,EAA8B;AAC7B,OAAIiJ,QAAQxK,KAAKuB,MAAL,CAAY8E,IAAZ,CAAZ;AACA,WAAQmE,MAAMS,MAAN,CAAa/K,IAArB;AACC,SAAK,SAAL;AACCA,UAAKiZ,OAAL,CAAa3O,KAAb;AACA;AACD,SAAK,QAAL;AACCtK,UAAKkZ,MAAL,CAAY5O,KAAZ;AACA;AACD,SAAK,WAAL;AACCtK,UAAKmZ,SAAL,CAAe7O,KAAf;AACA;AACD,SAAK,OAAL;AACCtK,UAAKkX,KAAL,CAAW5M,KAAX;AACA;AACD,SAAK,UAAL;AACCtK,UAAKoZ,QAAL,CAAc9O,KAAd;AACA;AACD,SAAK,SAAL;AACCtK,UAAKqZ,OAAL,CAAa/O,KAAb;AACA;AACD,SAAK,YAAL;AACCtK,UAAKsZ,UAAL,CAAgBhP,KAAhB,EAAuBsO,WAAW,CAAX,CAAvB;AACA;AACD,SAAK,cAAL;AACC5Y,UAAKuZ,YAAL,CAAkBjP,KAAlB,EAAyBsO,WAAW,CAAX,CAAzB;AACA;AACD,SAAK,UAAL;AACC5Y,UAAKwZ,QAAL,CAAclP,KAAd,EAAqBsO,WAAW,CAAX,CAArB;AACA;AACD,SAAK,OAAL;AACC5Y,UAAKwN,KAAL,CAAWlD,KAAX,EAAkBsO,WAAW,CAAX,CAAlB;AACA;AACD,SAAK,aAAL;AACC5Y,UAAKwZ,QAAL,CAAclP,KAAd,EAAqBsO,WAAW,CAAX,CAArB;AACA;AACD,SAAK,iBAAL;AACC5Y,UAAKuZ,YAAL,CAAkBjP,KAAlB,EAAyBsO,WAAW,CAAX,CAAzB;AACA;AACD,SAAK,eAAL;AACC5Y,UAAKsZ,UAAL,CAAgBhP,KAAhB,EAAuBsO,WAAW,CAAX,CAAvB;AACA;AACD,SAAK,aAAL;AACC5Y,UAAKyZ,WAAL,CAAiBnP,KAAjB,EAAwBsO,WAAW,CAAX,CAAxB;AACA;AACD,SAAK,UAAL;AACC5Y,UAAK0Z,QAAL,CAAcpP,KAAd,EAAqBsO,WAAW,CAAX,CAArB;AACA;AA7CF;AA+CA;AACD,EArDF;AAuDA,C;;AAED,SAASe,YAAT,CAAsBzW,QAAtB,EAAgC;AAC/B,QAAO;AACNgK,OAAQ,IAAI9D,YAAJ,CAAiB,EAAjB,EAAqB,EAArB,EAAyBlG,QAAzB,CADF;AAEN6H,UAAS/J,OAAOjB,KAAP,CAAamD,QAAb,CAAD,GAA2BlC,OAAOjB,KAAP,CAAamD,QAAb,CAA3B,GAAoD;AAFtD,EAAP;AAIA;;;;;;;;;;;;;;;;;;;kBCrEc,YAAM;AACpB,MAAK,IAAIiD,IAAT,IAAiBnF,OAAOK,MAAxB,EAAgC;AAC/B,MAAI,CAACvB,KAAKuB,MAAL,CAAY8E,IAAZ,CAAL,EAAwB;AACvB,UAAOnF,OAAOK,MAAP,CAAc8E,IAAd,CAAP;AACA,GAFD,MAEO;AACN,OAAI,CAACrG,KAAKuB,MAAL,CAAY8E,IAAZ,EAAkB4E,MAAvB,EAA+BjL,KAAKuB,MAAL,CAAY8E,IAAZ,EAAkB4E,MAAlB,GAA2B,EAAC/K,MAAMmG,KAAK8H,KAAL,CAAW,GAAX,EAAiB,CAAjB,CAAP,EAA3B;AAC/B,OAAI,CAACnO,KAAKuB,MAAL,CAAY8E,IAAZ,EAAkB4E,MAAlB,CAAyBqE,EAA9B,EAAkCtP,KAAKuB,MAAL,CAAY8E,IAAZ,EAAkB4E,MAAlB,CAAyBqE,EAAzB,GAA8BtP,KAAKuB,MAAL,CAAY8E,IAAZ,EAAkBiJ,EAAhD;AAClC;AACD;AACD,C;;;;;;;;;;;;;;;;;;;;ACTD;;IAAYkG,S;;;;kBACG,UAACE,SAAD,EAAe;AAC7BA,WAAUlU,OAAV,CAAkB,oBAAY;AAC7B,MAAMzB,OAAOC,KAAKC,KAAL,CAAWmD,QAAX,CAAb;AACA,MAAIrD,QAAQA,KAAKkL,MAAjB,EAAyB;AACxB,OAAMG,aAAarL,KAAKkL,MAAL,CAAYG,UAA/B;AACA,OAAMwK,SAAa7V,KAAKkL,MAAL,CAAY2K,MAA/B;AACA,OAAIxS,YAAY,QAAZ,IAAwBgI,WAAW4I,KAAvC,EAA8CwB,UAAUxB,KAAV,CAAgB5I,WAAW4I,KAA3B,EAAkC4B,OAAO1V,IAAzC;AAC9C,OAAIkL,WAAWgN,IAAf,EAAqBhN,WAAWgN,IAAX,CAAgB5W,OAAhB,CAAwB;AAAA,WAAQgU,UAAU4C,IAAV,CAAeA,IAAf,CAAR;AAAA,IAAxB;AACrB,OAAIhN,WAAWkN,KAAf,EAAsBlN,WAAWkN,KAAX,CAAiB9W,OAAjB,CAAyB;AAAA,WAASgU,UAAU8C,KAAV,CAAgBA,KAAhB,CAAT;AAAA,IAAzB;AACtB;AACD,EATD;AAUA,C;;;;;;;;;;;;;;;;;;;;ACZD;;kBACe,UAAC9N,KAAD,EAAOpH,QAAP,EAAoB;AAClC,KAAIoH,MAAMzK,IAAN,CAAWsG,IAAX,IAAmBjD,QAAvB,EAAgC;AAC/B,sBAAOoH,KAAP,EAAatJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,CAAoC,CAApC,CAAb;AACA,EAFD,MAEM;AACL,sBAAOxH,KAAP,EAAatJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,CAAoC,CAApC,CAAb;AACA;AAED,C;;;;;;;;;;;;;;;;;;;;ACRD;;AACA;;kBAWe,UAACxH,KAAD,EAAW;AACzB;AACA,KAAMsP,SAAS,qBAAUtP,KAAV,CAAf;AACA;AACA,KAAIsP,MAAJ,EAAY;AACX,MAAI,mBAAMtP,KAAN,EAAa,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkG,SAAvD,CAAb,CAAJ,EAAoF;AACpF,MAAI,oBAAO9G,KAAP,EAAc,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6B0M,OAAvD,CAAd,CAAJ,EAAoF;AACpF,MAAI,+BAAkBtN,KAAlB,EAAyBA,MAAMzK,IAAN,CAAW8T,UAApC,CAAJ,EAAqD;AACrD,EAJD,MAIO;AACN,MAAI,uBAAUrJ,KAAV,EAAiBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB0H,KAAlB,CAAwB3E,SAAxB,CAAkC,CAAlC,CAAjB,CAAJ,EAA4D;AAC5D,MAAI,oBAAOxD,KAAP,EAAc,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAApD,EAA4D,CAA5D,EAA+D,CAA/D,CAAd,CAAJ,EAAsF;AACtF,MAAI,sBAASpE,KAAT,EAAgBA,MAAMzK,IAAN,CAAW+T,OAA3B,CAAJ,EAAwC;AACxC;AACD,C;;;;;;;;;;;;;;;;;;;;ACzBD;;AACA;;kBACe,UAACtJ,KAAD,EAAQpH,QAAR,EAAqB;AACnC;AACA,wBAAYoH,KAAZ,EAAmBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCyI,UAArD,EAAiE,OAAjE;AACA;AACA,KAAI,6BAAgBrJ,KAAhB,EAAuBA,MAAMS,MAAN,CAAaR,MAAb,CAAoBiD,KAA3C,CAAJ,EAAsD;AACtD,C;;;;;;;;;;;;;;;;;;;;ACPD;;AACA;;kBACe,UAAClD,KAAD,EAAW;AACzB;AACA,KAAMsP,SAAW,qBAAUtP,KAAV,CAAjB;AACA,KAAMoO,WAAWpO,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BwN,QAA9C;AACA;AACA,KAAI,CAACkB,MAAL,EAAa;AACZ,MAAMpZ,WAAWV,KAAKyP,aAAL,CAAmBjF,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB2K,MAAlB,CAAyBlV,QAA5C,CAAjB;AACA,MAAI,sBAAS8J,KAAT,EAAgB9J,QAAhB,EAA0BA,SAASkO,MAAT,GAAkB,CAA5C,CAAJ,EAAoD;AACpD,MAAI,oBAAOpE,KAAP,EAAc,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAApD,EAA4D,CAACgK,QAAD,IAAaA,SAAStW,MAAT,IAAmB,CAA5F,CAAd,CAAJ,EAAmH;AACnH,MAAI,sBAASkI,KAAT,EAAgBA,MAAMzK,IAAN,CAAW+T,OAA3B,CAAJ,EAAyC;AACzC,EALD,MAKO;AACN,MAAI,sBAAStJ,KAAT,EAAgBA,MAAM4C,GAAN,CAAU4D,kBAAV,CAA6B4H,QAA7B,CAAhB,CAAJ,EAA6D;AAC7D,MAAMN,QAAQ9N,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkN,KAA7B,CAAmCnY,IAAnC,CAAwC,UAACC,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAEwO,MAAF,GAAWvO,EAAEuO,MAAvB;AAAA,GAAxC,EAAuE,CAAvE,CAAd;AACA,MAAI,sBAASpE,KAAT,EAAgB8N,KAAhB,EAAuBA,MAAM1J,MAAN,GAAe0J,MAAMjE,cAA5C,CAAJ,EAAiE;AACjE,MAAI,sBAAS7J,KAAT,EAAgBA,MAAMzK,IAAN,CAAW+T,OAA3B,CAAJ,EAAyC;AACzC;AACD,C;;;;;;;;;;;;;;;;;;;;AClBD;;AACA;;kBACe,UAACtJ,KAAD,EAAQpH,QAAR,EAAqB;AACnC;AACA,KAAM0W,SAAU,qBAAUtP,KAAV,CAAhB;AACA,KAAMsJ,UAAU9T,KAAKyP,aAAL,CAAmB,0BAAnB,CAAhB;AACA;AACA,wBAAYjF,KAAZ,EAAmBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCC,SAAlC,CAA4C,CAA5C,CAAnB,EAAmE,UAAnE;AACA;AACA,KAAI,CAACyO,MAAL,EAAa;AACZ,MAAI,oBAAOtP,KAAP,EAAc,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAA7C,EAAqD,CAArD,EAAwD,CAAxD,CAAd,CAAJ,EAA+E;AAC/E,MAAMkG,QAAQ,wBAAatK,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB0H,KAAlB,CAAwBmC,KAArC,CAAd;AACA,MAAIA,SAAS,sBAAStK,KAAT,EAAgBsK,KAAhB,EAAuBA,MAAMA,KAAN,CAAYlG,MAAZ,GAAqB,CAA5C,CAAb,EAA4D;AAC5D,MAAI,sBAASpE,KAAT,EAAgBA,MAAMS,MAAN,CAAaR,MAAb,CAAoBoD,QAApC,CAAJ,EAAkD;AAClD,EALD,MAKO;AACN,MAAIrD,MAAM4C,GAAN,CAAUhK,QAAV,IAAsBoH,MAAMS,MAAN,CAAaR,MAAb,CAAoBoD,QAApB,CAA6BT,GAA7B,CAAiChK,QAA3D,EAAqE;AACpE,OAAMkO,YAAY9G,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkG,SAA/C;AAAA,OACMwG,UAAYtN,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6B0M,OAD/C;AAEA,OAAI,mBAAMtN,KAAN,EAAa,gCAAmBA,KAAnB,EAA0B8G,SAA1B,CAAb,CAAJ,EAAuD;AACvD,OAAI,oBAAO9G,KAAP,EAAc,gCAAmBA,KAAnB,EAA0BsN,OAA1B,CAAd,CAAJ,EAAsD;AACtD;AACD,2BAActN,KAAd,EAAqBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCC,SAAlC,CAA4C,CAA5C,CAArB,EAAqE,UAArE;AACA,MAAI,sBAASb,KAAT,EAAgBsJ,OAAhB,CAAJ,EAA8B;AAC9B;AACD,C;;;;;;;;;;;;;;;;;;;;ACxBD;;AACA;;kBACe,UAACtJ,KAAD,EAAQpH,QAAR,EAAqB;AACnC;AACA,KAAM0W,SAAS,qBAAUtP,KAAV,CAAf;AACA;AACA,KAAMuP,iBAAiBxP,EAAEvI,MAAF,CAASd,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCC,SAA3C,EAAqD;AAAA,SAAaA,UAAUiE,EAAV,IAAgB,0BAA7B;AAAA,EAArD,EAA8G,CAA9G,CAAvB;AACA,wBAAY9E,KAAZ,EAAmBuP,cAAnB,EAAmC,UAAnC;AACA;AACA,KAAI,CAACD,MAAL,EAAa;AACZ,MAAI,oBAAOtP,KAAP,EAAc,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAApD,EAA4D,CAA5D,CAAd,CAAJ,EAAmF;AACnF,MAAI,sBAASpE,KAAT,EAAgBuP,cAAhB,CAAJ,EAAqC;AACrC,EAHD,MAGO;AACN,MAAIvP,MAAM4C,GAAN,CAAUhK,QAAV,IAAsBoH,MAAMS,MAAN,CAAaR,MAAb,CAAoBoD,QAApB,CAA6BT,GAA7B,CAAiChK,QAA3D,EAAqE;AACpE,OAAMwV,WAAWpO,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BwN,QAA9C;AACA,OAAI,sBAASpO,KAAT,EAAgBA,MAAM4C,GAAN,CAAU4D,kBAAV,CAA6B4H,QAA7B,CAAhB,CAAJ,EAA6D;AAC7D,OAAM9D,QAAQ,wBAAatK,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB0H,KAAlB,CAAwBmC,KAArC,CAAd;AACA,OAAIA,SAAS,sBAAStK,KAAT,EAAgBsK,KAAhB,EAAuBA,MAAMA,KAAN,CAAYlG,MAAZ,GAAqBkG,MAAMC,aAAlD,CAAb,EAA8E;AAC9E,OAAMuD,QAAQ9N,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkN,KAA7B,CAAmCnY,IAAnC,CAAwC,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,EAAEwO,MAAF,GAAWvO,EAAEuO,MAAvB;AAAA,IAAxC,EAAuE,CAAvE,CAAd;AACA,OAAI,sBAASpE,KAAT,EAAgB8N,KAAhB,EAAuBA,MAAM1J,MAAN,GAAe0J,MAAMjE,cAA5C,CAAJ,EAAiE;AACjE,GAPD,MAOO;AACN,4BAAc7J,KAAd,EAAqBuP,cAArB,EAAqC,UAArC;AACA;AACD,MAAI,sBAASvP,KAAT,EAAgBxK,KAAKyP,aAAL,CAAmB,0BAAnB,CAAhB,CAAJ,EAAqE;AACrE;AACD,C;;;;;;;;;;;;;;;;;;;;ACzBD;;AACA;;kBACe,UAACjF,KAAD,EAAQpH,QAAR,EAAqB;AACnC;AACA,KAAM4W,SAAS,qBAAUxP,KAAV,CAAf;AACA;AACA,wBAAYA,KAAZ,EAAmBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuB+H,OAAvB,CAA+B,CAA/B,EAAkCgM,MAArD,EAA6D,SAA7D;AACA;AACA,KAAI6C,MAAJ,EAAY;AACX,MAAI;AACH,OAAI,mBAAMxP,KAAN,EAAa,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkG,SAAhD,EAA2D,CAA3D,EAA8D,CAA9D,CAAb,CAAJ,EAAmF;AACnF,OAAMjG,YAAY,gCAAmBrL,KAAKyP,aAAL,CAAmBjF,MAAMS,MAAN,CAAaR,MAAb,CAAoB8C,OAApB,CAA4B+B,EAA/C,CAAnB,EAAuE9E,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BC,SAApG,EAA+G,CAA/G,CAAlB;AACA,OAAIA,aAAa,CAACb,MAAM4C,GAAN,CAAU6M,SAAV,CAAoB5O,UAAU+B,GAA9B,CAAd,IAAoD,oBAAO5C,KAAP,EAAca,SAAd,CAAxD,EAAkF;AAClF;AACA;AACA;AACA;AACA,OAAI,oBAAOb,KAAP,EAAca,SAAd,EAAyBA,UAAU4M,IAAV,GAAiB5M,UAAU6M,OAApD,CAAJ,EAAiE;AAEjE,GAVD,CAUE,OAAOvQ,CAAP,EAAU,CACX;AACD,EAbD,MAaO;AACN,MAAI,oBAAO6C,KAAP,EAAc,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAA7C,EAAqD,CAArD,EAAwD,CAAxD,CAAd,CAAJ,EAA+E;AAC/E;AACD,KAAI,qBAAQpE,KAAR,EAAeA,MAAMS,MAAN,CAAaR,MAAb,CAAoB8C,OAAnC,CAAJ,EAAiD;AACjD,C;;;;;;;;;;;;;;;;;;;;ACzBD;;AACA;;kBACe,UAAC/C,KAAD,EAAQpH,QAAR,EAAqB;AACnC;AACA,KAAM4W,SAAS,qBAAUxP,KAAV,CAAf;AACA;AACA,wBAAYA,KAAZ,EAAmBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCC,SAAlC,CAA4C,CAA5C,CAAnB,EAAmE,UAAnE;AACA;AACA,KAAI,CAAC2O,MAAL,EAAa;AACZ,MAAI,oBAAOxP,KAAP,EAAc,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAA7C,EAAqD,CAArD,EAAwD,CAAxD,CAAd,CAAJ,EAA+E;AAC/E,MAAMkG,QAAQ,wBAAatK,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB0H,KAAlB,CAAwBmC,KAArC,CAAd;AACA,MAAIA,SAAS,sBAAStK,KAAT,EAAgBsK,KAAhB,EAAuBA,MAAMA,KAAN,CAAYlG,MAAZ,GAAqB,CAA5C,CAAb,EAA4D;AAC5D,MAAI,sBAASpE,KAAT,EAAgBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkC4I,KAAlD,CAAJ,EAA8D;AAC9D,MAAI,sBAASxJ,KAAT,EAAgBA,MAAMS,MAAN,CAAaR,MAAb,CAAoBoD,QAApC,CAAJ,EAAmD;AACnD,EAND,MAMO;AACN,2BAAcrD,KAAd,EAAqBtJ,OAAOjB,KAAP,CAAamD,QAAb,EAAuBgI,UAAvB,CAAkCC,SAAlC,CAA4C,CAA5C,CAArB,EAAqE,UAArE;AACA,MAAI,+BAAkBb,KAAlB,EAAyBA,MAAMzK,IAAN,CAAW8T,UAApC,CAAJ,EAAqD;AACrD;AACD,C;;;;;;;;;;;;;;;;;;;;AClBD;;AACA;;kBACe,UAACrJ,KAAD,EAAW,CAGzB,C;;;;;;;;;;;;;;;;;;;;ACLD;;AACA;;kBACe,UAACA,KAAD,EAAW;AACzB;AACA,KAAMsP,SAAS,qBAAUtP,KAAV,CAAf;AACA;AACA,KAAI4N,OAAO5N,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BgN,IAA7B,CAAkCpW,MAAlC,CAAyC;AAAA,SAAQoW,KAAK9I,EAAL,IAAW9E,MAAMzK,IAAN,CAAWkL,MAAX,CAAkB2K,MAAlB,CAAyBlV,QAA5C;AAAA,EAAzC,EAA+F,CAA/F,CAAX;AACA;AACA,KAAI,CAACoZ,MAAL,EAAa;AACZ,MAAI,oBAAOtP,KAAP,EAAc,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAA7C,EAAqD,CAArD,EAAwD,CAAxD,CAAd,CAAJ,EAA+E;AAC/E,MAAMvD,YAAY,yBAAY+M,IAAZ,EAAkB5N,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BC,SAA/C,EAA0D,CAA1D,EAA6D,CAA7D,CAAlB;AACA,MAAI,sBAASb,KAAT,EAAgBa,SAAhB,EAA2BA,aAAaA,UAAUyJ,KAAV,CAAgBlG,MAAhB,GAAyB,CAAjE,CAAJ,EAAwE;AACxE,EAJD,MAIO;AACN,MAAIwJ,QAAQ,sBAAS5N,KAAT,EAAgB4N,IAAhB,EAAsBA,KAAKxJ,MAAL,GAAcwJ,KAAK/D,cAAzC,CAAZ,EAAsE;AACtE;AACD,C;;;;;;;;;;;;;;;;;;;;ACfD;;AACA;;kBACe,UAAC7J,KAAD,EAAW;AACzB;AACA,KAAMsP,SAAS,qBAAUtP,KAAV,CAAf;AACA;AACA,wBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBE,OAAlB,CAA0B,CAA1B,EAA6BgM,MAAhD,EAAwD,SAAxD;AACA,KAAM+C,gBAAgBla,KAAKyP,aAAL,CAAmBjF,MAAMS,MAAN,CAAaR,MAAb,CAAoB8C,OAApB,CAA4B+B,EAA/C,CAAtB;;AAEA;AACA,KAAIwK,MAAJ,EAAY;AACX,MAAI;AACH,OAAMzO,YAAY,yBAAY6O,aAAZ,EAA2B1P,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BC,SAAxD,EAAmE,CAAnE,EAAsE,CAAtE,CAAlB;AACA,OAAI,CAACb,MAAM4C,GAAN,CAAU6M,SAAV,CAAoB5O,UAAU+B,GAA9B,CAAD,IAAuC,oBAAO5C,KAAP,EAAca,SAAd,CAA3C,EAAqE;AACrE,OAAI,oBAAOb,KAAP,EAAca,SAAd,EAAyBA,UAAU4M,IAAV,GAAiB5M,UAAU6M,OAApD,CAAJ,EAAkE;AAClE,OAAI,mBAAM1N,KAAN,EAAa,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BkG,SAAhD,EAA2D,CAA3D,EAA8D,CAA9D,CAAb,CAAJ,EAAmF;AACnF,GALD,CAKE,OAAO3J,CAAP,EAAU,CAAE;AACd,EAPD,MAOO;AACL,MAAI,oBAAO6C,KAAP,EAAc,yBAAYA,KAAZ,EAAmBA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBgO,OAAlB,CAA0BrK,MAA7C,EAAqD,CAArD,EAAwD,CAAxD,CAAd,CAAJ,EAA+E;AAChF;AACD,KAAI,qBAAQpE,KAAR,EAAe0P,aAAf,CAAJ,EAAmC;AACnC,C;;;;;;;;;;;;;;;;;;;;ACrBD;;AACA;;kBACgB,UAAC1P,KAAD,EAAW;AAC1B;AACA,KAAM2P,UAAU,qBAAU3P,KAAV,CAAhB;AACA;AACA,KAAI,CAAC2P,OAAL,EAAc;AACb,MAAI,sBAAS3P,KAAT,EAAgB,gCAAmBA,KAAnB,EAA0BA,MAAMzK,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6BsN,WAAvD,CAAhB,CAAJ,EAA0F;AAC1F,EAFD,MAEO;AACN,MAAI,+BAAkBlO,KAAlB,EAAyBA,MAAMzK,IAAN,CAAW8T,UAApC,CAAJ,EAAqD;AACrD;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;8CCXQ/T,O;;;;;;;;;2CACAA,O;;;;;;;;;6CACAA,O;;;;;;;;;4CACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;4CACAA,O;;;;;;;;;+CAEAA,O;;;;;;;;;iDACAA,O;;;;;;;;;6CACAA,O;;;;;;;;;gDACAA,O;;;;;;;;;0CACAA,O;;;;;;;;;6CAEAA,O;;;;;;;;;;;;;;;;;;;;;;kBCbO,YAAoB;AAAA,KAAnB4V,SAAmB,uEAAP,EAAO;;AACnC,KAAM0E,aAAa;AAClB;AACAC,UAAW,CAAC,EAAC1L,OAAO,CAAR,EAAD,EAAa,CAAC,CAAD,EAAI,CAAJ,CAAb,EAAqB,EAArB,CAFO;AAGlBwK,WAAW,CAAC,EAACxK,OAAO,CAAR,EAAD,EAAa,CAAC,CAAD,EAAI,CAAJ,CAAb,EAAqB,EAArB,CAHO;AAIlByI,SAAW,CAAC,EAACvF,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAoBlD,MAAM,CAA1B,EAAD,EAA+B,CAAC,CAAD,EAAI,CAAJ,CAA/B,EAAuC,EAAvC,CAJO;AAKlB6O,WAAW,CAAC,EAAC3L,OAAO,CAAR,EAAD,EAAa,CAAC,CAAD,EAAI,CAAJ,CAAb,EAAqB,EAArB,CALO;AAMlByK,UAAW,CAAC,EAACzK,OAAO,CAAR,EAAD,EAAa,CAAC,CAAD,EAAI,CAAJ,CAAb,EAAqB,EAArB,CANO;AAOlB4K,WAAW,CAAC,EAAC1H,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAD,EAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB,EAA8B,EAA9B,CAPO;AAQlB4L,YAAW,CAAC,EAAC1I,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAD,EAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB,EAA8B,EAA9B,CARO;AASlB2K,YAAW,CAAC,EAACzH,MAAM,CAAP,EAAUlD,OAAO,CAAjB,EAAD,EAAsB,CAAC,CAAD,EAAI,CAAJ,CAAtB,EAA8B,EAA9B,CATO;AAUlB6L,WAAW,CAAC,EAAC9M,OAAO,CAAR,EAAD,EAAa,CAAC,CAAD,EAAI,CAAJ,CAAb,EAAqB,EAArB,CAVO;AAWlB+M,aAAW,CAAC,EAAChP,MAAM,CAAP,EAAD,EAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ,EAAoB,EAApB,CAXO;AAYlBmO,YAAW,CAAC,EAAC9H,OAAO,EAAR,EAAYzE,QAAQ,CAApB,EAAD,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,EAAiC,GAAjC;AAZO,EAAnB;AAcA,QAAOqN,UAAUN,UAAV,EAAsB1E,SAAtB,CAAP;AACA,C;;AAED,SAASgF,SAAT,GAAgD;AAAA,KAA7B9E,MAA6B,uEAApB,EAAoB;AAAA,KAAhBF,SAAgB,uEAAJ,EAAI;;AAC/C,KAAIiF,IAAY,CAAhB;AAAA,KAAmBC,WAAW,CAA9B;AACA,KAAIC,YAAY,EAAhB;AACAtQ,GAAE/I,OAAF,CAAUkU,SAAV,EAAqB,UAACtS,QAAD,EAAc;AAClCmH,IAAE/I,OAAF,CAAUoU,MAAV,EAAkB,UAAC9E,KAAD,EAAQlN,GAAR,EAAgB;AACjC,OAAIyC,OAASzC,GAAb;AAAA,OACIqJ,OAAS6N,UAAUhK,MAAM,CAAN,CAAV,CADb;AAAA,OAEIa,SAAUgJ,KAAK,CAAN,GAAW7J,MAAM,CAAN,EAAS,CAAT,CAAX,GAAyBA,MAAM,CAAN,EAAS,CAAT,CAFtC;AAGAa,YAAaoJ,YAAYnX,GAAZ,EAAiB+N,MAAjB,EAAyBvO,QAAzB,CAAb;AACA,OAAIuO,UAAU,CAAd,EAAiB;AACjB,OAAIgJ,IAAI,CAAR,EAAWtU,OAAOA,OAAO,GAAP,GAAajD,QAApB;;AAEXyX,aAAUxU,IAAV,IAAkB;AACjBnG,UAAU0D,GADO;AAEjBR,cAAUA,QAFO;AAGjB4X,cAAWL,KAAK,CAAN,GAAW,MAAX,GAAoB,OAHb;AAIjB1N,UAAUA,KAAK,CAAL,CAJO;AAKjBgO,UAAUhO,KAAK,CAAL,CALO;AAMjB0E,YAAUA,MANO;AAOjBD,aAAUZ,MAAM,CAAN,CAPO;AAQjB8J,cAAUA;AARO,IAAlB;AAUAA;AACA,GAnBD;AAoBAD;AACA,EAtBD;AAuBA,QAAOE,SAAP;AACA;;AAED,SAASE,WAAT,CAAqB7a,IAArB,EAA2ByR,MAA3B,EAAmCvO,QAAnC,EAA6C;AAC5C,KAAI;AACH,MAAMrD,OAAOmB,OAAOjB,KAAP,CAAamD,QAAb,CAAb;AACA,UAAQlD,IAAR;AACC,QAAK,OAAL;AACCyR,aAAS5R,KAAKoL,OAAL,CAAa7I,MAAb,GAAsBqP,MAA/B;AACA;AACD,QAAK,SAAL;AACCA,aAAS5R,KAAKoL,OAAL,CAAa7I,MAAb,GAAsBqP,MAAtB,GAA+B5R,KAAKqL,UAAL,CAAgBgN,IAAhB,CAAqB9V,MAApD,GAA6D,CAAtE;AACA;AACD,QAAK,SAAL;AACCqP,aAAS8C,KAAKyG,IAAL,CAAUnb,KAAKqL,UAAL,CAAgBkG,SAAhB,CAA0BhP,MAA1B,GAAmC,CAA7C,CAAT;AARF;AAUA,SAAOqP,MAAP;AACA,EAbD,CAaE,OAAOhK,CAAP,EAAU;AACXG,UAAQC,GAAR,0BAAmC7H,IAAnC,SAA2CkD,QAA3C,SAAuDuE,CAAvD;AACA,SAAO,CAAP;AACA;AACD;;AAED,IAAMwT,WAAW;AAChB,SAAiB,EADD;AAEhB,SAAiB,GAFD;AAGhB,WAAiB,EAHD;AAIhB,UAAiB,EAJD;AAKhB,SAAiB,GALD;AAMhB,kBAAiB,GAND;AAOhB,UAAiB,EAPD;AAQhB,UAAiB;AARD,CAAjB;;AAWA,IAAMC,eAAe;AACpB,UAAiB,CADG;AAEpB,UAAiB,CAFG;AAGpB,SAAiB,CAHG;AAIpB,SAAiB,CAJG;AAKpB,WAAiB,CALG;AAMpB,kBAAiB,CANG;AAOpB,UAAiB,CAPG;AAQpB,SAAiB;AARG,CAArB;;AAaA,SAASN,SAAT,GAA6B;AAAA,KAAVO,GAAU,uEAAJ,EAAI;;AAC5B,KAAIJ,OAAO,CAAX;AAAA,KACIhO,OAAOqO,gBAAgBD,GAAhB,CADX;AAEA9Q,GAAE/I,OAAF,CAAUyL,IAAV,EAAgB,gBAAQ;AACvBgO,SAAOA,OAAOE,SAASI,IAAT,CAAd;AACA,EAFD;AAGA,QAAO,CAACtO,IAAD,EAAOgO,IAAP,CAAP;AACA;;AAED,SAASK,eAAT,GAAmC;AAAA,KAAVD,GAAU,uEAAJ,EAAI;;AAClC,KAAI5P,aAAJ;AAAA,KAAUqG,QAAQ,EAAlB;AAAA,KAAsB0J,YAAY,EAAlC;AACA/P,QAAkBgJ,KAAKyG,IAAL,CAAU3Q,EAAEkR,GAAF,CAAMJ,GAAN,IAAa,CAAvB,CAAlB;AACA,KAAIA,IAAIvJ,KAAR,EAAe;AACdA,UAAQvH,EAAEkG,IAAF,CAAO1O,MAAMsZ,IAAIvJ,KAAV,CAAP,EAAyB,OAAzB,CAAR;AACA,SAAQuJ,IAAIvJ,KAAZ;AACA;AACD,KAAIuJ,IAAI5P,IAAR,EAAc;AACbA,SAAQA,OAAO4P,IAAI5P,IAAZ,GAAoB4P,IAAI5P,IAAxB,GAA+BA,IAAtC;AACA,SAAQ4P,IAAI5P,IAAZ;AACA;AACDlB,GAAE/I,OAAF,CAAU6Z,GAAV,EAAe,UAACK,CAAD,EAAI9X,GAAJ;AAAA,SAAY4X,UAAUhZ,IAAV,CAAe+H,EAAEkG,IAAF,CAAO1O,MAAM2Z,CAAN,CAAP,EAAiB9X,GAAjB,CAAf,CAAZ;AAAA,EAAf;AACA4X,aAAYjR,EAAEoR,MAAF,CAASH,SAAT,EAAoB;AAAA,SAAKJ,aAAaM,EAAE,CAAF,CAAb,CAAL;AAAA,EAApB,CAAZ;AACA,KAAIL,IAAIvJ,KAAR,EAAe0J,UAAUI,OAAV,CAAkB9J,KAAlB;AACf0J,aAAYjR,EAAEsN,OAAF,CAAUtN,EAAEsR,OAAF,CAAUL,SAAV,CAAV,CAAZ;AACAA,aAAYjR,EAAEuR,KAAF,CAAQN,SAAR,EAAmB,CAAnB,CAAZ;AACA,MAAK,IAAIb,IAAIlP,IAAb,EAAmBkP,IAAI,CAAvB,EAA0BA,GAA1B;AAA+Ba,YAAUb,CAAV,IAAepQ,EAAEsR,OAAF,CAAU,CAACL,UAAUb,CAAV,CAAD,EAAe,MAAf,CAAV,CAAf;AAA/B,EACAa,YAAYjR,EAAEsN,OAAF,CAAUtN,EAAEwR,WAAF,CAAcP,SAAd,CAAV,CAAZ;AACAA,WAAUQ,KAAV;AACA,QAAOR,SAAP;AACA;;;;;;;;;;;;;;;;;;kBCxHc,CACd,CAAC,QAAD,EAAW,QAAX,CADc,EAEd,CAAC,QAAD,CAFc,C;;;;;;;;;;;;;;;;;;;kBCAA,UAACpD,IAAD,EAAU;AACxB,KAAM1X,WAAW0X,KAAKrY,IAAL,CAAUkL,MAAV,CAAiB2K,MAAjB,CAAwBlV,QAAzC;AACA,KAAI0X,KAAK9I,EAAL,IAAW5O,QAAX,IAAuB0X,KAAK6D,QAAL,GAAgB,CAAvC,IAA4C7D,KAAKxJ,MAAL,GAAcwJ,KAAK/D,cAAnE,EAAmF;AACnF,KAAM5J,SAASzK,KAAKyP,aAAL,CAAmB/O,QAAnB,CAAf;AACA,KAAI+J,OAAOmE,MAAP,IAAiB,CAArB,EAAuBwJ,KAAK8D,cAAL,CAAoBzR,MAApB;AAEvB,C;;;;;;;;;;;;;;;;;;;;ACND;;kBACe,UAACuJ,KAAD,EAAQqC,UAAR,EAAuB;AACrC;AACA;AACA;AACA;AACA;AACA,KAAIrC,MAAMmI,QAAV,EAAoB;AACnB,MAAM3b,UAAUiU,KAAKG,KAAL,CAAW,CAAC,IAAIZ,MAAMmI,QAAN,CAAeC,aAAf,GAA+BpI,MAAMmI,QAAN,CAAeE,QAAnD,IAA+D,GAA1E,CAAhB;AAAA,MACM1R,OAAU,CACT,YAAM8C,KADG,EAETuG,MAAMmI,QAAN,CAAe9V,IAAf,CAAoB8H,KAApB,CAA0B,GAA1B,EAA+B,CAA/B,CAFS,QAGL3N,OAHK,SAIRiI,IAJQ,CAIH,GAJG,CADhB;AAMAX,UAAQC,GAAR,CAAY4C,IAAZ;AACAqJ,QAAMjU,IAAN,CAAWwQ,MAAX,CAAkB5F,IAAlB,CACCA,IADD,EAECqJ,MAAM5G,GAAN,CAAU/J,CAAV,GAAc,CAFf,EAGC2Q,MAAM5G,GAAN,CAAU9J,CAHX,EAIC;AACCiQ,UAAY,MADb;AAECpD,WAAY,SAFb;AAGCvF,UAAY,SAHb;AAIC0I,SAAY,GAJb;AAKCxO,eAAY;AALb,GAJD;AAWA;AACA;AACD,KAAI,iBAAM,CAAN,CAAJ,EAAc;AACb,MAAMwX,cAAcjG,UAApB;AACA,MAAI/V,WAAgB,KAApB;AACAgc,cAAY9a,OAAZ,CAAoB,oBAAY;AAC/B,OAAM+a,WAAcC,SAAStc,IAA7B;AACA,OAAMuc,cAAeD,SAAS9K,OAAV,GAAqB8K,SAAS9K,OAA9B,GAAwC,EAA5D;AACA,OAAMgL,SAAcnS,EAAEvI,MAAF,CAASd,OAAOgS,MAAP,CAAc3R,MAAd,CAAqBgb,QAArB,CAAT,EAAyC;AAAA,WAAaI,UAAUrK,WAAV,IAAyBmK,WAAtC;AAAA,IAAzC,CAApB;AACA,OAAIC,OAAOpa,MAAP,GAAgBka,SAAS7K,MAAzB,IAAmC,CAAnC,IAAwCrR,QAA5C,EAAsD;AACtD,OAAMsc,YAAeL,QAAf,SAA2Bvc,KAAKiB,IAAtC;AACA+S,SAAMlR,WAAN,CAAkBgY,UAAU0B,SAASvP,IAAnB,CAAlB,EAA4C2P,SAA5C,EAAuD;AACtDC,cAAU7I,MAAMjU,IAAN,CAAWsG,IADiC;AAEtDyW,cAAU9c,KAAKiB,IAFuC;AAGtDf,UAAUqc,QAH4C;AAItDlW,UAAUuW,SAJ4C;AAKtDnS,YAAU;AAL4C,IAAvD;AAOA3C,WAAQC,GAAR,CAAY,YAAM0F,KAAlB,EAAyB8O,QAAzB,EAAmC,MAAnC,EAA2CG,OAAOpa,MAAlD,EAA0D,OAA1D,EAAmEka,SAAS7K,MAA5E;AACArR,cAAW,IAAX;AACA,GAfD;AAgBA;AACD,C;;AAED,SAASwa,SAAT,CAAmBO,GAAnB,EAAwB;AACvB,KAAIG,YAAY,EAAhB;AACA,KAAI/P,aAAJ;AACA,KAAI,CAAC4P,IAAI5P,IAAT,EAAe;AACdA,SAAOgJ,KAAKyG,IAAL,CAAU3Q,EAAEkR,GAAF,CAAMJ,GAAN,IAAa,CAAvB,CAAP;AACA,EAFD,MAEO;AACN5P,SAAO4P,IAAI5P,IAAX;AACA,SAAQ4P,IAAI5P,IAAZ;AACA;AACDlB,GAAE/I,OAAF,CAAU6Z,GAAV,EAAe,UAACK,CAAD,EAAI9X,GAAJ,EAAY;AAC1B4X,cAAYA,UAAU9S,MAAV,CAAiB6B,EAAEkG,IAAF,CAAO1O,MAAM2Z,CAAN,CAAP,EAAiB9X,GAAjB,CAAjB,CAAZ;AACA,EAFD;AAGA4X,aAAYjR,EAAEuR,KAAF,CAAQN,SAAR,EAAmB,CAAnB,CAAZ;;AAEA,MAAK,IAAIb,IAAIlP,IAAb,EAAmBkP,IAAI,CAAvB,EAA0BA,GAA1B,EAA+B;AAC9Ba,YAAUb,CAAV,IAAepQ,EAAEsR,OAAF,CAAU,CAACL,UAAUb,CAAV,CAAD,EAAe,MAAf,CAAV,CAAf;AACA;AACD,QAAOpQ,EAAEsN,OAAF,CAAUtN,EAAEwR,WAAF,CAAcP,SAAd,CAAV,CAAP;AACA;;;;;;;;;;;;;;;;;;;kBCpEc,UAAClD,KAAD,EAAW;AACzB,KAAMR,UAAUQ,MAAMvY,IAAN,CAAWkL,MAAX,CAAkBG,UAAlB,CAA6B0M,OAA7C;AAAA,KACM9F,QAAUsG,MAAMvY,IAAN,CAAWkL,MAAX,CAAkB1J,MAAlB,CAAyByQ,KADzC;AAEA,KAAIA,MAAM1P,MAAN,GAAe,CAAnB,EAAsB;AACrBgW,QAAMjL,MAAN,CAAa2E,MAAM,CAAN,CAAb;AACA,EAFD,MAEO,IAAI8F,QAAQxV,MAAR,GAAiB,CAArB,EAAwB;AAC9BgW,QAAM/X,MAAN,CAAauX,QAAQ,CAAR,CAAb;AACA;AACD,C;;;;;;;;;;;;;;;;;;;;;;;;;0CCROhY,O;;;;;;;;;0CACAA,O;;;;;;;;;yCACAA,O;;;;;;;;;;;;;;;;;;;;;;ACFR;;kBACe,UAACsD,QAAD,EAAWsO,OAAX,EAAuB;AACrC;;AACA,KAAM3R,OAAgBC,KAAKC,KAAL,CAAWmD,QAAX,CAAtB;AACA,KAAMuQ,MAAgB3T,KAAK2T,GAA3B;AAAA,KACMoJ,UAAgBtI,KAAKC,KAAL,CAAWf,IAAIgB,aAAJ,GAAoBhB,IAAIa,QAAnC,CADtB;AAAA,KAEMwI,WAAgBvI,KAAKG,KAAL,CAAW,CAACjB,IAAIa,QAAJ,GAAetT,OAAOwO,KAAP,CAAa,KAAb,CAAhB,IAAuCgC,OAAlD,CAFtB;AAAA,KAGMuL,aAAgBxI,KAAKG,KAAL,CAAWjB,IAAIa,QAAJ,GAAeb,IAAIgB,aAAnB,GAAmC,GAA9C,CAHtB;AAAA,KAIMuI,cAAgBzI,KAAKG,KAAL,CAAWmI,UAAUC,QAArB,CAJtB;AAAA,KAKMG,cAAgB1I,KAAKC,KAAL,CAAWwI,cAAc,CAAd,GAAkB,IAAlB,GAAyB,GAApC,IAA2C,GALjE;AAMAhc,QAAOwO,KAAP,CAAa,KAAb,IAAsBiE,IAAIa,QAA1B;;AAEA,KAAMZ,MAAgB7T,KAAK8T,UAA3B;AAAA,KACMuJ,aAAgB3I,KAAKG,KAAL,CAAWhB,IAAIY,QAAJ,GAAeZ,IAAIe,aAAnB,GAAmC,GAA9C,CADtB;AAAA,KAEM0I,WAAgB5I,KAAKG,KAAL,CAAW,CAAChB,IAAIY,QAAJ,GAAetT,OAAOwO,KAAP,CAAa,KAAb,CAAhB,IAAuCgC,OAAlD,CAFtB;AAAA,KAGM4L,UAAgB1J,IAAIe,aAAJ,GAAoBf,IAAIY,QAH9C;AAAA,KAIM+I,cAAgB9I,KAAKG,KAAL,CAAW0I,UAAUD,QAArB,CAJtB;AAAA,KAKMG,cAAgB/I,KAAKC,KAAL,CAAW6I,cAAc,CAAd,GAAkB,IAAlB,GAAyB,GAApC,IAA2C,GALjE;AAMArc,QAAOwO,KAAP,CAAa,KAAb,IAAsBkE,IAAIY,QAA1B;;AAEA,KAAMiJ,OAAiBzd,KAAKC,KAAL,CAAW,QAAX,EAAqB4T,UAA5C;AAAA,KACM6J,cAAiBjJ,KAAKG,KAAL,CAAW6I,KAAKjJ,QAAL,GAAgBiJ,KAAK9I,aAArB,GAAqC,GAAhD,CADvB;AAAA,KAEMgJ,YAAiBlJ,KAAKG,KAAL,CAAW,CAAC6I,KAAKjJ,QAAL,GAAgBtT,OAAOwO,KAAP,CAAa,MAAb,CAAjB,IAAyCgC,OAApD,CAFvB;AAAA,KAGMkM,WAAiBH,KAAK9I,aAAL,GAAqB8I,KAAKjJ,QAHjD;AAAA,KAIMqJ,eAAiBpJ,KAAKG,KAAL,CAAWgJ,WAAWD,SAAtB,CAJvB;AAAA,KAKMG,eAAiBrJ,KAAKC,KAAL,CAAWmJ,eAAe,CAAf,GAAmB,IAAnB,GAA0B,GAArC,IAA4C,GALnE;AAMA3c,QAAOwO,KAAP,CAAa,MAAb,IAAuB+N,KAAKjJ,QAA5B;;AAEA,KAAMuJ,SAAc;AACnBzV,UAAQ,CAAC,MAAD,EAAS,KAAT,EAAgB,UAAhB,EAA4B,YAA5B,EAA0C,YAA1C,EAAwD,UAAxD,EAAoE,UAApE,CADW;AAEnB2E,QAAQ,CACP,CAAC,YAAMV,IAAN,CAAW,KAAX,CAAD,EAAoBoH,IAAIY,KAAxB,EAAkC0I,UAAlC,QAAiDF,OAAjD,EAA0DC,QAA1D,EAAoEE,WAApE,EAAiFC,WAAjF,CADO,EAEP,CAAC,YAAMxQ,MAAN,CAAa,OAAb,CAAD,EAAwBiH,IAAIW,KAA5B,EAAsC6I,UAAtC,QAAqDE,OAArD,EAA8DD,QAA9D,EAAwEE,WAAxE,EAAqFC,WAArF,CAFO,EAGP,CAAC,YAAM7Q,MAAN,CAAa,OAAb,CAAD,EAAwB8Q,KAAKlJ,KAA7B,EAAuCmJ,WAAvC,QAAuDE,QAAvD,EAAiED,SAAjE,EAA4EE,YAA5E,EAA0FC,YAA1F,CAHO;AAFW,EAApB;AAQA;AACA,KAAM/J,YAAchU,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB2I,SAA3C;AACA,KAAII,gBAAgB,CAApB;AACAJ,WAAUvS,OAAV,CAAkB,cAAM;AACL,MAAI4S,GAAGxF,MAAH,IAAawF,GAAGC,cAApB,EAAoCF;AACpC,EAFnB;AAIA,KAAI6J,iBAAiB,CAArB;AAAA,KACIC,UAAiB,CAChB;AACC3V,UAAQ,EADT;AAEC2E,QAAQ,CAAC,EAAD;AAFT,EADgB,EAIb;AACF3E,UAAQ,EADN;AAEF2E,QAAQ,CAAC,EAAD;AAFN,EAJa,CADrB;AAUAlN,MAAKkL,MAAL,CAAY2K,MAAZ,CAAmB1V,IAAnB,CAAwBsB,OAAxB,CAAgC,gBAAQ;AACPwc,mBAAiBA,iBAAiB9d,KAAKyR,MAAvC;AACA,MAAIuM,YAAahd,OAAOgS,MAAP,CAAc3R,MAAd,CAAqBrB,KAAKA,IAA1B,CAAjB;AACA,MAAIie,SAAcD,SAAD,GAAcA,UAAU5b,MAAxB,GAAiC,CAAlD;AACA,MAAIqY,IAAcza,KAAKA,IAAL,CAAUgL,KAAV,CAAgB,KAAhB,CAAD,GAA2B,CAA3B,GAA+B,CAAhD;AACA+S,UAAQtD,CAAR,EAAWrS,MAAX,CAAkB9F,IAAlB,CAAuBtC,KAAKA,IAA5B;AACA+d,UAAQtD,CAAR,EAAW1N,IAAX,CAAgB,CAAhB,EAAmBzK,IAAnB,CAA2B2b,MAA3B,SAAqCje,KAAKyR,MAA1C;AACA,EAPjC;AASA,KAAMyM,YAAY;AACjB9V,UAAQ,CAAC,SAAD,EAAY,OAAZ,EAAqB,WAArB,EAAkC,QAAlC,EAA4C,QAA5C,EAAsD,KAAtD,EAA6D,QAA7D,CADS;AAEjB2E,QAAQ,CACP,CACC,YAAMX,MAAN,CAAavM,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB0I,OAAvB,CAA+BgB,KAA/B,CAAqClG,MAAlD,CADD,EAEC7O,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB4I,KAAvB,CAA6BpF,MAF9B,EAGCuF,gBAAgB,GAAhB,GAAsBJ,UAAUzR,MAHjC,EAIC6R,gBAAgB,EAAhB,GAAqBpU,KAAKkL,MAAL,CAAYG,UAAZ,CAAuB4I,KAAvB,CAA6BpF,MAJnD,EAKCvN,OAAOC,IAAP,CAAYJ,OAAOK,MAAnB,EAA2Be,MAA3B,GAAoC,GAApC,GAA0C0b,cAL3C,EAMCvJ,KAAKC,KAAL,CAAW1U,KAAK8F,GAAL,CAASC,OAAT,EAAX,IAAiC,GAAjC,GAAuC/F,KAAK8F,GAAL,CAAS+O,KANjD,EAOC7U,KAAK8F,GAAL,CAASuP,MAPV,CADO;AAFS,EAAlB;;AAeAvN,SAAQC,GAAR,CAAY,YAAM2E,IAAN,iBAAyB1M,KAAKiB,IAA9B,CAAZ,EACY,iBAAM8c,MAAN,CADZ,EAEY,iBAAMK,SAAN,CAFZ,EAGY,iBAAMH,QAAQ,CAAR,CAAN,CAHZ,EAIY,iBAAMA,QAAQ,CAAR,CAAN,CAJZ;AAMA,C;;;;;;;;;;;;;;;;;;;ACnFD,IAAMxM,UAAU,SAAVA,OAAU,GAAM;AACrB4M,QAAO,QAAP;AACA;AACA,CAHD;;AAKA5M,QAAQ6M,OAAR,GAAkB,YAAM;AACvBpd,QAAOuQ,OAAP,GAAiB;AAChBD,WAAS;AACR,aAAU;AACTE,aAAS,CADA;AAETE,UAAS;AAFA,IADF;AAKR,aAAU;AACTF,aAAS,CADA;AAETE,UAAS;AAFA;AALF;AADO,EAAjB;AAYA,CAbD;kBAceH,O;;;AAEf,SAAS4M,MAAT,CAAgBjb,QAAhB,EAA0B;AACzB,KAAG;AACH,MAAMqO,WAAUvQ,OAAOuQ,OAAP,CAAeD,OAAf,CAAuBpO,QAAvB,CAAhB;AACA,MAAIqO,SAAQG,IAAR,IAAgB1Q,OAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,CAAoC1P,MAApC,GAA6C,CAAjE,EAAoE;AACnEpB,UAAOuQ,OAAP,CAAeD,OAAf,CAAuBpO,QAAvB,IAAmC;AAClCwO,UAAS,KADyB;AAElCF,aAAS1R,KAAKiB;AAFoB,IAAnC;AAIA6G,WAAQC,GAAR,CAAY,UAAZ,EAAwB3E,QAAxB,EAAkC,gBAAlC;AACA;AACD,MAAI,CAACqO,SAAQG,IAAb,EAAmB;AAClB,OAAM2M,cAAcve,KAAKiB,IAAL,GAAYwQ,SAAQC,OAAxC;AACA5J,WAAQC,GAAR,CAAY,UAAZ,EAAwB3E,QAAxB,EAAkC,eAAlC,EAAsDmb,WAAtD,SAAqErd,OAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,CAAoC,CAApC,EAAuCM,WAA5G;AACA,OAAItS,KAAKiB,IAAL,GAAYwQ,SAAQC,OAApB,GAA8BxQ,OAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,CAAoC,CAApC,EAAuCM,WAAzE,EAAsF;AACrFxK,YAAQC,GAAR,CAAY,UAAZ,EAAwB3E,QAAxB,EAAkC,YAAlC;AACAlC,WAAOuQ,OAAP,CAAeD,OAAf,CAAuBpO,QAAvB,EAAiCwO,IAAjC,GAAwC,IAAxC;AACA1Q,WAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,GAAwC,EAAxC;AACA;AACD;AACA,EAlBD,CAkBC,OAAOrK,CAAP,EAAS;AACTzG,SAAOuQ,OAAP,CAAeD,OAAf,CAAuBpO,QAAvB,EAAiCwO,IAAjC,GAAwC,IAAxC;AACA1Q,SAAOjB,KAAP,CAAamD,QAAb,EAAuB7B,MAAvB,CAA8ByQ,KAA9B,GAAwC,EAAxC;AACA;AACD","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c148ef695451f9969910","// tool\nexport { default as timer } from './_timer'\nexport { default as color } from './_color'\nexport { default as colorType } from './_colorType'\nexport { default as table } from './_table'\nexport { default as emoji } from './_emoji'\nexport { default as debug } from './_debug'\n//\nexport { default as createConstructionSite } from './_createConstructionSite'\nexport { default as action } from './_action'\nexport { default as isFriend } from './_isFriend'\nexport { default as fullCheck } from './_isFull'\nexport { default as flagCommand } from './_flagCommand'\nexport { default as targetMaker } from './_targetMaker'\nexport { default as targetChanger } from './_targetChanger'\nexport { default as targetFormat } from './_targetFormat'\nexport { default as targetPos } from './_targetPos'\n\n\n// WEBPACK FOOTER //\n// ./src/_util/index.js","// ------------ creep ------------\nexport { default as moveTo } from \"./creep/_moveTo\"\n//\nexport { default as attack } from \"./creep/_attack\"\nexport { default as heal } from \"./creep/_heal\"\n//\nexport { default as build } from \"./creep/_build\"\nexport { default as repair } from \"./creep/_repair\"\nexport { default as dismantle } from \"./creep/_dismantle\"\n//\nexport { default as harvest } from \"./creep/_harvest\"\nexport { default as pickup } from \"./creep/_pickup\"\nexport { default as transfer } from \"./creep/_transfer\"\nexport { default as withdraw } from \"./creep/_withdraw\"\n//\nexport { default as upgradeController } from \"./creep/_upgradeController\"\nexport { default as claimController } from \"./creep/_claimController\"\n\n// ------------ find ------------\nexport { default as findInRange } from \"./find/_findInRange\"\nexport { default as findClosestInRange } from \"./find/_findClosestInRange\"\nexport { default as findClosestByRange } from \"./find/_findClosestByRange\"\nexport { default as lookFor } from \"./find/_lookFor\"\n\n\n\n// WEBPACK FOOTER //\n// ./src/action/index.js","import { default as Role } from './_role'\nexport default (room = Game.rooms['W81S67']) => {\n\treturn {\n\t\trole    : Role(room).sort((a, b) => a.priority - b.priority),\n\t\trepair  : {\n\t\t\tpercent: 0.5,\n\t\t\tmaxHits: 50000,\n\t\t},\n\t\tlinkMain: '58d505eb204ecd9e507951f0',\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","export {default as attack} from './_attack';\nexport {default as moveTo} from './_moveTo'\nexport {default as dismantle} from './_dismantle'\n\n\n// WEBPACK FOOTER //\n// ./src/flags/index.js","var originalFindPath = Room.prototype.findPath;\r\nvar setup = false;\r\n\r\nfunction creepMemoryCleanUp() {\r\n  if (Game.time - Memory.screepsPerf.lastMemoryCleanUp > 100) {\r\n    Object.keys(Memory.creeps).forEach(creepName => {\r\n      if (!Game.creeps[creepName]) {\r\n        Memory.creeps[creepName] = undefined;\r\n      }\r\n    });\r\n    Memory.screepsPerf.lastMemoryCleanUp = Game.time;\r\n  }\r\n};\r\n\r\nmodule.exports = function(options) {\r\n  if (!setup) {\r\n    options = options || {};\r\n    Memory.screepsPerf = Memory.screepsPerf || {\r\n      lastMemoryCleanUp: Game.time\r\n    };\r\n\r\n    if (options.speedUpArrayFunctions || options.speedUpArrayFunctions === undefined) {\r\n      Array.prototype.filter = function(callback, thisArg) {\r\n        var results = [];\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          if (callback.call(thisArg, arr[iterator], iterator, arr)) {\r\n            results.push(arr[iterator]);\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n\r\n      Array.prototype.forEach = function(callback, thisArg) {\r\n        var arr = this;\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          callback.call(thisArg, arr[iterator], iterator, arr);\r\n        }\r\n      };\r\n\r\n      Array.prototype.map = function(callback, thisArg) {\r\n        var arr = this;\r\n        var returnVal = [];\r\n        for (var iterator = 0; iterator < arr.length; iterator++) {\r\n          returnVal.push(callback.call(thisArg, arr[iterator], iterator, arr));\r\n        }\r\n        return returnVal;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creep memory clean up... this speeds up the initial memory parse each tick.\r\n     */\r\n    if (options.cleanUpCreepMemory || options.cleanUpCreepMemory === undefined) {\r\n      // Monkey patch creating creeps so that we can clean up their memory without forcing the user to make a call.\r\n      var originalCreateCreep = Spawn.prototype.createCreep;\r\n      Spawn.prototype.createCreep = function() {\r\n        creepMemoryCleanUp();\r\n        return originalCreateCreep.apply(this, arguments);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * FIND PATH OPTIMIZATION\r\n     * This cache's the built in findPath results in memory and reuses them as long as that same path is used at least 1/300 ticks.\r\n     * The cached path is also refreshed every 2000 ticks.  This helps to ensure that creeps respond to changing room terrain.\r\n     */\r\n    if (options.optimizePathFinding || options.optimizePathFinding === undefined) {\r\n      function roomPositionIdentifier(roomPosition) {\r\n        return roomPosition.roomName + 'x' + roomPosition.x + 'y' + roomPosition.y;\r\n      };\r\n\r\n      Room.prototype.findPath = function(fromPos, toPos, options) {\r\n        creepMemoryCleanUp();\r\n        if (!Memory.pathOptimizer) {\r\n          Memory.pathOptimizer = { lastCleaned: Game.time};\r\n        }\r\n\r\n        if (Game.time - Memory.pathOptimizer.lastCleaned > 40 && !this._cleanedUp) {\r\n          var keys = Object.keys(Memory.pathOptimizer);\r\n          keys.forEach((key) => {\r\n            var val = Memory.pathOptimizer[key];\r\n            if (val && ((val.used / (Game.time - val.tick) < 1 / 300) || Game.time - val.tick > 2000)) {\r\n              Memory.pathOptimizer[key] = undefined;\r\n            }\r\n          });\r\n          this._cleanedUp = true;\r\n          Memory.pathOptimizer.lastCleaned = Game.time;\r\n        }\r\n\r\n        var pathIdentifier = roomPositionIdentifier(fromPos) + roomPositionIdentifier(toPos);\r\n        if (!Memory.pathOptimizer[pathIdentifier]) {\r\n          var path = originalFindPath.apply(this, arguments);\r\n          Memory.pathOptimizer[pathIdentifier] = {\r\n            tick: Game.time,\r\n            path: Room.serializePath(path),\r\n            used: 1\r\n          }\r\n        } else {\r\n          Memory.pathOptimizer[pathIdentifier].used++;\r\n        }\r\n\r\n        return Room.deserializePath(Memory.pathOptimizer[pathIdentifier].path);\r\n      }\r\n    }\r\n    setup = true;\r\n  }\r\n\r\n  return {\r\n    originalFindPath: originalFindPath\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/screeps-perf/screeps-perf.js","let usedOnStart = 0;\nlet enabled = false;\nlet depth = 0;\n\nfunction setupProfiler() {\n  depth = 0; // reset depth, this needs to be done each tick.\n  Game.profiler = {\n    stream(duration, filter) {\n      setupMemory('stream', duration || 10, filter);\n    },\n    email(duration, filter) {\n      setupMemory('email', duration || 100, filter);\n    },\n    profile(duration, filter) {\n      setupMemory('profile', duration || 100, filter);\n    },\n    background(filter) {\n      setupMemory('background', false, filter);\n    },\n    restart() {\n      if (Profiler.isProfiling()) {\n        const filter = Memory.profiler.filter;\n        let duration = false;\n        if (!!Memory.profiler.disableTick) {\n          // Calculate the original duration, profile is enabled on the tick after the first call,\n          // so add 1.\n          duration = Memory.profiler.disableTick - Memory.profiler.enabledTick + 1;\n        }\n        const type = Memory.profiler.type;\n        setupMemory(type, duration, filter);\n      }\n    },\n    reset: resetMemory,\n    output: Profiler.output,\n  };\n\n  overloadCPUCalc();\n}\n\nfunction setupMemory(profileType, duration, filter) {\n  resetMemory();\n  const disableTick = Number.isInteger(duration) ? Game.time + duration : false;\n  if (!Memory.profiler) {\n    Memory.profiler = {\n      map: {},\n      totalTime: 0,\n      enabledTick: Game.time + 1,\n      disableTick,\n      type: profileType,\n      filter,\n    };\n  }\n}\n\nfunction resetMemory() {\n  Memory.profiler = null;\n}\n\nfunction overloadCPUCalc() {\n  if (Game.rooms.sim) {\n    usedOnStart = 0; // This needs to be reset, but only in the sim.\n    Game.cpu.getUsed = function getUsed() {\n      return performance.now() - usedOnStart;\n    };\n  }\n}\n\nfunction getFilter() {\n  return Memory.profiler.filter;\n}\n\nconst functionBlackList = [\n  'getUsed', // Let's avoid wrapping this... may lead to recursion issues and should be inexpensive.\n  'constructor', // es6 class constructors need to be called with `new`\n];\n\nfunction wrapFunction(name, originalFunction) {\n  return function wrappedFunction() {\n    if (Profiler.isProfiling()) {\n      const nameMatchesFilter = name === getFilter();\n      const start = Game.cpu.getUsed();\n      if (nameMatchesFilter) {\n        depth++;\n      }\n      const result = originalFunction.apply(this, arguments);\n      if (depth > 0 || !getFilter()) {\n        const end = Game.cpu.getUsed();\n        Profiler.record(name, end - start);\n      }\n      if (nameMatchesFilter) {\n        depth--;\n      }\n      return result;\n    }\n\n    return originalFunction.apply(this, arguments);\n  };\n}\n\nfunction hookUpPrototypes() {\n  Profiler.prototypes.forEach(proto => {\n    profileObjectFunctions(proto.val, proto.name);\n  });\n}\n\nfunction profileObjectFunctions(object, label) {\n  const objectToWrap = object.prototype ? object.prototype : object;\n\n  Object.getOwnPropertyNames(objectToWrap).forEach(functionName => {\n    const extendedLabel = `${label}.${functionName}`;\n    try {\n      const isFunction = typeof objectToWrap[functionName] === 'function';\n      const notBlackListed = functionBlackList.indexOf(functionName) === -1;\n      if (isFunction && notBlackListed) {\n        const originalFunction = objectToWrap[functionName];\n        objectToWrap[functionName] = profileFunction(originalFunction, extendedLabel);\n      }\n    } catch (e) { } /* eslint no-empty:0 */\n  });\n\n  return objectToWrap;\n}\n\nfunction profileFunction(fn, functionName) {\n  const fnName = functionName || fn.name;\n  if (!fnName) {\n    console.log('Couldn\\'t find a function name for - ', fn);\n    console.log('Will not profile this function.');\n    return fn;\n  }\n\n  return wrapFunction(fnName, fn);\n}\n\nconst Profiler = {\n  printProfile() {\n    console.log(Profiler.output());\n  },\n\n  emailProfile() {\n    Game.notify(Profiler.output());\n  },\n\n  output(numresults) {\n    const displayresults = !!numresults ? numresults : 20;\n    if (!Memory.profiler || !Memory.profiler.enabledTick) {\n      return 'Profiler not active.';\n    }\n\n    const elapsedTicks = Game.time - Memory.profiler.enabledTick + 1;\n    const header = 'calls\\t\\ttime\\t\\tavg\\t\\tfunction';\n    const footer = [\n      `Avg: ${(Memory.profiler.totalTime / elapsedTicks).toFixed(2)}`,\n      `Total: ${Memory.profiler.totalTime.toFixed(2)}`,\n      `Ticks: ${elapsedTicks}`,\n    ].join('\\t');\n    return [].concat(header, Profiler.lines().slice(0, displayresults), footer).join('\\n');\n  },\n\n  lines() {\n    const stats = Object.keys(Memory.profiler.map).map(functionName => {\n      const functionCalls = Memory.profiler.map[functionName];\n      return {\n        name: functionName,\n        calls: functionCalls.calls,\n        totalTime: functionCalls.time,\n        averageTime: functionCalls.time / functionCalls.calls,\n      };\n    }).sort((val1, val2) => {\n      return val2.totalTime - val1.totalTime;\n    });\n\n    const lines = stats.map(data => {\n      return [\n        data.calls,\n        data.totalTime.toFixed(1),\n        data.averageTime.toFixed(3),\n        data.name,\n      ].join('\\t\\t');\n    });\n\n    return lines;\n  },\n\n  prototypes: [\n    { name: 'Game', val: Game },\n    { name: 'Room', val: Room },\n    { name: 'Structure', val: Structure },\n    { name: 'Spawn', val: Spawn },\n    { name: 'Creep', val: Creep },\n    { name: 'RoomPosition', val: RoomPosition },\n    { name: 'Source', val: Source },\n    { name: 'Flag', val: Flag },\n  ],\n\n  record(functionName, time) {\n    if (!Memory.profiler.map[functionName]) {\n      Memory.profiler.map[functionName] = {\n        time: 0,\n        calls: 0,\n      };\n    }\n    Memory.profiler.map[functionName].calls++;\n    Memory.profiler.map[functionName].time += time;\n  },\n\n  endTick() {\n    if (Game.time >= Memory.profiler.enabledTick) {\n      const cpuUsed = Game.cpu.getUsed();\n      Memory.profiler.totalTime += cpuUsed;\n      Profiler.report();\n    }\n  },\n\n  report() {\n    if (Profiler.shouldPrint()) {\n      Profiler.printProfile();\n    } else if (Profiler.shouldEmail()) {\n      Profiler.emailProfile();\n    }\n  },\n\n  isProfiling() {\n    if (!enabled || !Memory.profiler) {\n      return false;\n    }\n    return !Memory.profiler.disableTick || Game.time <= Memory.profiler.disableTick;\n  },\n\n  type() {\n    return Memory.profiler.type;\n  },\n\n  shouldPrint() {\n    const streaming = Profiler.type() === 'stream';\n    const profiling = Profiler.type() === 'profile';\n    const onEndingTick = Memory.profiler.disableTick === Game.time;\n    return streaming || (profiling && onEndingTick);\n  },\n\n  shouldEmail() {\n    return Profiler.type() === 'email' && Memory.profiler.disableTick === Game.time;\n  },\n};\n\nmodule.exports = {\n  wrap(callback) {\n    if (enabled) {\n      setupProfiler();\n    }\n\n    if (Profiler.isProfiling()) {\n      usedOnStart = Game.cpu.getUsed();\n\n      // Commented lines are part of an on going experiment to keep the profiler\n      // performant, and measure certain types of overhead.\n\n      // var callbackStart = Game.cpu.getUsed();\n      const returnVal = callback();\n      // var callbackEnd = Game.cpu.getUsed();\n      Profiler.endTick();\n      // var end = Game.cpu.getUsed();\n\n      // var profilerTime = (end - start) - (callbackEnd - callbackStart);\n      // var callbackTime = callbackEnd - callbackStart;\n      // var unaccounted = end - profilerTime - callbackTime;\n      // console.log('total-', end, 'profiler-', profilerTime, 'callbacktime-',\n      // callbackTime, 'start-', start, 'unaccounted', unaccounted);\n      return returnVal;\n    }\n\n    return callback();\n  },\n\n  enable() {\n    enabled = true;\n    hookUpPrototypes();\n  },\n\n  output: Profiler.output,\n\n  registerObject: profileObjectFunctions,\n  registerFN: profileFunction,\n  registerClass: profileObjectFunctions,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/screeps-profiler/screeps-profiler.js","export {default as creepBar} from './_creepBar';\nexport {default as room} from './_room';\nexport {default as role} from './_role';\n\n\n// WEBPACK FOOTER //\n// ./src/gui/index.js","export {default as root} from './_root'\nexport {default as memory} from './_memory'\nexport {default as global} from './_global'\nexport {default as structure} from './_structure'\nexport {default as role} from './_role'\n\n\n// WEBPACK FOOTER //\n// ./src/manager/index.js","import { default as Role } from './_role'\nimport { default as Room } from './_room'\n\nexport default () => {\n\tlet setting = {}\n\t_.forEach(Room, room => {\n\t\tsetting[room[0]] = {\n\t\t\trole: Role(room),\n\t\t}\n\t})\n\tMemory.setting = setting\n\treturn setting;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/setting/index.js","export {default as flags} from '../flags';\nexport {default as log} from './_log';\nexport {default as trigger} from './_trigger'\n\n\n// WEBPACK FOOTER //\n// ./src/task/index.js","import {moveTo} from '../action'\nimport {emoji, targetChanger} from '../_util'\nexport default (creep, target, fc, text = \"\", color = \"#fff\") => {\n\tswitch (fc) {\n\t\tcase OK:\n\t\t\tif (text) creep.say(text);\n\t\t\treturn true;\n\t\t\tbreak;\n\t\tcase ERR_NOT_OWNER             :\n\t\t\tcreep.say(text + \"OWNER\");\n\t\t\tbreak;\n\t\tcase ERR_NO_PATH               :\n\t\t\tcreep.say(text + \"PATH\");\n\t\t\tif (creep.memory.role.match('iner')) {\n\t\t\t\ttargetChanger(creep, creep.room.memory.sources[0], 'harvest');\n\t\t\t} else {\n\t\t\t\ttargetChanger(creep, creep.room.memory.structures.container[0], 'withdraw')\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ERR_NAME_EXISTS           :\n\t\t\tcreep.say(text + \"NAME\");\n\t\t\tbreak;\n\t\tcase ERR_BUSY                  :\n\t\t\tcreep.say(text + \"BUSY\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_FOUND             :\n\t\t\tcreep.say(emoji.move);\n\t\t\tmoveTo(creep, target, color, false);\n\t\t\treturn true;\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_ENERGY     :\n\t\t\tcreep.say(text + \"ENERGY\");\n\t\t\tif (creep.memory.role.match('iner')) {\n\t\t\t\tmoveTo(creep, target, color);\n\t\t\t} else {\n\t\t\t\ttargetChanger(creep, creep.room.memory.structures.container[0], 'withdraw')\n\t\t\t}\n\t\t\treturn true;\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_RESOURCES  :\n\t\t\tcreep.say(text + \"RESOURCES\");\n\t\t\tbreak;\n\t\tcase ERR_INVALID_TARGET        :\n\t\t\tif (creep.memory.role.match('iner')) moveTo(creep, target, color);\n\t\t\tcreep.say(text + emoji.move);\n\t\t\tbreak;\n\t\tcase ERR_FULL                  :\n\t\t\tcreep.say(text + \"FULL\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_IN_RANGE          :\n\t\t\tmoveTo(creep, target, color);\n\t\t\treturn true;\n\t\t\tbreak;\n\t\tcase ERR_INVALID_ARGS          :\n\t\t\tcreep.say(text + \"ARGS\");\n\t\t\tbreak;\n\t\tcase ERR_TIRED                 :\n\t\t\tcreep.say(text + \"TIRED\");\n\t\t\tbreak;\n\t\tcase ERR_NO_BODYPART           :\n\t\t\tcreep.say(text + \"BODYPART\");\n\t\t\tbreak;\n\t\tcase ERR_NOT_ENOUGH_EXTENSIONS :\n\t\t\tcreep.say(text + \"EXTENSIONS\");\n\t\t\tbreak;\n\t\tcase ERR_RCL_NOT_ENOUGH        :\n\t\t\tcreep.say(text + \"RCL\");\n\t\t\tbreak;\n\t\tcase ERR_GCL_NOT_ENOUGH        :\n\t\t\tcreep.say(text + \"GCL\");\n\t\t\tbreak;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_action.js","import {colorType} from './'\n\nconst color  = (color, content) => {\n\treturn `<font color=${color}>${content}</font>`\n}\ncolor.yellow = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.yellow}>${content}</font>`\n}\ncolor.blue   = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.blue}>${content}</font>`\n}\ncolor.red    = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.red}>${content}</font>`\n}\ncolor.purple = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.purple}>${content}</font>`\n}\ncolor.grey   = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.grey}>${content}</font>`\n}\ncolor.orange = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.orange}>${content}</font>`\n}\ncolor.green  = (content) => {\n\t\"use strict\";\n\treturn `<font color=${colorType.green}>${content}</font>`\n}\nexport default color;\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_color.js","export default  {\n\tyellow: '#E6DB74',\n\tblue  : '#66D9EF',\n\tred   : '#F92672',\n\tpurple: '#AE81FF',\n\tgrey  : '#75715E',\n\torange: '#FD971F',\n\tgreen : '#A6E22E',\n};\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_colorType.js","export default (x, y, type) => {\n\tif (x && y && type) {\n\t\tconsole.log(`[Build] ${type} in x:${x} y:${y}`,Game.spawns['Spawn1'].room.createConstructionSite(x, y, type))\n\t} else {\n\t\tconsole.log(\n\t\t\t\t`You can build: ` +\n\t\t\t\t['spawn',\n\t\t\t\t 'extension',\n\t\t\t\t 'road',\n\t\t\t\t 'constructedWall',\n\t\t\t\t 'rampart',\n\t\t\t\t 'keeperLair',\n\t\t\t\t 'portal',\n\t\t\t\t 'controller',\n\t\t\t\t 'link',\n\t\t\t\t 'storage',\n\t\t\t\t 'tower',\n\t\t\t\t 'observer',\n\t\t\t\t 'powerBank',\n\t\t\t\t 'powerSpawn',\n\t\t\t\t 'extractor',\n\t\t\t\t 'lab',\n\t\t\t\t 'terminal',\n\t\t\t\t 'container',\n\t\t\t\t 'nuker'].join('|')\n\t\t)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_createConstructionSite.js","import { table } from './'\nexport default (e, name, creep, target, ...other) => {\n\tlet error = {\n\t\theader: [`Error ${name} #${Game.time}`],\n\t\tbody  : [\n\t\t\t[e],\n\t\t\t[`Creep: ${creep}<br />Pos:${JSON.stringify(creep.pos, null, 2)}`],\n\t\t\t[`Target: ${target}<br />Json:${JSON.stringify(target, null, 2)}`]\n\t\t]\n\t}\n\terror.body.push([...other])\n\tconsole.log(table(error))\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_debug.js","export default {\n\tattack      : unescape(\"%uD83D%uDD2B\"),\n\tharvest     : unescape(\"%u26CF\"),\n\terror       : unescape(\"%u274C\"),\n\tmove        : unescape(\"%uD83D%uDEB6\"),\n\ttransfer    : unescape(\"%uD83D%uDD01\"),\n\tbuild       : unescape(\"%uD83D%uDEA7\"),\n\trepair      : unescape(\"%uD83D%uDD27\"),\n\tclaim       : unescape(\"%uD83D%uDEA9\"),\n\theal        : unescape(\"%uD83D%uDC9A\"),\n\tpickup      : unescape(\"%uD83D%uDC4B\"),\n\twithdraw    : unescape(\"%uD83D%uDCB0\"),\n\tupgrade     : unescape(\"%uD83D%uDE80\"),\n\trecycle     : unescape(\"%uD83D%uDD04\"),\n\tdismantle   : unescape(\"%u26A0%uFE0F\"),\n\ttarget      : unescape(\"%uD83D%uDC41%uFE0F\"),\n\ttargetChange: unescape(\"%u267B%uFE0F%uD83D%uDC41%uFE0F\")\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_emoji.js","export default (flag) => {\n\tlet name = flag.name.split(' ');\n\treturn {\n\t\tcommand       : name[0].replace('/',''),\n\t\tcommandContent: name[1],\n\t\tpos           : flag.pos\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_flagCommand.js","const friends = [\n\t\"Ruo\",\n\t\"FanHua\"\n];\nexport default (owner) => {\n\tif (!owner || owner == 'Invader') return false;\n\treturn (friends.toString().match(owner)) ? true : false\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_isFriend.js","export default (creep) => {\n\tif (!creep.memory.full && creep.carry.energy == creep.carryCapacity) creep.memory.full = true;\n\tif (creep.memory.full && creep.carry.energy == 0) creep.memory.full = false;\n\treturn creep.memory.full\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_isFull.js","export default (content) => {\n\tlet tableHeader                    = \"\",\n\t    tableBody                      = \"\",\n\t    contentHeadr = \"\", contentBody = \"\";\n\tif (_.isArray(content)) {\n\t\tcontentBody = content\n\t} else {\n\t\tcontentHeadr = content.header;\n\t\tcontentBody  = content.body;\n\t\tcontentHeadr.forEach(col => tableHeader += `<th style=\"width:88px;border:1px solid #444;padding:4px 8px;word-break:break-all; word-wrap:break-word;\">${col}</th>`)\n\t\ttableHeader = `<tr style=\"border:1px solid #444;background: #333;color:#888\" >${tableHeader}</tr>`\n\t}\n\tcontentBody.forEach(row => {\n\t\tlet tableCol = \"\";\n\t\trow.forEach(col => tableCol += `<td style=\"width:72px;border:1px solid #444;padding:4px 8px;word-break:break-all; word-wrap:break-word;\">${col}</td>`)\n\t\ttableBody += `<tr style=\"border:1px solid #444\" >${tableCol}</tr>`\n\t})\n\treturn `<table style=\"border:1px solid #444;max-width: 100%;word-break:break-all; word-wrap:break-word;\">${tableHeader}${tableBody}</table>`\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_table.js","import { emoji } from '../_util'\nimport { targetFormat, targetMaker } from '../_util'\nexport default (creep, target, type = 'default') => {\n\ttry {\n\t\ttarget = targetFormat(target)\n\t\tif (!target.pos) return false;\n\t\tif (creep.memory.target[type].id == target.id) return true;\n\t\tcreep.memory.target[type] = {\n\t\t\tid  : target.id,\n\t\t\tpos : target.pos,\n\t\t\ttime: Game.time\n\t\t};\n\t\tcreep.say(emoji.targetChange)\n\t} catch (e) {\n\t\ttargetMaker(creep, target, type)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_targetChanger.js","export default (targetRaw) => {\n\tif (_.isArray(targetRaw)) targetRaw = _.first(targetRaw);\n\ttry {\n\t\tconst target = Game.getObjectById(targetRaw.id);\n\t\treturn (target) ? target : false\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_targetFormat.js","import { emoji } from '../_util'\nimport { targetFormat } from '../_util'\nexport default (creep, target, type = 'default') => {\n\ttry {\n\t\ttarget = targetFormat(target)\n\t\tif (!target.pos) return false;\n\t\tif (!creep.memory.target) creep.memory.target = {}\n\t\tif (!creep.memory.target[type] || !creep.memory.target[type].id) {\n\t\t\tcreep.memory.target[type] = {\n\t\t\t\tid  : target.id,\n\t\t\t\tpos : target.pos,\n\t\t\t\ttime: Game.time\n\t\t\t};\n\t\t\tcreep.say(emoji.target)\n\t\t}\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_targetMaker.js","export default (targetRaw) => {\n\ttry {\n\t\treturn new RoomPosition(targetRaw.pos.x, targetRaw.pos.y, targetRaw.pos.roomName)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_targetPos.js","export default (tick) => {\n    if (!Memory.timer) Memory.timer = {};\n    if (Memory.timer[tick] && Game.time - Memory.timer[tick] < tick) return false;\n    Memory.timer[tick] = Game.time;\n    return true\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_util/_timer.js","import { emoji, action, colorType, targetFormat, targetChanger ,debug} from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'attack';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.attack, colorType.red)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_attack.js","import { emoji, action, colorType, targetFormat, targetChanger,debug } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'build';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.build, colorType.blue)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_build.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'reserveController';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, target, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.claim, colorType.orange)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_claimController.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'dismantle';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.dismantle, colorType.red)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_dismantle.js","import { emoji, action, colorType, targetFormat, targetChanger ,debug } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'harvest';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.harvest, colorType.yellow)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_harvest.js","import { emoji, action, colorType, targetFormat, targetChanger ,debug } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'heal';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.heal, colorType.green)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_heal.js","import { action, targetFormat, targetChanger,debug  } from \"../../_util\"\nexport default (creep, target, color = '#ffffff', noPathFinding = true) => {\n\tconst actionName = 'moveTo';\n\tif (creep.fatigue > 0) return false;\n\ttry {\n\t\tif (_.isArray(target)) target = _.first(target);\n\t\ttry {\n\t\t\tif (target.pos.roomName != creep.pos.roomName) {\n\t\t\t\ttarget        = new RoomPosition(target.pos.x, target.pos.y, target.pos.roomName);\n\t\t\t\tnoPathFinding = false;\n\t\t\t} else {\n\t\t\t\ttarget = targetFormat(target);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn false\n\t\t}\n\t\ttargetChanger(creep, target, actionName)\n\t\tconst opt = {\n\t\t\treusePath         : 15,\n\t\t\tserializeMemory   : true,\n\t\t\tnoPathFinding     : noPathFinding,\n\t\t\tvisualizePathStyle: {\n\t\t\t\tstroke     : color,\n\t\t\t\tlineStyle  : 'dotted',\n\t\t\t\topacity    : 0.5,\n\t\t\t\tstrokeWidth: 0.1\n\t\t\t}\n\t\t}\n\t\tif (action(creep, target, creep[actionName](target, opt))) {\n\t\t\tvisual(target, creep)\n\t\t\treturn true\n\t\t}\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\nfunction visual(target, creep, color) {\n\ttry {\n\t\ttarget.room.visual.circle(target.pos, {fill: 'transparent', radius: 0.55, stroke: color})\n\t\tif (target.pos.roomName == creep.pos.roomName) {\n\t\t\ttarget.room.visual.line(creep.pos, target.pos, {\n\t\t\t\tcolor  : color,\n\t\t\t\twidth  : 0.1,\n\t\t\t\topacity: 0.05\n\t\t\t})\n\t\t}\n\t} catch (e) {}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_moveTo.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'pickup';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.pickup, colorType.yellow)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_pickup.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'repair';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.repair, colorType.blue)) return true;\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_repair.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw, check = true, type = RESOURCE_ENERGY) => {\n\tif (!check) return;\n\tconst actionName = 'transfer';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target, type), emoji.transfer, colorType.purple)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_transfer.js","import { emoji, action, colorType, targetFormat, targetChanger,debug  } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw,check = true) => {\n\tif (!check) return;\n\tconst actionName = 'upgradeController';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target), emoji.upgrade, colorType.orange)) return true\n\t} catch (e) {\n\t\tdebug(e,actionName,creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_upgradeController.js","import { emoji, action, colorType, targetFormat, targetChanger, debug } from \"../../_util\"\nimport { moveTo } from '../'\nexport default (creep, targetRaw, check = true, type = RESOURCE_ENERGY) => {\n\tif (!check) return;\n\tconst actionName = 'withdraw';\n\ttry {\n\t\tconst target = targetFormat(targetRaw)\n\t\tif (!target && moveTo(creep, targetRaw)) return true\n\t\ttargetChanger(creep, targetRaw, actionName)\n\t\tif (action(creep, target, creep[actionName](target, type), emoji.withdraw, colorType.purple))return true\n\t} catch (e) {\n\t\tdebug(e, actionName, creep, targetRaw)\n\t\treturn false\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/action/creep/_withdraw.js","import { debug } from '../../_util'\nexport default (creep, array, opt) => {\n\ttry {\n\t\tif (!array.length || array[0] == null) return false\n\t\tlet found = creep.pos.findClosestByRange(array)\n\t\tif (opt) found = _.filter(found, opt);\n\t\treturn found\n\t} catch (e) {\n\t\tdebug(e, 'findClosestByRange', creep, array, opt)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/find/_findClosestByRange.js","import { findClosestByRange, findInRange } from '../'\nimport {debug} from '../../_util'\nexport default (creep, array, range = 0, opt) => {\n\ttry {\n\t\tif (!array.length || array[0] == null) return false\n\t\tlet found = findInRange(creep, array, range)\n\t\tif (opt) found = _.filter(found, opt);\n\t\tfound = findClosestByRange(creep, found)\n\t\treturn found\n\t} catch (e) {\n\t\tdebug(e,'findClosestInRange',creep, array,opt)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/find/_findClosestInRange.js","import {debug} from '../../_util'\nexport default (creep, array, range = 0, opt) => {\n\ttry {\n\t\tlet found = creep.pos.findInRange(array, range)\n\t\tif (opt) found = _.filter(found, opt);\n\t\treturn found\n\t} catch (e) {\n\t\tdebug(e,'findInRange',creep, array,opt)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/find/_findInRange.js","import { debug } from '../../_util'\nexport default (creep, type = LOOK_STRUCTURES, opt) => {\n\ttry {\n\t\tlet found = creep.pos.lookFor(type)\n\t\tif (opt) {\n\t\t\tfound.filter(opt => {\n\t\t\t\topt.structureType == opt\n\t\t\t});\n\t\t}\n\t\treturn (found && found.length > 0) ? found[0] : false\n\t} catch (e) {\n\t\tdebug(e, 'lookFor', creep, type, opt)\n\t\treturn false\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/action/find/_lookFor.js","export default  (room) => {\n\n\tconst needBuild     = (room.memory.structures) ? room.memory.structures.needBuild : [];\n\tconst builderNumber = (needBuild.length > 0) ? needBuild.length : 1\n\tconst noEnemy       = Memory.trigger.noEnemy\n\n\treturn [\n\t\t{\n\t\t\trole    : \"claim\",\n\t\t\tbody    : {claim: 2, move: 1},\n\t\t\ttimeout : 100,\n\t\t\tnumber  : (noEnemy['W81S66'].safe) ? 1 : 0,\n\t\t\tpriority: 7\n\t\t},\n\t\t{\n\t\t\trole    : \"farMiner\",\n\t\t\tbody    : {work: 8, carry: 1, move: 4},\n\t\t\ttimeout : 100,\n\t\t\tnumber  : (noEnemy['W81S66'].safe) ? 1 : 0,\n\t\t\tpriority: 1\n\t\t},\n\t\t{\n\t\t\trole    : \"farMinerSec\",\n\t\t\tbody    : {work: 8, carry: 1, move: 4},\n\t\t\ttimeout : 100,\n\t\t\tnumber  : (noEnemy['W82S67'].safe) ? 2 : 0,\n\t\t\tpriority: 1\n\t\t},\n\t\t{\n\t\t\trole    : 'farHarvester',\n\t\t\tbody    : {carry: 8, move: 4},\n\t\t\tnumber  : (noEnemy['W81S66'].safe) ? 3 : 0,\n\t\t\tpriority: 5\n\t\t},\n\t\t{\n\t\t\trole    : 'farHarvesterSec',\n\t\t\tbody    : {carry: 8, move: 4},\n\t\t\tnumber  : (noEnemy['W82S67'].safe) ? 5 : 0,\n\t\t\tpriority: 5\n\t\t},\n\t\t{\n\t\t\trole    : 'farBuilder',\n\t\t\tbody    : {carry: 6, work: 2, move: 4},\n\t\t\tnumber  : (noEnemy['W81S66'].safe) ? 1 : 0,\n\t\t\tpriority: 5\n\t\t}, {\n\t\t\trole    : 'farBuilderSec',\n\t\t\tbody    : {carry: 6, work: 2, move: 4},\n\t\t\tnumber  : (noEnemy['W82S67'].safe) ? 2 : 0,\n\t\t\tpriority: 5\n\t\t},\n\t\t{\n\t\t\trole    : 'harvester',\n\t\t\tbody    : {carry: 2, move: 1},\n\t\t\tnumber  : 0,\n\t\t\tpriority: 2\n\t\t},\n\t\t{\n\t\t\trole    : 'linker',\n\t\t\tbody    : {carry: 1, move: 1},\n\t\t\tnumber  : 1,\n\t\t\tpriority: 2\n\t\t},\n\t\t{\n\t\t\trole    : 'upgrader',\n\t\t\tbody    : {carry: 2, work: 4, move: 2},\n\t\t\tnumber  : (builderNumber > 1) ? 1 : 3,\n\t\t\tpriority: 3\n\t\t},\n\t\t{\n\t\t\trole    : 'farUpgrader',\n\t\t\tbody    : {carry: 6, work: 2, move: 4},\n\t\t\tnumber  : (noEnemy['W82S67'].safe) ? 3 : 0,\n\t\t\tpriority: 3\n\t\t},\n\t\t{\n\t\t\trole    : 'builder',\n\t\t\tbody    : {work: 2, carry: 6, move: 4},\n\t\t\tnumber  : (builderNumber > 2) ? 2 : builderNumber,\n\t\t\tpriority: 6\n\t\t},\n\t\t{\n\t\t\trole    : \"miner\",\n\t\t\tbody    : {work: 8, move: 4, carry: 1},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 1\n\t\t},\n\t\t{\n\t\t\trole    : 'cleaner',\n\t\t\tbody    : {carry: 6, move: 3},\n\t\t\tnumber  : 2,\n\t\t\tpriority: 0\n\t\t},\n\t\t{\n\t\t\trole    : 'attacker',\n\t\t\tbody    : {tough:2,attack: 2, move: 2},\n\t\t\tnumber  : 0,\n\t\t\tpriority: 0\n\t\t},\n\t\t{\n\t\t\trole    : 'traveller',\n\t\t\tbody    : {move: 1},\n\t\t\tnumber  : 0,\n\t\t\tpriority: 0\n\t\t}\n\t]\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config/_role.js","export default (command, flag) => {\n\tlet target\n\t// nocommand id\n\tif (command) {\n\t\ttarget = Game.getObjectById(command);\n\t\ttarget = target\n\t}\n\t// creep\n\tconst enemyCreep = flag.pos.findInRange(flag.room.memory.creeps.enemy, 6)\n\tif (enemyCreep.length > 0) {\n\t\ttarget = enemyCreep[0]\n\t}\n\t// structures\n\tconst enemyStructures = flag.pos.findInRange(flag.room.memory.structures.enemy, 6)\n\tif (enemyStructures.length > 0) {\n\t\ttarget = enemyStructures[0]\n\t}\n\treturn target\n}\n\n\n// WEBPACK FOOTER //\n// ./src/flags/_attack.js","export default (command, flag) => {\n\tlet target\n\t// nocommand id\n\tif (command) {\n\t\ttarget = Game.getObjectById(command);\n\t\ttarget = target\n\t}\n\t// creep\n\tconst structures = flag.pos.findInRange(FIND_STRUCTURES, 0)\n\tif (structures.length > 0) {\n\t\ttarget = structures[0]\n\t}\n\treturn target\n}\n\n\n// WEBPACK FOOTER //\n// ./src/flags/_dismantle.js","export default (command, flag) => {\n\tlet target\n\t// nocommand id\n\tif (command) {\n\t\ttarget = Game.getObjectById(command);\n\t\ttarget = target\n\t}\n\t// pos\n\ttarget = flag;\n\t\n\treturn target\n}\n\n\n// WEBPACK FOOTER //\n// ./src/flags/_moveTo.js","export default (roomName) => {\n\tconst room = Game.rooms[roomName]\n\troom.find(FIND_MY_CREEPS).forEach(creep => {\n\t\t\"use strict\";\n\t\troom.visual.rect(\n\t\t\tcreep.pos.x-1,\n\t\t\tcreep.pos.y - 1,\n\t\t\t1,\n\t\t\t0.2,\n\t\t\t{fill: '#000'});\n\t\t\n\t\troom.visual.rect(\n\t\t\tcreep.pos.x-1,\n\t\t\tcreep.pos.y - 1,\n\t\t\t1 / 1500 * creep.ticksToLive,\n\t\t\t0.2,\n\t\t\t{\n\t\t\t\tfill   : '#66D9EF',\n\t\t\t\topacity: 1\n\t\t\t})\n\t})\n\t\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/gui/_creepBar.js","import {colorType} from '../_util'\nimport config from '../config';\nconst rowMargin         = 0.3,\n      guiCreepWidth     = 3.5,\n      guiCreepHeight    = 0.2,\n      guiCreepRowMargin = guiCreepHeight + rowMargin + 1;\nexport default (roomName) => {\n\tconst room = Game.rooms[roomName];\n\tlet flag = room.memory.flags.gui.role\n\tif (!flag) return;\n\tlet bgPadding = 0.5,\n\t    guiCreepX = flag.x,\n\t    guiCreepY = flag.y;\n\t\n\troom.visual\n\t\t.rect(guiCreepX - bgPadding, guiCreepY - 2 * bgPadding, guiCreepWidth + 2 * bgPadding, config().role.length * guiCreepRowMargin + bgPadding, {\n\t\t\tfill       : 'rgba(0,0,0,.5)',\n\t\t\topacity    : 0.5,\n\t\t\tstroke     : '#000',\n\t\t\tstrokeWidth: 0.05\n\t\t});\n\t\n\tconfig().role.forEach(eachRole => {\n\t\tguiCreep(room, guiCreepX, guiCreepY, eachRole.role, eachRole.number)\n\t\tguiCreepY += guiCreepRowMargin;\n\t})\n}\n\nfunction guiCreep(room, x, y, name, number) {\n\tconst creeps           = Memory.global.creeps,\n\t      nowNumber        = (creeps[name]) ? creeps[name].length : 0;\n\tlet color, colorSwitch = nowNumber - number;\n\tif (colorSwitch > 0) color = colorType.green;\n\tif (colorSwitch == 0) color = '#fff';\n\tif (colorSwitch < 0) color = colorType.red;\n\tlet LineWidth = (colorSwitch > 0) ? number : nowNumber\n\troom.visual\n\t\t.rect(x, y + rowMargin, guiCreepWidth, guiCreepHeight, {fill: color, opacity: 0.2})\n\t\t.rect(x, y + rowMargin, guiCreepWidth * LineWidth / number, guiCreepHeight, {fill: color, opacity: 0.7})\n\t\t.text(name, x, y, {font: 0.5, align: 'left', stroke: 'rgba(0,0,0,.7)', strokeWidth: 0.1})\n\t\t.text(`${nowNumber}/${number}`, x + guiCreepWidth, y, {\n\t\t\tfont       : 0.4,\n\t\t\talign      : 'right',\n\t\t\tstroke     : 'rgba(0,0,0,.7)',\n\t\t\tstrokeWidth: 0.1\n\t\t})\n};\n\n\n// WEBPACK FOOTER //\n// ./src/gui/_role.js","import {colorType} from '../_util'\nconst rowMargin    = 0.3,\n      guiWidth     = 4.8,\n      guiHeight    = 0.7,\n      guiRowMargin = guiHeight + rowMargin + 1;\nexport default (roomName) => {\n\tconst room = Game.rooms[roomName];\n\n\tlet flag = room.memory.flags.gui.room\n\tif (!flag) return;\n\t\n\tconst gcl       = Game.gcl,\n\t      rcl       = room.controller,\n\t      storage   = room.memory.structures.storage,\n\t      extension = room.memory.structures.extension,\n\t      spawn     = room.memory.structures.spawn.energy;\n\t\n\tlet bgPadding = 0.5,\n\t    guiX      = flag.x,\n\t    guiY      = flag.y;\n\t\n\tlet extensionFull = 0;\n\textension.forEach(ex => {\n\t\tif (ex.energy == ex.energyCapacity) extensionFull++\n\t});\n\t\n\troom.visual\n\t\t.rect(guiX - bgPadding, guiY - 2 * bgPadding, guiWidth + 2 * bgPadding, 6 * guiRowMargin + bgPadding, {\n\t\t\tfill       : 'rgba(0,0,0,.5)',\n\t\t\topacity    : 0.5,\n\t\t\tstroke     : '#000',\n\t\t\tstrokeWidth: 0.05\n\t\t})\n\t\n\tconst guiContent = [\n\t\t[colorType.blue, ['GCL', `Lvl ${gcl.level}`, gcl.progress, Math.floor(gcl.progressTotal)]],\n\t\t[colorType.orange, ['RCL', `Lvl ${rcl.level}`, rcl.progress, Math.floor(rcl.progressTotal)]],\n\t\t[colorType.purple, ['CPU', '', Math.round(Game.cpu.getUsed()), Game.cpu.limit]],\n\t\t[colorType.yellow, ['Storage', '', storage.store.energy, storage.storeCapacity]],\n\t\t[colorType.yellow, ['Extension', '', extensionFull, extension.length]],\n\t\t[colorType.yellow, ['Spawn', '', spawn + extensionFull * 50, 300 + extension.length * 50]]\n\t]\n\t\n\t_.forEach(guiContent, (content, index) => {\n\t\tgui(room, guiX, guiY + guiRowMargin * index, content[0], content[1])\n\t})\n}\n\nfunction gui(room, x, y, color, content) {\n\tconst colorSwitch = content[2] - content[3];\n\tif (colorSwitch > 0) color = colorType.red;\n\tlet LineWidth = (colorSwitch > 0) ? content[3] : content[2]\n\troom.visual\n\t\t.rect(x, y + rowMargin, guiWidth, guiHeight, {fill: '#fff', opacity: 0.2})\n\t\t.rect(x, y + rowMargin, guiWidth * LineWidth / content[3], guiHeight, {fill: color, opacity: 0.7})\n\t\t.text(content[0], x, y, {font: 0.5, align: 'left', stroke: 'rgba(0,0,0,.7)', strokeWidth: 0.1})\n\t\t.text(content[1], x + guiWidth, y, {font: 0.4, align: 'right', stroke: 'rgba(0,0,0,.7)', strokeWidth: 0.1})\n\t\t.text(`${content[2]} / ${content[3]}`, x + .2, y + 0.8, {\n\t\t\tfont       : 0.4,\n\t\t\talign      : 'left',\n\t\t\tstroke     : 'rgba(0,0,0,.7)',\n\t\t\tstrokeWidth: 0.1\n\t\t});\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/gui/_room.js","import 'screeps-perf';\nimport * as Manager from './manager'\nimport * as Gui from './gui'\nimport { timer, color } from  './_util'\nimport { log, trigger } from  './task'\nimport Setting from  './setting'\nimport profiler from 'screeps-profiler';\nconst rooms = ['W81S67', 'W81S66', 'W82S67'];\nprofiler.enable();\nconsole.log(color.grey('# Coding Update!'))\n// trigger.install()\n\n// switch\nconst profilerEnabled = false;\n\n// main\nconst main = () => {\n\tif (Game.cpu.bucket < 2 * Game.cpu.tickLimit) {\n\t\tconsole.log(`# Lack of CPU!`);\n\t\treturn;\n\t}\n\n\t// Manager\n\ttrigger()\n\tManager.root()\n\tManager.memory(rooms)\n\tManager.global(rooms)\n\tManager.role(rooms)\n\tManager.structure(rooms)\n\t// GUI\n\tGui.room(rooms[0])\n\tGui.role(rooms[0])\n\t// Log\n\tif (timer(10)) log(rooms[0], 10)\n\t// Setting\n\tSetting()\n}\n\n// loop\nmodule.exports.loop = () => {\n\tif (profilerEnabled) {\n\t\tprofiler.wrap(function () {\n\t\t\tmain();\n\t\t});\n\t} else {\n\t\tmain();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default (roomArray) => {\n\tlet creepArray = {}\n\tfor (let name in Game.creeps) {\n\t\tlet creep = Game.creeps[name]\n\t\tif (!creepArray[creep.memory.role]) creepArray[creep.memory.role] = [];\n\t\tcreepArray[creep.memory.role].push(Game.creeps[name])\n\t}\n\t\n\tlet sources = []\n\troomArray.forEach(room => {\n\t\troom = Game.rooms[room];\n\t\tif (room) sources = sources.concat(room.memory.sources)\n\t})\n\t\n\tMemory.global = {\n\t\tcreeps : creepArray,\n\t\tsources: sources,\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_global.js","import { isFriend } from '../../_util';\n\nexport default (room, config) => {\n\tconst creeps      = room.find(FIND_CREEPS),\n\t      creepsMyRaw = _.filter(creeps, creep => creep.my),\n\t      creepsOther = _.filter(creeps, creep => !creep.my),\n\t      creepsMy    = creepRole(creepsMyRaw, config.role);\n\t\n\n\n\treturn {\n\t\tmy    : creepsMy,\n\t\tfriend: _.filter(creepsOther, creep => isFriend(creep.owner.username)),\n\t\tenemy : _.filter(creepsOther, creep => !isFriend(creep.owner.username))\n\t}\n}\n\nfunction creepRole(creepsMyRaw, configRole) {\n\tlet creepsMy = {\n\t\tall : creepsMyRaw\n\t}\n\tconfigRole.forEach(role => {\n\t\tcreepsMy[role.role] = _.filter(creepsMyRaw, creep => creep.name.split('#')[0] == role.role)\n\t})\n\treturn creepsMy\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_creeps.js","export default (room) => {\n\tconst resources = room.find(FIND_DROPPED_RESOURCES)\n\treturn {\n\t\tresources: resources,\n\t\tenergy   : _.filter(resources, resource => resource.resourceType == RESOURCE_ENERGY)\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_dropped.js","import {flagCommand} from '../../_util'\nimport * as flags from '../../flags'\nexport default (room) => {\n\tconst flagsRaw = room.find(FIND_FLAGS).sort((a, b) => a.secondaryColor - b.secondaryColor).sort((a, b) => a.color - b.color);\n\t\n\tlet flagsMemory = {\n\t\tattack   : [],\n\t\tmoveTo   : [],\n\t\tdismantle: [],\n\t\tgui      : {}\n\t}\n\tflagsRaw.forEach(flagRaw => {\n\t\t\n\t\tconst flag           = flagCommand(flagRaw),\n\t\t      command        = flag.command,\n\t\t      commandContent = flag.commandContent;\n\t\tswitch (command) {\n\t\t\tcase \"store\":\n\t\t\t\tflagsMemory.store = flagRaw.pos.lookFor(LOOK_STRUCTURES);\n\t\t\t\tbreak;\n\t\t\tcase \"gui\":\n\t\t\t\tflagsMemory.gui[commandContent] = flagRaw.pos;\n\t\t\t\tbreak;\n\t\t\tcase 'attack' || 'a':\n\t\t\t\tflagsMemory.attack.push(flags.attack(commandContent, flagRaw));\n\t\t\t\tbreak;\n\t\t\tcase 'move' || 'moveTo' || 'moveto' || 'm':\n\t\t\t\tflagsMemory.moveTo.push(flags.moveTo(commandContent, flagRaw));\n\t\t\t\tbreak;\n\t\t\tcase 'dis' || 'dismantle':\n\t\t\t\tflagsMemory.dismantle.push(flags.dismantle(commandContent, flagRaw));\n\t\t\t\tbreak;\n\t\t}\n\t})\n\treturn flagsMemory\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_flags.js","import {targetChanger} from  '../../_util'\nexport default (room) => {\n\tconst rawSources = room.find(FIND_SOURCES);\n\tlet sources      = []\n\trawSources.forEach(source => sources.push({\n\t\tsource: source,\n\t\tminer : source.pos.findInRange(source.room.memory.creeps.my.all, 4).filter(creep => creep.name.match('iner'))\n\t}))\n\tif (sources.length > 0) {\n\t\tsources.sort((a, b) => b.source.energy - a.source.energy)\n\t\t\t.sort((a, b) => a.miner.length - b.miner.length);\n\t}\n\tif (sources.length > 1 && sources[0].miner.length == 0 && sources[sources.length - 1].miner.length > 1) {\n\t\tconst targetSource = sources[sources.length - 1],\n\t\t      targetCreep  = Game.getObjectById(targetSource.miner.sort((a, b) => b.ticksToLive - a.ticksToLive)[0].id);\n\t\ttargetChanger(targetCreep, sources[0].source, 'harvest')\n\t}\n\treturn sources\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_sources.js","export default (room, config) => {\n\t\n\tconst structures          = room.find(FIND_STRUCTURES),\n\t      structuresStorage   = room.storage,\n\t      structuresMy        = _.filter(structures, structure => structure.my),\n\t      structuresOther     = _.filter(structures, structure => !structure.my),\n\t      structuresContainer = _.filter(structuresOther, structure => structure.structureType == STRUCTURE_CONTAINER);\n\t\n\tlet structuresDocker = _.compact(structuresContainer.concat([structuresStorage]));\n\t\n\tlet needFix = _.filter(structures, structure =>\n\t( structure.my || structure.structureType == STRUCTURE_ROAD || structure.structureType == STRUCTURE_WALL ) &&\n\t(structure.hits / structure.hitsMax) < config.repair.percent &&\n\tstructure.hits < config.repair.maxHits);\n\t\n\tif (room.memory.flags.dismantle && room.memory.flags.dismantle.length > 0 && room.memory.flags.dismantle[0] != null) {\n\t\tneedFix = _.filter(needFix, structure => structure.id != room.memory.flags.dismantle[0].id)\n\t}\n\t\n\treturn {\n\t\tenemy      : _.filter(structuresOther, structure => structure.structureType != STRUCTURE_CONTAINER && structure.structureType != STRUCTURE_ROAD && structure.structureType != STRUCTURE_WALL),\n\t\tterminal   : room.terminal,\n\t\tcontroller : room.controller,\n\t\tstorage    : structuresStorage,\n\t\tlink       : _.filter(structuresMy, structure =>\n\t\tstructure.structureType == STRUCTURE_LINK),\n\t\ttower      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_TOWER),\n\t\tspawn      : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_SPAWN)[0],\n\t\textension  : _.filter(structuresMy, structure => structure.structureType == STRUCTURE_EXTENSION),\n\t\tcontainer  : (structuresContainer)?structuresContainer.sort((a,b)=> b.store.energy - a.store.energy):[],\n\t\tcanWithdraw: (structuresDocker.length > 0) ? _.filter(structuresDocker, structure =>\n\t\t\tstructure.store && structure.store.energy > 0) : [],\n\t\tcanFill    : (structuresDocker.length > 0) ? _.filter(structuresDocker, structure =>\n\t\t\tstructure.store && structure.store.energy < structure.storeCapacity) : [],\n\t\tneedFill   : _.filter(structuresMy, structure => (\n\t\tstructure.structureType == STRUCTURE_EXTENSION ||\n\t\tstructure.structureType == STRUCTURE_SPAWN ||\n\t\tstructure.structureType == STRUCTURE_TOWER ) && (\n\t\tstructure.energy < structure.energyCapacity && structure.energy < 300)),\n\t\tneedFix    : needFix.sort((a, b) => a.hits - b.hits),\n\t\tneedBuild  : room.find(FIND_MY_CONSTRUCTION_SITES),\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/_structures.js","import configRaw from \"../../config\"\nimport creepsRaw from \"./_creeps\"\nimport structures from \"./_structures\"\nimport sources from \"./_sources\"\nimport dropped from \"./_dropped\"\nimport flags from \"./_flags\"\nexport default (roomArrary) => {\n\t_.each(roomArrary, room => {\n\t\troom         = Game.rooms[room];\n\t\tif (!room) return;\n\t\tconst config = configRaw(room);\n\t\tconst creeps = creepsRaw(room, config)\n\t\tconst memory = {\n\t\t\tenergyAvailable: room.energyAvailable,\n\t\t\tconfig         : config,\n\t\t\tcreeps         : creeps,\n\t\t\tstructures     : structures(room, config),\n\t\t\tsources        : sources(room),\n\t\t\tdropped        : dropped(room),\n\t\t\tflags          : flags(room)\n\t\t}\n\t\t\n\t\t room.memory = memory;\n\t\t// Memory.game  = Game;\n\t})\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_memory/index.js","import * as role from '../role';\nexport default (roomArrary) => {\n\tconst newRoom = {\n\t\tpos   : new RoomPosition(25, 47, roomArrary[1]),\n\t\tmemory: (Game.rooms[roomArrary[1]]) ? Game.rooms[roomArrary[1]].memory : {}\n\t};\n\t\n\troomArrary.forEach(room => {\n\t\t\troom = Game.rooms[room];\n\t\t\tif (!room) return;\n\t\t\tfor (let name in Game.creeps) {\n\t\t\t\tlet creep = Game.creeps[name]\n\t\t\t\tswitch (creep.memory.role) {\n\t\t\t\t\tcase 'cleaner':\n\t\t\t\t\t\trole.cleaner(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'linker':\n\t\t\t\t\t\trole.linker(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'harvester':\n\t\t\t\t\t\trole.harvester(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'miner':\n\t\t\t\t\t\trole.miner(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'upgrader':\n\t\t\t\t\t\trole.upgrader(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'builder':\n\t\t\t\t\t\trole.builder(creep)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farBuilder':\n\t\t\t\t\t\trole.farBuilder(creep, roomArrary[1])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farHarvester':\n\t\t\t\t\t\trole.farHarvester(creep, roomArrary[1])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farMiner':\n\t\t\t\t\t\trole.farMiner(creep, roomArrary[1])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'claim':\n\t\t\t\t\t\trole.claim(creep, roomArrary[1])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farMinerSec':\n\t\t\t\t\t\trole.farMiner(creep, roomArrary[2])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farHarvesterSec':\n\t\t\t\t\t\trole.farHarvester(creep, roomArrary[2])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farBuilderSec':\n\t\t\t\t\t\trole.farBuilder(creep, roomArrary[2])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'farUpgrader':\n\t\t\t\t\t\trole.farUpgrader(creep, roomArrary[2])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'attacker':\n\t\t\t\t\t\trole.attacker(creep, roomArrary[1])\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t)\n}\n\nfunction newRoomMaker(roomName) {\n\treturn {\n\t\tpos   : new RoomPosition(25, 47, roomName),\n\t\tmemory: (Memory.rooms[roomName]) ? Memory.rooms[roomName] : {}\n\t};\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_role.js","export default () => {\n\tfor (let name in Memory.creeps) {\n\t\tif (!Game.creeps[name]) {\n\t\t\tdelete Memory.creeps[name]\n\t\t} else {\n\t\t\tif (!Game.creeps[name].memory) Game.creeps[name].memory = {role: name.split('#') [0]}\n\t\t\tif (!Game.creeps[name].memory.id) Game.creeps[name].memory.id = Game.creeps[name].id\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_root.js","import * as structure from '../structure';\nexport default (roomArray) => {\n\troomArray.forEach(roomName => {\n\t\tconst room = Game.rooms[roomName];\n\t\tif (room && room.memory) {\n\t\t\tconst structures = room.memory.structures;\n\t\t\tconst config     = room.memory.config;\n\t\t\tif (roomName == \"W81S67\" && structures.spawn) structure.spawn(structures.spawn, config.role);\n\t\t\tif (structures.link) structures.link.forEach(link => structure.link(link));\n\t\t\tif (structures.tower) structures.tower.forEach(tower => structure.tower(tower))\n\t\t}\n\t})\n}\n\n\n// WEBPACK FOOTER //\n// ./src/manager/_structure.js","import {attack,findClosestByRange,moveTo} from '../action'\nexport default (creep,roomName) => {\n\tif (creep.room.name != roomName){\n\t\tmoveTo(creep,Memory.rooms[roomName].creeps.enemy[0])\n\t} else{\n\t\tattack(creep,Memory.rooms[roomName].creeps.enemy[0])\n\t}\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_attacker.js","import { fullCheck } from '../_util'\nimport {\n\tpickup,\n\tupgradeController,\n\tbuild,\n\twithdraw,\n\trepair,\n\tdismantle,\n\tfindClosestByRange,\n\tfindClosestInRange\n} from '../action'\n\nexport default (creep) => {\n\t// state\n\tconst isFull = fullCheck(creep)\n\t// task\n\tif (isFull) {\n\t\tif (build(creep, findClosestByRange(creep, creep.room.memory.structures.needBuild)))return;\n\t\tif (repair(creep, findClosestByRange(creep, creep.room.memory.structures.needFix))) return;\n\t\tif (upgradeController(creep, creep.room.controller)) return;\n\t} else {\n\t\tif (dismantle(creep, creep.room.memory.flags.dismantle[0])) return\n\t\tif (pickup(creep, findClosestInRange(creep, creep.room.memory.dropped.energy, 2)[0])) return;\n\t\tif (withdraw(creep, creep.room.storage))return;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_builder.js","import {claimController} from '../action'\nimport {targetMaker} from '../_util'\nexport default (creep, roomName) => {\n\t// target\n\ttargetMaker(creep, Memory.rooms[roomName].structures.controller, 'claim')\n\t// task\n\tif (claimController(creep, creep.memory.target.claim))return;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_claim.js","import { fullCheck } from '../_util'\nimport { pickup, transfer, withdraw, findClosestByRange } from '../action'\nexport default (creep) => {\n\t// state\n\tconst isFull   = fullCheck(creep)\n\tconst needFill = creep.room.memory.structures.needFill;\n\t// task\n\tif (!isFull) {\n\t\tconst linkMain = Game.getObjectById(creep.room.memory.config.linkMain);\n\t\tif (withdraw(creep, linkMain, linkMain.energy > 0)) return;\n\t\tif (pickup(creep, findClosestByRange(creep, creep.room.memory.dropped.energy, !needFill || needFill.length == 0))) return;\n\t\tif (withdraw(creep, creep.room.storage)) return;\n\t} else {\n\t\tif (transfer(creep, creep.pos.findClosestByRange(needFill))) return;\n\t\tconst tower = creep.room.memory.structures.tower.sort((a, b) => a.energy - b.energy)[0];\n\t\tif (transfer(creep, tower, tower.energy < tower.energyCapacity)) return;\n\t\tif (transfer(creep, creep.room.storage)) return;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_cleaner.js","import { fullCheck, targetMaker, targetChanger ,targetFormat} from '../_util'\nimport { withdraw, build, pickup, transfer, repair, findInRange, findClosestByRange } from '../action'\nexport default (creep, roomName) => {\n\t// state\n\tconst isFull  = fullCheck(creep)\n\tconst storage = Game.getObjectById('58d07b35bfeec6256575be5d')\n\t// target\n\ttargetMaker(creep, Memory.rooms[roomName].structures.container[0], 'withdraw')\n\t// task\n\tif (!isFull) {\n\t\tif (pickup(creep, findInRange(creep, creep.room.memory.dropped.energy, 3)[0])) return;\n\t\tconst store = targetFormat(creep.room.memory.flags.store);\n\t\tif (store && withdraw(creep, store, store.store.energy > 0))return;\n\t\tif (withdraw(creep, creep.memory.target.withdraw))return;\n\t} else {\n\t\tif (creep.pos.roomName == creep.memory.target.withdraw.pos.roomName) {\n\t\t\tconst needBuild = creep.room.memory.structures.needBuild,\n\t\t\t      needFix   = creep.room.memory.structures.needFix\n\t\t\tif (build(creep, findClosestByRange(creep, needBuild)))return;\n\t\t\tif (repair(creep, findClosestByRange(creep, needFix)))return;\n\t\t}\n\t\ttargetChanger(creep, Memory.rooms[roomName].structures.container[0], 'withdraw')\n\t\tif (transfer(creep, storage)) return;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farBuilder.js","import { fullCheck, targetMaker, targetChanger,targetFormat } from '../_util'\nimport { findClosestInRange, transfer, pickup, withdraw } from '../action'\nexport default (creep, roomName) => {\n\t// state\n\tconst isFull = fullCheck(creep);\n\t// target\n\tconst targetWithdraw = _.filter(Memory.rooms[roomName].structures.container,container => container.id != '58da68e6b6335f86219c4717')[0]\n\ttargetMaker(creep, targetWithdraw, 'withdraw')\n\t// run\n\tif (!isFull) {\n\t\tif (pickup(creep, findClosestInRange(creep, creep.room.memory.dropped.energy, 4))) return;\n\t\tif (withdraw(creep, targetWithdraw)) return\n\t} else {\n\t\tif (creep.pos.roomName == creep.memory.target.withdraw.pos.roomName) {\n\t\t\tconst needFill = creep.room.memory.structures.needFill;\n\t\t\tif (transfer(creep, creep.pos.findClosestByRange(needFill))) return;\n\t\t\tconst store = targetFormat(creep.room.memory.flags.store);\n\t\t\tif (store && transfer(creep, store, store.store.energy < store.storeCapacity))return;\n\t\t\tconst tower = creep.room.memory.structures.tower.sort((a, b) => a.energy - b.energy)[0];\n\t\t\tif (transfer(creep, tower, tower.energy < tower.energyCapacity)) return;\n\t\t} else {\n\t\t\ttargetChanger(creep, targetWithdraw, 'withdraw')\n\t\t}\n\t\tif (transfer(creep, Game.getObjectById('58d07b35bfeec6256575be5d'))) return;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farHarvester.js","import {moveTo, harvest, repair, build, findInRange,findClosestInRange, pickup} from '../action'\nimport {fullCheck, targetMaker, createConstructionSite} from '../_util'\nexport default (creep, roomName) => {\n\t// state\n\tconst ifFull = fullCheck(creep);\n\t// target\n\ttargetMaker(creep, Memory.rooms[roomName].sources[0].source, 'harvest')\n\t// task\n\tif (ifFull) {\n\t\ttry {\n\t\t\tif (build(creep, findInRange(creep, creep.room.memory.structures.needBuild, 3)[0]))return;\n\t\t\tconst container = findClosestInRange(Game.getObjectById(creep.memory.target.harvest.id), creep.room.memory.structures.container, 2);\n\t\t\tif (container && !creep.pos.isEqualTo(container.pos) && moveTo(creep, container)) return;\n\t\t\t// const pos = creep.memory.target.harvest.pos\n\t\t\t// if (!container && creep.isNearTo(pos.x, pos.y)) {\n\t\t\t// \tcreateConstructionSite(pos.x, pos.y, STRUCTURE_CONTAINER)\n\t\t\t// }\n\t\t\tif (repair(creep, container, container.hits < container.hitsMax))return;\n\t\t\t\n\t\t} catch (e) {\n\t\t}\n\t} else {\n\t\tif (pickup(creep, findInRange(creep, creep.room.memory.dropped.energy, 1)[0])) return;\n\t}\n\tif (harvest(creep, creep.memory.target.harvest)) return;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farMiner.js","import { fullCheck, targetMaker, targetChanger,targetFormat } from '../_util'\nimport { findInRange, pickup, withdraw, upgradeController } from '../action'\nexport default (creep, roomName) => {\n\t// state\n\tconst ifFull = fullCheck(creep);\n\t// target\n\ttargetMaker(creep, Memory.rooms[roomName].structures.container[0], 'withdraw')\n\t// task\n\tif (!ifFull) {\n\t\tif (pickup(creep, findInRange(creep, creep.room.memory.dropped.energy, 2)[0])) return;\n\t\tconst store = targetFormat(creep.room.memory.flags.store);\n\t\tif (store && withdraw(creep, store, store.store.energy > 0))return;\n\t\tif (withdraw(creep, Memory.rooms[roomName].structures.spawn)) return;\n\t\tif (withdraw(creep, creep.memory.target.withdraw)) return;\n\t} else {\n\t\ttargetChanger(creep, Memory.rooms[roomName].structures.container[0], 'withdraw')\n\t\tif (upgradeController(creep, creep.room.controller)) return;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_farUpgrader.js","import {fullCheck} from '../_util'\nimport {transfer, pickup, withdraw} from '../action'\nexport default (creep) => {\n\n\t\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_harvester.js","import { fullCheck, targetMaker, targetChanger } from '../_util'\nimport { transfer, pickup, withdraw, findInRange } from '../action'\nexport default (creep) => {\n\t// memory\n\tconst isFull = fullCheck(creep)\n\t// task\n\tlet link = creep.room.memory.structures.link.filter(link => link.id != creep.room.memory.config.linkMain)[0]\n\t// run\n\tif (!isFull) {\n\t\tif (pickup(creep, findInRange(creep, creep.room.memory.dropped.energy, 4)[0])) return;\n\t\tconst container = findInRange(link, creep.room.memory.structures.container, 2)[0]\n\t\tif (withdraw(creep, container, container && container.store.energy > 0))return;\n\t} else {\n\t\tif (link && transfer(creep, link, link.energy < link.energyCapacity)) return;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_linker.js","import { fullCheck, targetMaker } from '../_util'\nimport { build, harvest, repair, findInRange, moveTo, pickup } from '../action'\nexport default (creep) => {\n\t// root\n\tconst isFull = fullCheck(creep)\n\t// target\n\ttargetMaker(creep, creep.room.memory.sources[0].source, 'harvest')\n\tconst harvestTarget = Game.getObjectById(creep.memory.target.harvest.id)\n\n\t// task\n\tif (isFull) {\n\t\ttry {\n\t\t\tconst container = findInRange(harvestTarget, creep.room.memory.structures.container, 2)[0];\n\t\t\tif (!creep.pos.isEqualTo(container.pos) && moveTo(creep, container)) return;\n\t\t\tif (repair(creep, container, container.hits < container.hitsMax)) return;\n\t\t\tif (build(creep, findInRange(creep, creep.room.memory.structures.needBuild, 3)[0]))return;\n\t\t} catch (e) {}\n\t} else {\n\t\t\tif (pickup(creep, findInRange(creep, creep.room.memory.dropped.energy, 1)[0])) return;\n\t}\n\tif (harvest(creep, harvestTarget)) return;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/role/_miner.js","import { fullCheck } from '../_util'\nimport { withdraw, upgradeController, findClosestByRange } from '../action'\nexport default  (creep) => {\n\t// state\n\tconst isfFull = fullCheck(creep)\n\t// task\n\tif (!isfFull) {\n\t\tif (withdraw(creep, findClosestByRange(creep, creep.room.memory.structures.canWithdraw))) return;\n\t} else {\n\t\tif (upgradeController(creep, creep.room.controller)) return;\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/_upgrader.js","export { default as harvester } from './_harvester';\nexport { default as linker } from './_linker';\nexport { default as upgrader } from'./_upgrader';\nexport { default as builder } from'./_builder';\nexport { default as miner } from'./_miner';\nexport { default as cleaner } from'./_cleaner';\n// far\nexport { default as farBuilder } from './_farBuilder';\nexport { default as farHarvester } from './_farHarvester';\nexport { default as farMiner } from './_farMiner';\nexport { default as farUpgrader } from './_farUpgrader';\nexport { default as claim } from './_claim';\n// attacker\nexport { default as attacker } from './_attacker';\n\n\n\n// WEBPACK FOOTER //\n// ./src/role/index.js","export default  (roomArray = []) => {\n\tconst roleConfig = {\n\t\t// [name , body , num[main,extra], time]\n\t\tfiller   : [{carry: 6}, [2, 0], 10],\n\t\tcleaner  : [{carry: 4}, [1, 0], 10],\n\t\tminer    : [{work: 8, carry: 1, move: 4}, [1, 1], 10],\n\t\ttranser  : [{carry: 8}, [1, 1], 10],\n\t\tlinker   : [{carry: 1}, [1, 0], 10],\n\t\tbuilder  : [{work: 2, carry: 6}, [1, 1], 10],\n\t\trepairer : [{work: 2, carry: 6}, [0, 1], 10],\n\t\tupgrader : [{work: 4, carry: 2}, [3, 0], 10],\n\t\tclaimer  : [{claim: 2}, [0, 1], 10],\n\t\ttraveller: [{move: 1}, [0, 0], 10],\n\t\tattacker : [{tough: 10, attack: 4}, [0, 0], 100],\n\t}\n\treturn buildRole(roleConfig, roomArray)\n}\n\nfunction buildRole(config = {}, roomArray = []) {\n\tlet i         = 0, proprity = 0;\n\tlet newConfig = {}\n\t_.forEach(roomArray, (roomName) => {\n\t\t_.forEach(config, (array, key) => {\n\t\t\tlet name   = key,\n\t\t\t    body   = buildBody(array[0]),\n\t\t\t    number = (i == 0) ? array[1][0] : array[1][1];\n\t\t\tnumber     = buildNumber(key, number, roomName);\n\t\t\tif (number == 0) return;\n\t\t\tif (i > 0) name = name + '#' + roomName;\n\n\t\t\tnewConfig[name] = {\n\t\t\t\trole    : key,\n\t\t\t\troomName: roomName,\n\t\t\t\troomType: (i == 0) ? \"main\" : \"extra\",\n\t\t\t\tbody    : body[0],\n\t\t\t\tcost    : body[1],\n\t\t\t\tnumber  : number,\n\t\t\t\ttimeout : array[2],\n\t\t\t\tproprity: proprity\n\t\t\t}\n\t\t\tproprity++;\n\t\t})\n\t\ti++;\n\t})\n\treturn newConfig;\n}\n\nfunction buildNumber(role, number, roomName) {\n\ttry {\n\t\tconst room = Memory.rooms[roomName]\n\t\tswitch (role) {\n\t\t\tcase 'miner':\n\t\t\t\tnumber = room.sources.length * number\n\t\t\t\tbreak\n\t\t\tcase 'transer':\n\t\t\t\tnumber = room.sources.length * number - room.structures.link.length + 1\n\t\t\t\tbreak\n\t\t\tcase 'builder':\n\t\t\t\tnumber = Math.ceil(room.structures.needBuild.length / 4)\n\t\t}\n\t\treturn number\n\t} catch (e) {\n\t\tconsole.log(`# Error BuildNumber ${role}-${roomName} ${e}`)\n\t\treturn 0\n\t}\n}\n\nconst partCost = {\n\t\"move\"         : 50,\n\t\"work\"         : 100,\n\t\"attack\"       : 80,\n\t\"carry\"        : 50,\n\t\"heal\"         : 250,\n\t\"ranged_attack\": 150,\n\t\"tough\"        : 10,\n\t\"claim\"        : 600\n}\n\nconst partProprity = {\n\t\"tough\"        : 1,\n\t\"carry\"        : 2,\n\t\"work\"         : 3,\n\t\"move\"         : 4,\n\t\"attack\"       : 5,\n\t\"ranged_attack\": 6,\n\t\"claim\"        : 7,\n\t\"heal\"         : 8,\n}\n\n\n\nfunction buildBody(obj = {}) {\n\tlet cost = 0,\n\t    body = buildBodyFormat(obj)\n\t_.forEach(body, part => {\n\t\tcost = cost + partCost[part]\n\t})\n\treturn [body, cost]\n}\n\nfunction buildBodyFormat(obj = {}) {\n\tlet move, tough = [], bodyArray = [];\n\tmove            = Math.ceil(_.sum(obj) / 2);\n\tif (obj.tough) {\n\t\ttough = _.fill(Array(obj.tough), 'tough')\n\t\tdelete (obj.tough)\n\t}\n\tif (obj.move) {\n\t\tmove = (move > obj.move) ? obj.move : move;\n\t\tdelete (obj.move)\n\t}\n\t_.forEach(obj, (n, key) => bodyArray.push(_.fill(Array(n), key)));\n\tbodyArray = _.sortBy(bodyArray, n => partProprity[n[0]])\n\tif (obj.tough) bodyArray.unshift(tough)\n\tbodyArray = _.compact(_.flatten(bodyArray))\n\tbodyArray = _.chunk(bodyArray, 2);\n\tfor (let i = move; i > 0; i--) bodyArray[i] = _.flatten([bodyArray[i], 'move'])\n\tbodyArray = _.compact(_.flattenDeep(bodyArray))\n\tbodyArray.shift()\n\treturn bodyArray\n}\n\n\n// WEBPACK FOOTER //\n// ./src/setting/_role.js","export default [\n\t['W81S67', 'W81S66'],\n\t['W82S67']\n]\n\n\n// WEBPACK FOOTER //\n// ./src/setting/_room.js","export default (link) => {\n\tconst linkMain = link.room.memory.config.linkMain;\n\tif (link.id == linkMain || link.cooldown > 0 || link.energy < link.energyCapacity) return;\n\tconst target = Game.getObjectById(linkMain);\n\tif (target.energy == 0)link.transferEnergy(target);\n\t\n}\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_link.js","import { emoji, timer } from '../_util'\nexport default (spawn, configRole) => {\n\t// let target = spawn.pos.findInRange(spawn.room.memory.creeps.my.attacker, 1)\n\t// if (target && target.length > 0) {\n\t// \tconsole.log(spawn.recycleCreep(target[0]))\n\t//\n\t// }\n\tif (spawn.spawning) {\n\t\tconst percent = Math.round((1 - spawn.spawning.remainingTime / spawn.spawning.needTime) * 100),\n\t\t      text    = [\n\t\t\t      emoji.build,\n\t\t\t      spawn.spawning.name.split('#')[0],\n\t\t\t      `(${percent}%)`\n\t\t      ].join(' ');\n\t\tconsole.log(text);\n\t\tspawn.room.visual.text(\n\t\t\ttext,\n\t\t\tspawn.pos.x + 1,\n\t\t\tspawn.pos.y,\n\t\t\t{\n\t\t\t\talign     : 'left',\n\t\t\t\tstroke    : '#111111',\n\t\t\t\tcolor     : '#ffffff',\n\t\t\t\tfont      : 0.5,\n\t\t\t\tbackground: 'rgba(0,0,0,.5)'\n\t\t\t});\n\t\treturn;\n\t}\n\tif (timer(2)) {\n\t\tconst roleFactory = configRole\n\t\tlet priority      = false;\n\t\troleFactory.forEach(roleType => {\n\t\t\tconst roleName    = roleType.role;\n\t\t\tconst roleTimeout = (roleType.timeout) ? roleType.timeout : 10;\n\t\t\tconst roleMy      = _.filter(Memory.global.creeps[roleName], roleCreep => roleCreep.ticksToLive >= roleTimeout)\n\t\t\tif (roleMy.length - roleType.number >= 0 || priority) return;\n\t\t\tconst spawnName = `${roleName}#${Game.time}`;\n\t\t\tspawn.createCreep(buildBody(roleType.body), spawnName, {\n\t\t\t\tbornRoom: spawn.room.name,\n\t\t\t\tbornTime: Game.time,\n\t\t\t\trole    : roleName,\n\t\t\t\tname    : spawnName,\n\t\t\t\ttarget  : {}\n\t\t\t})\n\t\t\tconsole.log(emoji.build, roleName, 'now:', roleMy.length, 'need:', roleType.number);\n\t\t\tpriority = true;\n\t\t})\n\t}\n}\n\nfunction buildBody(obj) {\n\tlet bodyArray = [];\n\tlet move;\n\tif (!obj.move) {\n\t\tmove = Math.ceil(_.sum(obj) / 2);\n\t} else {\n\t\tmove = obj.move;\n\t\tdelete (obj.move)\n\t}\n\t_.forEach(obj, (n, key) => {\n\t\tbodyArray = bodyArray.concat(_.fill(Array(n), key))\n\t});\n\tbodyArray = _.chunk(bodyArray, 2);\n\n\tfor (let i = move; i > 0; i--) {\n\t\tbodyArray[i] = _.flatten([bodyArray[i], 'move'])\n\t}\n\treturn _.compact(_.flattenDeep(bodyArray))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_spawn.js","export default (tower) => {\n\tconst needFix = tower.room.memory.structures.needFix,\n\t      enemy   = tower.room.memory.creeps.enemy;\n\tif (enemy.length > 0) {\n\t\ttower.attack(enemy[0])\n\t} else if (needFix.length > 0) {\n\t\ttower.repair(needFix[0])\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/structure/_tower.js","export {default as tower} from \"./_tower\"\nexport {default as spawn} from \"./_spawn\"\nexport {default as link} from \"./_link\"\n\n\n// WEBPACK FOOTER //\n// ./src/structure/index.js","import { color, table, emoji } from '../_util'\nexport default (roomName, timeout) => {\n\t\"use strict\";\n\tconst room          = Game.rooms[roomName];\n\tconst gcl           = Game.gcl,\n\t      gclLeft       = Math.floor(gcl.progressTotal - gcl.progress),\n\t      gclSpeed      = Math.round((gcl.progress - Memory.timer['gcl']) / timeout),\n\t      gclProcess    = Math.round(gcl.progress / gcl.progressTotal * 100),\n\t      gclTimeLeft   = Math.round(gclLeft / gclSpeed),\n\t      gclHourLeft   = Math.floor(gclTimeLeft * 5 / 3600 * 100) / 100;\n\tMemory.timer['gcl'] = gcl.progress;\n\n\tconst rcl           = room.controller,\n\t      rclProcess    = Math.round(rcl.progress / rcl.progressTotal * 100),\n\t      rclSpeed      = Math.round((rcl.progress - Memory.timer['rcl']) / timeout),\n\t      rclLeft       = rcl.progressTotal - rcl.progress,\n\t      rclTimeLeft   = Math.round(rclLeft / rclSpeed),\n\t      rclHourLeft   = Math.floor(rclTimeLeft * 5 / 3600 * 100) / 100;\n\tMemory.timer['rcl'] = rcl.progress;\n\n\tconst rcl2           = Game.rooms['W82S67'].controller,\n\t      rcl2Process    = Math.round(rcl2.progress / rcl2.progressTotal * 100),\n\t      rcl2Speed      = Math.round((rcl2.progress - Memory.timer['rcl2']) / timeout),\n\t      rcl2Left       = rcl2.progressTotal - rcl2.progress,\n\t      rcl2TimeLeft   = Math.round(rcl2Left / rcl2Speed),\n\t      rcl2HourLeft   = Math.floor(rcl2TimeLeft * 5 / 3600 * 100) / 100;\n\tMemory.timer['rcl2'] = rcl2.progress;\n\n\tconst gclLog      = {\n\t\theader: ['Type', 'Lvl', 'Progress', 'EnergyLeft', 'Speed(e/t)', 'TickLeft', 'HourLeft'],\n\t\tbody  : [\n\t\t\t[color.blue('GCL'), gcl.level, `${gclProcess}%`, gclLeft, gclSpeed, gclTimeLeft, gclHourLeft],\n\t\t\t[color.orange('RCL 1'), rcl.level, `${rclProcess}%`, rclLeft, rclSpeed, rclTimeLeft, rclHourLeft],\n\t\t\t[color.orange('RCL 2'), rcl2.level, `${rcl2Process}%`, rcl2Left, rcl2Speed, rcl2TimeLeft, rcl2HourLeft],\n\t\t]\n\t}\n\t//\n\tconst extension   = room.memory.structures.extension;\n\tlet extensionFull = 0;\n\textension.forEach(ex => {\n\t\t                  if (ex.energy == ex.energyCapacity) extensionFull++\n\t                  }\n\t);\n\tlet configCreepNum = 0,\n\t    roleLog        = [\n\t\t    {\n\t\t\t    header: [],\n\t\t\t    body  : [[]]\n\t\t    }, {\n\t\t\t    header: [],\n\t\t\t    body  : [[]]\n\t\t    }\n\t    ];\n\troom.memory.config.role.forEach(role => {\n\t\t                                configCreepNum = configCreepNum + role.number;\n\t\t                                let NowCreeps  = Memory.global.creeps[role.role]\n\t\t                                let NowNum     = (NowCreeps) ? NowCreeps.length : 0\n\t\t                                let i          = (role.role.match('far')) ? 1 : 0\n\t\t                                roleLog[i].header.push(role.role);\n\t\t                                roleLog[i].body[0].push(`${NowNum}/${role.number}`)\n\t                                }\n\t)\n\tconst energyLog = {\n\t\theader: ['Storage', 'Spawn', 'Extension', 'CanUse', 'Creeps', 'Cpu', 'Bucket'],\n\t\tbody  : [\n\t\t\t[\n\t\t\t\tcolor.yellow(room.memory.structures.storage.store.energy),\n\t\t\t\troom.memory.structures.spawn.energy,\n\t\t\t\textensionFull + '/' + extension.length,\n\t\t\t\textensionFull * 50 + room.memory.structures.spawn.energy,\n\t\t\t\tObject.keys(Memory.creeps).length + '/' + configCreepNum,\n\t\t\t\tMath.floor(Game.cpu.getUsed()) + '/' + Game.cpu.limit,\n\t\t\t\tGame.cpu.bucket\n\t\t\t]\n\t\t]\n\t}\n\n\tconsole.log(color.grey(`# Gametime ${Game.time}`),\n\t            table(gclLog),\n\t            table(energyLog),\n\t            table(roleLog[0]),\n\t            table(roleLog[1])\n\t);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/task/_log.js","const trigger = () => {\n\tisSafe('W81S66')\n\t// isSafe('W82S67')\n}\n\ntrigger.install = () => {\n\tMemory.trigger = {\n\t\tnoEnemy: {\n\t\t\t'W81S66': {\n\t\t\t\ttimeout: 0,\n\t\t\t\tsafe   : true\n\t\t\t},\n\t\t\t'W82S67': {\n\t\t\t\ttimeout: 0,\n\t\t\t\tsafe   : true\n\t\t\t},\n\t\t}\n\t};\n}\nexport default trigger;\n\nfunction isSafe(roomName) {\n\ttry{\n\tconst trigger = Memory.trigger.noEnemy[roomName];\n\tif (trigger.safe && Memory.rooms[roomName].creeps.enemy.length > 0) {\n\t\tMemory.trigger.noEnemy[roomName] = {\n\t\t\tsafe   : false,\n\t\t\ttimeout: Game.time\n\t\t}\n\t\tconsole.log('# [Warn]', roomName, 'Enemy Attack !')\n\t}\n\tif (!trigger.safe) {\n\t\tconst safeTimeout = Game.time - trigger.timeout\n\t\tconsole.log('# [Warn]', roomName, 'Safe Timeout:', `${safeTimeout}/${Memory.rooms[roomName].creeps.enemy[0].ticksToLive}`)\n\t\tif (Game.time - trigger.timeout > Memory.rooms[roomName].creeps.enemy[0].ticksToLive) {\n\t\t\tconsole.log('# [Warn]', roomName, 'Safe Now !')\n\t\t\tMemory.trigger.noEnemy[roomName].safe = true;\n\t\t\tMemory.rooms[roomName].creeps.enemy   = [];\n\t\t}\n\t}\n\t}catch (e){\n\t\tMemory.trigger.noEnemy[roomName].safe = true;\n\t\tMemory.rooms[roomName].creeps.enemy   = [];\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/task/_trigger.js"],"sourceRoot":""}